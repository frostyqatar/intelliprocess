(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();function uh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zr={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function vv(){if(Em)return jo;Em=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var g in c)g!=="key"&&(f[g]=c[g])}else f=c;return c=f.ref,{$$typeof:n,type:l,key:m,ref:c!==void 0?c:null,props:f}}return jo.Fragment=e,jo.jsx=o,jo.jsxs=o,jo}var xm;function Tv(){return xm||(xm=1,Zr.exports=vv()),Zr.exports}var _=Tv(),Wr={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Cv(){if(Am)return ye;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,V={};function J(M,P,O){this.props=M,this.context=P,this.refs=V,this.updater=O||x}J.prototype.isReactComponent={},J.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=J.prototype;function q(M,P,O){this.props=M,this.context=P,this.refs=V,this.updater=O||x}var L=q.prototype=new K;L.constructor=q,I(L,J.prototype),L.isPureReactComponent=!0;var $=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function W(M,P,O,X,j,pe){return O=pe.ref,{$$typeof:n,type:M,key:P,ref:O!==void 0?O:null,props:pe}}function Q(M,P){return W(M.type,P,void 0,void 0,void 0,M.props)}function ne(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ue(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(O){return P[O]})}var de=/\/+/g;function Ce(M,P){return typeof M=="object"&&M!==null&&M.key!=null?ue(""+M.key):P.toString(36)}function ot(){}function lt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ot,ot):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function xe(M,P,O,X,j){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var se=!1;if(M===null)se=!0;else switch(pe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(M.$$typeof){case n:case e:se=!0;break;case v:return se=M._init,xe(se(M._payload),P,O,X,j)}}if(se)return j=j(M),se=X===""?"."+Ce(M,0):X,$(j)?(O="",se!=null&&(O=se.replace(de,"$&/")+"/"),xe(j,P,O,"",function(te){return te})):j!=null&&(ne(j)&&(j=Q(j,O+(j.key==null||M&&M.key===j.key?"":(""+j.key).replace(de,"$&/")+"/")+se)),P.push(j)),1;se=0;var ze=X===""?".":X+":";if($(M))for(var Y=0;Y<M.length;Y++)X=M[Y],pe=ze+Ce(X,Y),se+=xe(X,P,O,pe,j);else if(Y=S(M),typeof Y=="function")for(M=Y.call(M),Y=0;!(X=M.next()).done;)X=X.value,pe=ze+Ce(X,Y++),se+=xe(X,P,O,pe,j);else if(pe==="object"){if(typeof M.then=="function")return xe(lt(M),P,O,X,j);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return se}function H(M,P,O){if(M==null)return M;var X=[],j=0;return xe(M,X,"","",function(pe){return P.call(O,pe,j++)}),X}function Z(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(O){(M._status===0||M._status===-1)&&(M._status=1,M._result=O)},function(O){(M._status===0||M._status===-1)&&(M._status=2,M._result=O)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var re=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ae(){}return ye.Children={map:H,forEach:function(M,P,O){H(M,function(){P.apply(this,arguments)},O)},count:function(M){var P=0;return H(M,function(){P++}),P},toArray:function(M){return H(M,function(P){return P})||[]},only:function(M){if(!ne(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ye.Component=J,ye.Fragment=o,ye.Profiler=c,ye.PureComponent=q,ye.StrictMode=l,ye.Suspense=y,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ye.__COMPILER_RUNTIME={__proto__:null,c:function(M){return k.H.useMemoCache(M)}},ye.cache=function(M){return function(){return M.apply(null,arguments)}},ye.cloneElement=function(M,P,O){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=I({},M.props),j=M.key,pe=void 0;if(P!=null)for(se in P.ref!==void 0&&(pe=void 0),P.key!==void 0&&(j=""+P.key),P)!F.call(P,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&P.ref===void 0||(X[se]=P[se]);var se=arguments.length-2;if(se===1)X.children=O;else if(1<se){for(var ze=Array(se),Y=0;Y<se;Y++)ze[Y]=arguments[Y+2];X.children=ze}return W(M.type,j,void 0,void 0,pe,X)},ye.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ye.createElement=function(M,P,O){var X,j={},pe=null;if(P!=null)for(X in P.key!==void 0&&(pe=""+P.key),P)F.call(P,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(j[X]=P[X]);var se=arguments.length-2;if(se===1)j.children=O;else if(1<se){for(var ze=Array(se),Y=0;Y<se;Y++)ze[Y]=arguments[Y+2];j.children=ze}if(M&&M.defaultProps)for(X in se=M.defaultProps,se)j[X]===void 0&&(j[X]=se[X]);return W(M,pe,void 0,void 0,null,j)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(M){return{$$typeof:g,render:M}},ye.isValidElement=ne,ye.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:Z}},ye.memo=function(M,P){return{$$typeof:p,type:M,compare:P===void 0?null:P}},ye.startTransition=function(M){var P=k.T,O={};k.T=O;try{var X=M(),j=k.S;j!==null&&j(O,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Ae,re)}catch(pe){re(pe)}finally{k.T=P}},ye.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ye.use=function(M){return k.H.use(M)},ye.useActionState=function(M,P,O){return k.H.useActionState(M,P,O)},ye.useCallback=function(M,P){return k.H.useCallback(M,P)},ye.useContext=function(M){return k.H.useContext(M)},ye.useDebugValue=function(){},ye.useDeferredValue=function(M,P){return k.H.useDeferredValue(M,P)},ye.useEffect=function(M,P,O){var X=k.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(M,P)},ye.useId=function(){return k.H.useId()},ye.useImperativeHandle=function(M,P,O){return k.H.useImperativeHandle(M,P,O)},ye.useInsertionEffect=function(M,P){return k.H.useInsertionEffect(M,P)},ye.useLayoutEffect=function(M,P){return k.H.useLayoutEffect(M,P)},ye.useMemo=function(M,P){return k.H.useMemo(M,P)},ye.useOptimistic=function(M,P){return k.H.useOptimistic(M,P)},ye.useReducer=function(M,P,O){return k.H.useReducer(M,P,O)},ye.useRef=function(M){return k.H.useRef(M)},ye.useState=function(M){return k.H.useState(M)},ye.useSyncExternalStore=function(M,P,O){return k.H.useSyncExternalStore(M,P,O)},ye.useTransition=function(){return k.H.useTransition()},ye.version="19.1.1",ye}var _m;function Eu(){return _m||(_m=1,Wr.exports=Cv()),Wr.exports}var ge=Eu();const xu=uh(ge);var jr={exports:{}},el={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Sv(){return Mm||(Mm=1,(function(n){function e(H,Z){var re=H.length;H.push(Z);e:for(;0<re;){var Ae=re-1>>>1,M=H[Ae];if(0<c(M,Z))H[Ae]=Z,H[re]=M,re=Ae;else break e}}function o(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var Z=H[0],re=H.pop();if(re!==Z){H[0]=re;e:for(var Ae=0,M=H.length,P=M>>>1;Ae<P;){var O=2*(Ae+1)-1,X=H[O],j=O+1,pe=H[j];if(0>c(X,re))j<M&&0>c(pe,X)?(H[Ae]=pe,H[j]=re,Ae=j):(H[Ae]=X,H[O]=re,Ae=O);else if(j<M&&0>c(pe,re))H[Ae]=pe,H[j]=re,Ae=j;else break e}}return Z}function c(H,Z){var re=H.sortIndex-Z.sortIndex;return re!==0?re:H.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();n.unstable_now=function(){return m.now()-g}}var y=[],p=[],v=1,C=null,S=3,x=!1,I=!1,V=!1,J=!1,K=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var Z=o(p);Z!==null;){if(Z.callback===null)l(p);else if(Z.startTime<=H)l(p),Z.sortIndex=Z.expirationTime,e(y,Z);else break;Z=o(p)}}function k(H){if(V=!1,$(H),!I)if(o(y)!==null)I=!0,F||(F=!0,Ce());else{var Z=o(p);Z!==null&&xe(k,Z.startTime-H)}}var F=!1,W=-1,Q=5,ne=-1;function ue(){return J?!0:!(n.unstable_now()-ne<Q)}function de(){if(J=!1,F){var H=n.unstable_now();ne=H;var Z=!0;try{e:{I=!1,V&&(V=!1,q(W),W=-1),x=!0;var re=S;try{t:{for($(H),C=o(y);C!==null&&!(C.expirationTime>H&&ue());){var Ae=C.callback;if(typeof Ae=="function"){C.callback=null,S=C.priorityLevel;var M=Ae(C.expirationTime<=H);if(H=n.unstable_now(),typeof M=="function"){C.callback=M,$(H),Z=!0;break t}C===o(y)&&l(y),$(H)}else l(y);C=o(y)}if(C!==null)Z=!0;else{var P=o(p);P!==null&&xe(k,P.startTime-H),Z=!1}}break e}finally{C=null,S=re,x=!1}Z=void 0}}finally{Z?Ce():F=!1}}}var Ce;if(typeof L=="function")Ce=function(){L(de)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,lt=ot.port2;ot.port1.onmessage=de,Ce=function(){lt.postMessage(null)}}else Ce=function(){K(de,0)};function xe(H,Z){W=K(function(){H(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(H){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var re=S;S=Z;try{return H()}finally{S=re}},n.unstable_requestPaint=function(){J=!0},n.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=S;S=H;try{return Z()}finally{S=re}},n.unstable_scheduleCallback=function(H,Z,re){var Ae=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ae+re:Ae):re=Ae,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=re+M,H={id:v++,callback:Z,priorityLevel:H,startTime:re,expirationTime:M,sortIndex:-1},re>Ae?(H.sortIndex=re,e(p,H),o(y)===null&&H===o(p)&&(V?(q(W),W=-1):V=!0,xe(k,re-Ae))):(H.sortIndex=M,e(y,H),I||x||(I=!0,F||(F=!0,Ce()))),H},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(H){var Z=S;return function(){var re=S;S=Z;try{return H.apply(this,arguments)}finally{S=re}}}})(tu)),tu}var Rm;function Ev(){return Rm||(Rm=1,eu.exports=Sv()),eu.exports}var nu={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function xv(){if(Dm)return rt;Dm=1;var n=Eu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,rt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},rt.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},rt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},rt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},rt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:x}):v==="script"&&l.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},rt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},rt.requestFormReset=function(y){l.d.r(y)},rt.unstable_batchedUpdates=function(y,p){return y(p)},rt.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},rt.useFormStatus=function(){return m.H.useHostTransitionStatus()},rt.version="19.1.1",rt}var Nm;function Av(){if(Nm)return nu.exports;Nm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nu.exports=xv(),nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function _v(){if(wm)return el;wm=1;var n=Ev(),e=Eu(),o=Av();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(l(188));return i!==t?null:t}for(var s=t,u=i;;){var d=s.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){s=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===s)return g(d),t;if(h===u)return g(d),i;h=h.sibling}throw Error(l(188))}if(s.return!==u.return)s=d,u=h;else{for(var T=!1,E=d.child;E;){if(E===s){T=!0,s=d,u=h;break}if(E===u){T=!0,u=d,s=h;break}E=E.sibling}if(!T){for(E=h.child;E;){if(E===s){T=!0,s=h,u=d;break}if(E===u){T=!0,u=h,s=d;break}E=E.sibling}if(!T)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ot?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case J:return"Profiler";case V:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case L:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:lt(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return lt(t(i))}catch{}}return null}var xe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ae=[],M=-1;function P(t){return{current:t}}function O(t){0>M||(t.current=Ae[M],Ae[M]=null,M--)}function X(t,i){M++,Ae[M]=t.current,t.current=i}var j=P(null),pe=P(null),se=P(null),ze=P(null);function Y(t,i){switch(X(se,i),X(pe,t),X(j,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Qd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Qd(i),t=Zd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}O(j),X(j,t)}function te(){O(j),O(pe),O(se)}function ee(t){t.memoizedState!==null&&X(ze,t);var i=j.current,s=Zd(i,t.type);i!==s&&(X(pe,t),X(j,s))}function oe(t){pe.current===t&&(O(j),O(pe)),ze.current===t&&(O(ze),Xo._currentValue=re)}var Ne=Object.prototype.hasOwnProperty,Ie=n.unstable_scheduleCallback,zt=n.unstable_cancelCallback,ft=n.unstable_shouldYield,ji=n.unstable_requestPaint,dt=n.unstable_now,ks=n.unstable_getCurrentPriorityLevel,eo=n.unstable_ImmediatePriority,wu=n.unstable_UserBlockingPriority,rl=n.unstable_NormalPriority,jh=n.unstable_LowPriority,Uu=n.unstable_IdlePriority,eg=n.log,tg=n.unstable_setDisableYieldValue,to=null,Tt=null;function dn(t){if(typeof eg=="function"&&tg(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(to,t)}catch{}}var Ct=Math.clz32?Math.clz32:og,ng=Math.log,ig=Math.LN2;function og(t){return t>>>=0,t===0?32:31-(ng(t)/ig|0)|0}var ul=256,cl=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fl(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var E=u&134217727;return E!==0?(u=E&~h,u!==0?d=Hn(u):(T&=E,T!==0?d=Hn(T):s||(s=E&~t,s!==0&&(d=Hn(s))))):(E=u&~h,E!==0?d=Hn(E):T!==0?d=Hn(T):s||(s=u&~t,s!==0&&(d=Hn(s)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,s=i&-i,h>=s||h===32&&(s&4194048)!==0)?i:d}function no(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var t=ul;return ul<<=1,(ul&4194048)===0&&(ul=256),t}function bu(){var t=cl;return cl<<=1,(cl&62914560)===0&&(cl=4194304),t}function Gs(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function io(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sg(t,i,s,u,d,h){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,w=t.hiddenUpdates;for(s=T&~s;0<s;){var G=31-Ct(s),z=1<<G;E[G]=0,A[G]=-1;var U=w[G];if(U!==null)for(w[G]=null,G=0;G<U.length;G++){var b=U[G];b!==null&&(b.lane&=-536870913)}s&=~z}u!==0&&Lu(t,u,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~i))}function Lu(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Ct(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&4194090}function Vu(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-Ct(s),d=1<<u;d&i|t[u]&i&&(t[u]|=i),s&=~d}}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:gm(t.type))}function ag(t,i){var s=Z.p;try{return Z.p=t,i()}finally{Z.p=s}}var mn=Math.random().toString(36).slice(2),st="__reactFiber$"+mn,mt="__reactProps$"+mn,oi="__reactContainer$"+mn,Fs="__reactEvents$"+mn,rg="__reactListeners$"+mn,ug="__reactHandles$"+mn,Hu="__reactResources$"+mn,oo="__reactMarker$"+mn;function Ys(t){delete t[st],delete t[mt],delete t[Fs],delete t[rg],delete t[ug]}function li(t){var i=t[st];if(i)return i;for(var s=t.parentNode;s;){if(i=s[oi]||s[st]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=tm(t);t!==null;){if(s=t[st])return s;t=tm(t)}return i}t=s,s=t.parentNode}return null}function si(t){if(t=t[st]||t[oi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function lo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function ai(t){var i=t[Hu];return i||(i=t[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[oo]=!0}var qu=new Set,ku={};function qn(t,i){ri(t,i),ri(t+"Capture",i)}function ri(t,i){for(ku[t]=i,t=0;t<i.length;t++)qu.add(i[t])}var cg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},Bu={};function fg(t){return Ne.call(Bu,t)?!0:Ne.call(Gu,t)?!1:cg.test(t)?Bu[t]=!0:(Gu[t]=!0,!1)}function dl(t,i,s){if(fg(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ml(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Xt(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}var Js,zu;function ui(t){if(Js===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",zu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+t+zu}var Os=!1;function Ks(t,i){if(!t||Os)return"";Os=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(b){var U=b}Reflect.construct(t,[],z)}else{try{z.call()}catch(b){U=b}t.call(z.prototype)}}else{try{throw Error()}catch(b){U=b}(z=t())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(b){if(b&&U&&typeof b.stack=="string")return[b.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),T=h[0],E=h[1];if(T&&E){var A=T.split(`
`),w=E.split(`
`);for(d=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(u===A.length||d===w.length)for(u=A.length-1,d=w.length-1;1<=u&&0<=d&&A[u]!==w[d];)d--;for(;1<=u&&0<=d;u--,d--)if(A[u]!==w[d]){if(u!==1||d!==1)do if(u--,d--,0>d||A[u]!==w[d]){var G=`
`+A[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=d);break}}}finally{Os=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ui(s):""}function dg(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ks(t.type,!1);case 11:return Ks(t.type.render,!1);case 1:return Ks(t.type,!0);case 31:return ui("Activity");default:return""}}function Fu(t){try{var i="";do i+=dg(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mg(t){var i=Yu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,h.call(this,T)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pl(t){t._valueTracker||(t._valueTracker=mg(t))}function Ju(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=Yu(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pg=/[\n"\\]/g;function wt(t){return t.replace(pg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Xs(t,i,s,u,d,h,T,E){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Nt(i)):t.value!==""+Nt(i)&&(t.value=""+Nt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?$s(t,T,Nt(i)):s!=null?$s(t,T,Nt(s)):u!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Nt(E):t.removeAttribute("name")}function Ou(t,i,s,u,d,h,T,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;s=s!=null?""+Nt(s):"",i=i!=null?""+Nt(i):s,E||i===t.value||(t.value=i),t.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=E?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function $s(t,i,s){i==="number"&&hl(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ci(t,i,s,u){if(t=t.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=i.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Nt(s),i=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ku(t,i,s){if(i!=null&&(i=""+Nt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Nt(s):""}function Xu(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(l(92));if(xe(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Nt(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u)}function fi(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var hg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||hg.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Qu(t,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&s[d]!==u&&$u(t,d,u)}else for(var h in i)i.hasOwnProperty(h)&&$u(t,h,i[h])}function Qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gl(t){return yg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zs=null;function Ws(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var di=null,mi=null;function Zu(t){var i=si(t);if(i&&(t=i.stateNode)){var s=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Xs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var d=u[mt]||null;if(!d)throw Error(l(90));Xs(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&Ju(u)}break e;case"textarea":Ku(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ci(t,!!s.multiple,i,!1)}}}var js=!1;function Wu(t,i,s){if(js)return t(i,s);js=!0;try{var u=t(i);return u}finally{if(js=!1,(di!==null||mi!==null)&&(ts(),di&&(i=di,t=mi,mi=di=null,Zu(i),t)))for(i=0;i<t.length;i++)Zu(t[i])}}function so(t,i){var s=t.stateNode;if(s===null)return null;var u=s[mt]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if($t)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){ea=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{ea=!1}var pn=null,ta=null,yl=null;function ju(){if(yl)return yl;var t,i=ta,s=i.length,u,d="value"in pn?pn.value:pn.textContent,h=d.length;for(t=0;t<s&&i[t]===d[t];t++);var T=s-t;for(u=1;u<=T&&i[s-u]===d[h-u];u++);return yl=d.slice(t,1<u?1-u:void 0)}function vl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function ec(){return!1}function pt(t){function i(s,u,d,h,T){this._reactName=s,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Tl:ec,this.isPropagationStopped=ec,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=pt(kn),ro=v({},kn,{view:0,detail:0}),vg=pt(ro),na,ia,uo,Sl=v({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:la,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(na=t.screenX-uo.screenX,ia=t.screenY-uo.screenY):ia=na=0,uo=t),na)},movementY:function(t){return"movementY"in t?t.movementY:ia}}),tc=pt(Sl),Tg=v({},Sl,{dataTransfer:0}),Cg=pt(Tg),Sg=v({},ro,{relatedTarget:0}),oa=pt(Sg),Eg=v({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=pt(Eg),Ag=v({},kn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_g=pt(Ag),Mg=v({},kn,{data:0}),nc=pt(Mg),Rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ng[t])?!!i[t]:!1}function la(){return wg}var Ug=v({},ro,{key:function(t){if(t.key){var i=Rg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:la,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ig=pt(Ug),bg=v({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=pt(bg),Lg=v({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:la}),Vg=pt(Lg),Pg=v({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hg=pt(Pg),qg=v({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kg=pt(qg),Gg=v({},kn,{newState:0,oldState:0}),Bg=pt(Gg),zg=[9,13,27,32],sa=$t&&"CompositionEvent"in window,co=null;$t&&"documentMode"in document&&(co=document.documentMode);var Fg=$t&&"TextEvent"in window&&!co,oc=$t&&(!sa||co&&8<co&&11>=co),lc=" ",sc=!1;function ac(t,i){switch(t){case"keyup":return zg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function Yg(t,i){switch(t){case"compositionend":return rc(i);case"keypress":return i.which!==32?null:(sc=!0,lc);case"textInput":return t=i.data,t===lc&&sc?null:t;default:return null}}function Jg(t,i){if(pi)return t==="compositionend"||!sa&&ac(t,i)?(t=ju(),yl=ta=pn=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oc&&i.locale!=="ko"?null:i.data;default:return null}}var Og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Og[t.type]:i==="textarea"}function cc(t,i,s,u){di?mi?mi.push(u):mi=[u]:di=u,i=as(i,"onChange"),0<i.length&&(s=new Cl("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var fo=null,mo=null;function Kg(t){Jd(t,0)}function El(t){var i=lo(t);if(Ju(i))return t}function fc(t,i){if(t==="change")return i}var dc=!1;if($t){var aa;if($t){var ra="oninput"in document;if(!ra){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),ra=typeof mc.oninput=="function"}aa=ra}else aa=!1;dc=aa&&(!document.documentMode||9<document.documentMode)}function pc(){fo&&(fo.detachEvent("onpropertychange",hc),mo=fo=null)}function hc(t){if(t.propertyName==="value"&&El(mo)){var i=[];cc(i,mo,t,Ws(t)),Wu(Kg,i)}}function Xg(t,i,s){t==="focusin"?(pc(),fo=i,mo=s,fo.attachEvent("onpropertychange",hc)):t==="focusout"&&pc()}function $g(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return El(mo)}function Qg(t,i){if(t==="click")return El(i)}function Zg(t,i){if(t==="input"||t==="change")return El(i)}function Wg(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var St=typeof Object.is=="function"?Object.is:Wg;function po(t,i){if(St(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var d=s[u];if(!Ne.call(i,d)||!St(t[d],i[d]))return!1}return!0}function gc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yc(t,i){var s=gc(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gc(s)}}function vc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Tc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hl(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=hl(t.document)}return i}function ua(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jg=$t&&"documentMode"in document&&11>=document.documentMode,hi=null,ca=null,ho=null,fa=!1;function Cc(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;fa||hi==null||hi!==hl(u)||(u=hi,"selectionStart"in u&&ua(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&po(ho,u)||(ho=u,u=as(ca,"onSelect"),0<u.length&&(i=new Cl("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=hi)))}function Gn(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var gi={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},da={},Sc={};$t&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function Bn(t){if(da[t])return da[t];if(!gi[t])return t;var i=gi[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Sc)return da[t]=i[s];return t}var Ec=Bn("animationend"),xc=Bn("animationiteration"),Ac=Bn("animationstart"),ey=Bn("transitionrun"),ty=Bn("transitionstart"),ny=Bn("transitioncancel"),_c=Bn("transitionend"),Mc=new Map,ma="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ma.push("scrollEnd");function kt(t,i){Mc.set(t,i),qn(i,[t])}var Rc=new WeakMap;function Ut(t,i){if(typeof t=="object"&&t!==null){var s=Rc.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Fu(i)},Rc.set(t,i),i)}return{value:t,source:i,stack:Fu(i)}}var It=[],yi=0,pa=0;function xl(){for(var t=yi,i=pa=yi=0;i<t;){var s=It[i];It[i++]=null;var u=It[i];It[i++]=null;var d=It[i];It[i++]=null;var h=It[i];if(It[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}h!==0&&Dc(s,d,h)}}function Al(t,i,s,u){It[yi++]=t,It[yi++]=i,It[yi++]=s,It[yi++]=u,pa|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ha(t,i,s,u){return Al(t,i,s,u),_l(t)}function vi(t,i){return Al(t,null,null,i),_l(t)}function Dc(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var d=!1,h=t.return;h!==null;)h.childLanes|=s,u=h.alternate,u!==null&&(u.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&i!==null&&(d=31-Ct(s),t=h.hiddenUpdates,u=t[d],u===null?t[d]=[i]:u.push(i),i.lane=s|536870912),h):null}function _l(t){if(50<Go)throw Go=0,Sr=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ti={};function iy(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,i,s,u){return new iy(t,i,s,u)}function ga(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qt(t,i){var s=t.alternate;return s===null?(s=Et(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nc(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ml(t,i,s,u,d,h){var T=0;if(u=t,typeof t=="function")ga(t)&&(T=1);else if(typeof t=="string")T=lv(t,s,j.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=Et(31,s,i,d),t.elementType=ne,t.lanes=h,t;case I:return zn(s.children,d,h,i);case V:T=8,d|=24;break;case J:return t=Et(12,s,i,d|2),t.elementType=J,t.lanes=h,t;case k:return t=Et(13,s,i,d),t.elementType=k,t.lanes=h,t;case F:return t=Et(19,s,i,d),t.elementType=F,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case L:T=10;break e;case q:T=9;break e;case $:T=11;break e;case W:T=14;break e;case Q:T=16,u=null;break e}T=29,s=Error(l(130,t===null?"null":typeof t,"")),u=null}return i=Et(T,s,i,d),i.elementType=t,i.type=u,i.lanes=h,i}function zn(t,i,s,u){return t=Et(7,t,u,i),t.lanes=s,t}function ya(t,i,s){return t=Et(6,t,null,i),t.lanes=s,t}function va(t,i,s){return i=Et(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ci=[],Si=0,Rl=null,Dl=0,bt=[],Lt=0,Fn=null,Zt=1,Wt="";function Yn(t,i){Ci[Si++]=Dl,Ci[Si++]=Rl,Rl=t,Dl=i}function wc(t,i,s){bt[Lt++]=Zt,bt[Lt++]=Wt,bt[Lt++]=Fn,Fn=t;var u=Zt;t=Wt;var d=32-Ct(u)-1;u&=~(1<<d),s+=1;var h=32-Ct(i)+d;if(30<h){var T=d-d%5;h=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Zt=1<<32-Ct(i)+d|s<<d|u,Wt=h+t}else Zt=1<<h|s<<d|u,Wt=t}function Ta(t){t.return!==null&&(Yn(t,1),wc(t,1,0))}function Ca(t){for(;t===Rl;)Rl=Ci[--Si],Ci[Si]=null,Dl=Ci[--Si],Ci[Si]=null;for(;t===Fn;)Fn=bt[--Lt],bt[Lt]=null,Wt=bt[--Lt],bt[Lt]=null,Zt=bt[--Lt],bt[Lt]=null}var ct=null,Fe=null,Re=!1,Jn=null,Ft=!1,Sa=Error(l(519));function On(t){var i=Error(l(418,""));throw vo(Ut(i,t)),Sa}function Uc(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[st]=t,i[mt]=u,s){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(s=0;s<zo.length;s++)Ee(zo[s],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Ee("invalid",i),Ou(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),pl(i);break;case"select":Ee("invalid",i);break;case"textarea":Ee("invalid",i),Xu(i,u.value,u.defaultValue,u.children),pl(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||$d(i.textContent,s)?(u.popover!=null&&(Ee("beforetoggle",i),Ee("toggle",i)),u.onScroll!=null&&Ee("scroll",i),u.onScrollEnd!=null&&Ee("scrollend",i),u.onClick!=null&&(i.onclick=rs),i=!0):i=!1,i||On(t)}function Ic(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:ct=ct.return}}function go(t){if(t!==ct)return!1;if(!Re)return Ic(t),Re=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Hr(t.type,t.memoizedProps)),s=!s),s&&Fe&&On(t),Ic(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Fe=Bt(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Fe=null}}else i===27?(i=Fe,wn(t.type)?(t=Br,Br=null,Fe=t):Fe=i):Fe=ct?Bt(t.stateNode.nextSibling):null;return!0}function yo(){Fe=ct=null,Re=!1}function bc(){var t=Jn;return t!==null&&(yt===null?yt=t:yt.push.apply(yt,t),Jn=null),t}function vo(t){Jn===null?Jn=[t]:Jn.push(t)}var Ea=P(null),Kn=null,jt=null;function hn(t,i,s){X(Ea,i._currentValue),i._currentValue=s}function en(t){t._currentValue=Ea.current,O(Ea)}function xa(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function Aa(t,i,s,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=d;for(var A=0;A<i.length;A++)if(E.context===i[A]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),xa(h.return,s,t),u||(T=null);break e}h=E.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=s,h=T.alternate,h!==null&&(h.lanes|=s),xa(T,s,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function To(t,i,s,u){t=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var E=d.type;St(d.pendingProps.value,T.value)||(t!==null?t.push(E):t=[E])}}else if(d===ze.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Xo):t=[Xo])}d=d.return}t!==null&&Aa(i,t,s,u),i.flags|=262144}function Nl(t){for(t=t.firstContext;t!==null;){if(!St(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xn(t){Kn=t,jt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function at(t){return Lc(Kn,t)}function wl(t,i){return Kn===null&&Xn(t),Lc(t,i)}function Lc(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},jt===null){if(t===null)throw Error(l(308));jt=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else jt=jt.next=i;return s}var oy=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ly=n.unstable_scheduleCallback,sy=n.unstable_NormalPriority,$e={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _a(){return{controller:new oy,data:new Map,refCount:0}}function Co(t){t.refCount--,t.refCount===0&&ly(sy,function(){t.controller.abort()})}var So=null,Ma=0,Ei=0,xi=null;function ay(t,i){if(So===null){var s=So=[];Ma=0,Ei=Dr(),xi={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Ma++,i.then(Vc,Vc),i}function Vc(){if(--Ma===0&&So!==null){xi!==null&&(xi.status="fulfilled");var t=So;So=null,Ei=0,xi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ry(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),u}var Pc=H.S;H.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ay(t,i),Pc!==null&&Pc(t,i)};var $n=P(null);function Ra(){var t=$n.current;return t!==null?t:He.pooledCache}function Ul(t,i){i===null?X($n,$n.current):X($n,i.pool)}function Hc(){var t=Ra();return t===null?null:{parent:$e._currentValue,pool:t}}var Eo=Error(l(460)),qc=Error(l(474)),Il=Error(l(542)),Da={then:function(){}};function kc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bl(){}function Gc(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(bl,bl),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zc(t),t;default:if(typeof i.status=="string")i.then(bl,bl);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zc(t),t}throw xo=i,Eo}}var xo=null;function Bc(){if(xo===null)throw Error(l(459));var t=xo;return xo=null,t}function zc(t){if(t===Eo||t===Il)throw Error(l(483))}var gn=!1;function Na(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wa(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(we&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=_l(t),Dc(t,null,s),i}return Al(t,u,i,s),_l(t)}function Ao(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Vu(t,s)}}function Ua(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var d=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,s=s.next}while(s!==null);h===null?d=h=i:h=h.next=i}else d=h=i;s={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ia=!1;function _o(){if(Ia){var t=xi;if(t!==null)throw t}}function Mo(t,i,s,u){Ia=!1;var d=t.updateQueue;gn=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,w=A.next;A.next=null,T===null?h=w:T.next=w,T=A;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==T&&(E===null?G.firstBaseUpdate=w:E.next=w,G.lastBaseUpdate=A))}if(h!==null){var z=d.baseState;T=0,G=w=A=null,E=h;do{var U=E.lane&-536870913,b=U!==E.lane;if(b?(_e&U)===U:(u&U)===U){U!==0&&U===Ei&&(Ia=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=t,ce=E;U=i;var Ve=s;switch(ce.tag){case 1:if(me=ce.payload,typeof me=="function"){z=me.call(Ve,z,U);break e}z=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ce.payload,U=typeof me=="function"?me.call(Ve,z,U):me,U==null)break e;z=v({},z,U);break e;case 2:gn=!0}}U=E.callback,U!==null&&(t.flags|=64,b&&(t.flags|=8192),b=d.callbacks,b===null?d.callbacks=[U]:b.push(U))}else b={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(w=G=b,A=z):G=G.next=b,T|=U;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;b=E,E=b.next,b.next=null,d.lastBaseUpdate=b,d.shared.pending=null}}while(!0);G===null&&(A=z),d.baseState=A,d.firstBaseUpdate=w,d.lastBaseUpdate=G,h===null&&(d.shared.lanes=0),Mn|=T,t.lanes=T,t.memoizedState=z}}function Fc(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Yc(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fc(s[t],i)}var Ai=P(null),Ll=P(0);function Jc(t,i){t=rn,X(Ll,t),X(Ai,i),rn=t|i.baseLanes}function ba(){X(Ll,rn),X(Ai,Ai.current)}function La(){rn=Ll.current,O(Ai),O(Ll)}var Tn=0,ve=null,be=null,Ke=null,Vl=!1,_i=!1,Qn=!1,Pl=0,Ro=0,Mi=null,uy=0;function Je(){throw Error(l(321))}function Va(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!St(t[s],i[s]))return!1;return!0}function Pa(t,i,s,u,d,h){return Tn=h,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?Nf:wf,Qn=!1,h=s(u,d),Qn=!1,_i&&(h=Kc(i,s,u,d)),Oc(t),h}function Oc(t){H.H=zl;var i=be!==null&&be.next!==null;if(Tn=0,Ke=be=ve=null,Vl=!1,Ro=0,Mi=null,i)throw Error(l(300));t===null||We||(t=t.dependencies,t!==null&&Nl(t)&&(We=!0))}function Kc(t,i,s,u){ve=t;var d=0;do{if(_i&&(Mi=null),Ro=0,_i=!1,25<=d)throw Error(l(301));if(d+=1,Ke=be=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=gy,h=i(s,u)}while(_i);return h}function cy(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?Do(i):i,t=t.useState()[0],(be!==null?be.memoizedState:null)!==t&&(ve.flags|=1024),i}function Ha(){var t=Pl!==0;return Pl=0,t}function qa(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function ka(t){if(Vl){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vl=!1}Tn=0,Ke=be=ve=null,_i=!1,Ro=Pl=0,Mi=null}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ve.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Xe(){if(be===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var i=Ke===null?ve.memoizedState:Ke.next;if(i!==null)Ke=i,be=t;else{if(t===null)throw ve.alternate===null?Error(l(467)):Error(l(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ke===null?ve.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Ga(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(t){var i=Ro;return Ro+=1,Mi===null&&(Mi=[]),t=Gc(Mi,t,i),i=ve,(Ke===null?i.memoizedState:Ke.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Nf:wf),t}function Hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Do(t);if(t.$$typeof===L)return at(t)}throw Error(l(438,String(t)))}function Ba(t){var i=null,s=ve.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ga(),ve.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=ue;return i.index++,s}function tn(t,i){return typeof i=="function"?i(t):i}function ql(t){var i=Xe();return za(i,be,t)}function za(t,i,s){var u=t.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var d=t.baseQueue,h=u.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}i.baseQueue=d=h,u.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{i=d.next;var E=T=null,A=null,w=i,G=!1;do{var z=w.lane&-536870913;if(z!==w.lane?(_e&z)===z:(Tn&z)===z){var U=w.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),z===Ei&&(G=!0);else if((Tn&U)===U){w=w.next,U===Ei&&(G=!0);continue}else z={lane:0,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(E=A=z,T=h):A=A.next=z,ve.lanes|=U,Mn|=U;z=w.action,Qn&&s(h,z),h=w.hasEagerState?w.eagerState:s(h,z)}else U={lane:z,revertLane:w.revertLane,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(E=A=U,T=h):A=A.next=U,ve.lanes|=z,Mn|=z;w=w.next}while(w!==null&&w!==i);if(A===null?T=h:A.next=E,!St(h,t.memoizedState)&&(We=!0,G&&(s=xi,s!==null)))throw s;t.memoizedState=h,t.baseState=T,t.baseQueue=A,u.lastRenderedState=h}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Fa(t){var i=Xe(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=t;var u=s.dispatch,d=s.pending,h=i.memoizedState;if(d!==null){s.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);St(h,i.memoizedState)||(We=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),s.lastRenderedState=h}return[h,u]}function Xc(t,i,s){var u=ve,d=Xe(),h=Re;if(h){if(s===void 0)throw Error(l(407));s=s()}else s=i();var T=!St((be||d).memoizedState,s);T&&(d.memoizedState=s,We=!0),d=d.queue;var E=Zc.bind(null,u,d,t);if(No(2048,8,E,[t]),d.getSnapshot!==i||T||Ke!==null&&Ke.memoizedState.tag&1){if(u.flags|=2048,Ri(9,kl(),Qc.bind(null,u,d,s,i),null),He===null)throw Error(l(349));h||(Tn&124)!==0||$c(u,i,s)}return s}function $c(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=ve.updateQueue,i===null?(i=Ga(),ve.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Qc(t,i,s,u){i.value=s,i.getSnapshot=u,Wc(i)&&jc(t)}function Zc(t,i,s){return s(function(){Wc(i)&&jc(t)})}function Wc(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!St(t,s)}catch{return!0}}function jc(t){var i=vi(t,2);i!==null&&Rt(i,t,2)}function Ya(t){var i=ht();if(typeof t=="function"){var s=t;if(t=s(),Qn){dn(!0);try{s()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:t},i}function ef(t,i,s,u){return t.baseState=s,za(t,be,typeof u=="function"?u:tn)}function fy(t,i,s,u,d){if(Bl(t))throw Error(l(485));if(t=i.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};H.T!==null?s(!0):h.isTransition=!1,u(h),s=i.pending,s===null?(h.next=i.pending=h,tf(i,h)):(h.next=s.next,i.pending=s.next=h)}}function tf(t,i){var s=i.action,u=i.payload,d=t.state;if(i.isTransition){var h=H.T,T={};H.T=T;try{var E=s(d,u),A=H.S;A!==null&&A(T,E),nf(t,i,E)}catch(w){Ja(t,i,w)}finally{H.T=h}}else try{h=s(d,u),nf(t,i,h)}catch(w){Ja(t,i,w)}}function nf(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){of(t,i,u)},function(u){return Ja(t,i,u)}):of(t,i,s)}function of(t,i,s){i.status="fulfilled",i.value=s,lf(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,tf(t,s)))}function Ja(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,lf(i),i=i.next;while(i!==u)}t.action=null}function lf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sf(t,i){return i}function af(t,i){if(Re){var s=He.formState;if(s!==null){e:{var u=ve;if(Re){if(Fe){t:{for(var d=Fe,h=Ft;d.nodeType!==8;){if(!h){d=null;break t}if(d=Bt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Fe=Bt(d.nextSibling),u=d.data==="F!";break e}}On(u)}u=!1}u&&(i=s[0])}}return s=ht(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sf,lastRenderedState:i},s.queue=u,s=Mf.bind(null,ve,u),u.dispatch=s,u=Ya(!1),h=Qa.bind(null,ve,!1,u.queue),u=ht(),d={state:i,dispatch:null,action:t,pending:null},u.queue=d,s=fy.bind(null,ve,d,h,s),d.dispatch=s,u.memoizedState=t,[i,s,!1]}function rf(t){var i=Xe();return uf(i,be,t)}function uf(t,i,s){if(i=za(t,i,sf)[0],t=ql(tn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Do(i)}catch(T){throw T===Eo?Il:T}else u=i;i=Xe();var d=i.queue,h=d.dispatch;return s!==i.memoizedState&&(ve.flags|=2048,Ri(9,kl(),dy.bind(null,d,s),null)),[u,h,t]}function dy(t,i){t.action=i}function cf(t){var i=Xe(),s=be;if(s!==null)return uf(i,s,t);Xe(),i=i.memoizedState,s=Xe();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function Ri(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Ga(),ve.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function kl(){return{destroy:void 0,resource:void 0}}function ff(){return Xe().memoizedState}function Gl(t,i,s,u){var d=ht();u=u===void 0?null:u,ve.flags|=t,d.memoizedState=Ri(1|i,kl(),s,u)}function No(t,i,s,u){var d=Xe();u=u===void 0?null:u;var h=d.memoizedState.inst;be!==null&&u!==null&&Va(u,be.memoizedState.deps)?d.memoizedState=Ri(i,h,s,u):(ve.flags|=t,d.memoizedState=Ri(1|i,h,s,u))}function df(t,i){Gl(8390656,8,t,i)}function mf(t,i){No(2048,8,t,i)}function pf(t,i){return No(4,2,t,i)}function hf(t,i){return No(4,4,t,i)}function gf(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yf(t,i,s){s=s!=null?s.concat([t]):null,No(4,4,gf.bind(null,i,t),s)}function Oa(){}function vf(t,i){var s=Xe();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Va(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function Tf(t,i){var s=Xe();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Va(i,u[1]))return u[0];if(u=t(),Qn){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[u,i],u}function Ka(t,i,s){return s===void 0||(Tn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Ed(),ve.lanes|=t,Mn|=t,s)}function Cf(t,i,s,u){return St(s,i)?s:Ai.current!==null?(t=Ka(t,s,u),St(t,i)||(We=!0),t):(Tn&42)===0?(We=!0,t.memoizedState=s):(t=Ed(),ve.lanes|=t,Mn|=t,i)}function Sf(t,i,s,u,d){var h=Z.p;Z.p=h!==0&&8>h?h:8;var T=H.T,E={};H.T=E,Qa(t,!1,i,s);try{var A=d(),w=H.S;if(w!==null&&w(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=ry(A,u);wo(t,i,G,Mt(t))}else wo(t,i,u,Mt(t))}catch(z){wo(t,i,{then:function(){},status:"rejected",reason:z},Mt())}finally{Z.p=h,H.T=T}}function my(){}function Xa(t,i,s,u){if(t.tag!==5)throw Error(l(476));var d=Ef(t).queue;Sf(t,d,i,re,s===null?my:function(){return xf(t),s(u)})}function Ef(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:re},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xf(t){var i=Ef(t).next.queue;wo(t,i,{},Mt())}function $a(){return at(Xo)}function Af(){return Xe().memoizedState}function _f(){return Xe().memoizedState}function py(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Mt();t=yn(s);var u=vn(i,t,s);u!==null&&(Rt(u,i,s),Ao(u,i,s)),i={cache:_a()},t.payload=i;return}i=i.return}}function hy(t,i,s){var u=Mt();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Bl(t)?Rf(i,s):(s=ha(t,i,s,u),s!==null&&(Rt(s,t,u),Df(s,i,u)))}function Mf(t,i,s){var u=Mt();wo(t,i,s,u)}function wo(t,i,s,u){var d={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bl(t))Rf(i,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var T=i.lastRenderedState,E=h(T,s);if(d.hasEagerState=!0,d.eagerState=E,St(E,T))return Al(t,i,d,0),He===null&&xl(),!1}catch{}finally{}if(s=ha(t,i,d,u),s!==null)return Rt(s,t,u),Df(s,i,u),!0}return!1}function Qa(t,i,s,u){if(u={lane:2,revertLane:Dr(),action:u,hasEagerState:!1,eagerState:null,next:null},Bl(t)){if(i)throw Error(l(479))}else i=ha(t,s,u,2),i!==null&&Rt(i,t,2)}function Bl(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function Rf(t,i){_i=Vl=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Df(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,Vu(t,s)}}var zl={readContext:at,use:Hl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},Nf={readContext:at,use:Hl,useCallback:function(t,i){return ht().memoizedState=[t,i===void 0?null:i],t},useContext:at,useEffect:df,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Gl(4194308,4,gf.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Gl(4194308,4,t,i)},useInsertionEffect:function(t,i){Gl(4,2,t,i)},useMemo:function(t,i){var s=ht();i=i===void 0?null:i;var u=t();if(Qn){dn(!0);try{t()}finally{dn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=ht();if(s!==void 0){var d=s(i);if(Qn){dn(!0);try{s(i)}finally{dn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=hy.bind(null,ve,t),[u.memoizedState,t]},useRef:function(t){var i=ht();return t={current:t},i.memoizedState=t},useState:function(t){t=Ya(t);var i=t.queue,s=Mf.bind(null,ve,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Oa,useDeferredValue:function(t,i){var s=ht();return Ka(s,t,i)},useTransition:function(){var t=Ya(!1);return t=Sf.bind(null,ve,t.queue,!0,!1),ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=ve,d=ht();if(Re){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),He===null)throw Error(l(349));(_e&124)!==0||$c(u,i,s)}d.memoizedState=s;var h={value:s,getSnapshot:i};return d.queue=h,df(Zc.bind(null,u,h,t),[t]),u.flags|=2048,Ri(9,kl(),Qc.bind(null,u,h,s,i),null),s},useId:function(){var t=ht(),i=He.identifierPrefix;if(Re){var s=Wt,u=Zt;s=(u&~(1<<32-Ct(u)-1)).toString(32)+s,i=""+i+"R"+s,s=Pl++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=uy++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:$a,useFormState:af,useActionState:af,useOptimistic:function(t){var i=ht();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Qa.bind(null,ve,!0,s),s.dispatch=i,[t,i]},useMemoCache:Ba,useCacheRefresh:function(){return ht().memoizedState=py.bind(null,ve)}},wf={readContext:at,use:Hl,useCallback:vf,useContext:at,useEffect:mf,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:hf,useMemo:Tf,useReducer:ql,useRef:ff,useState:function(){return ql(tn)},useDebugValue:Oa,useDeferredValue:function(t,i){var s=Xe();return Cf(s,be.memoizedState,t,i)},useTransition:function(){var t=ql(tn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Do(t),i]},useSyncExternalStore:Xc,useId:Af,useHostTransitionStatus:$a,useFormState:rf,useActionState:rf,useOptimistic:function(t,i){var s=Xe();return ef(s,be,t,i)},useMemoCache:Ba,useCacheRefresh:_f},gy={readContext:at,use:Hl,useCallback:vf,useContext:at,useEffect:mf,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:hf,useMemo:Tf,useReducer:Fa,useRef:ff,useState:function(){return Fa(tn)},useDebugValue:Oa,useDeferredValue:function(t,i){var s=Xe();return be===null?Ka(s,t,i):Cf(s,be.memoizedState,t,i)},useTransition:function(){var t=Fa(tn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Do(t),i]},useSyncExternalStore:Xc,useId:Af,useHostTransitionStatus:$a,useFormState:cf,useActionState:cf,useOptimistic:function(t,i){var s=Xe();return be!==null?ef(s,be,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ba,useCacheRefresh:_f},Di=null,Uo=0;function Fl(t){var i=Uo;return Uo+=1,Di===null&&(Di=[]),Gc(Di,t,i)}function Io(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yl(t,i){throw i.$$typeof===C?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Uf(t){var i=t._init;return i(t._payload)}function If(t){function i(D,R){if(t){var N=D.deletions;N===null?(D.deletions=[R],D.flags|=16):N.push(R)}}function s(D,R){if(!t)return null;for(;R!==null;)i(D,R),R=R.sibling;return null}function u(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function d(D,R){return D=Qt(D,R),D.index=0,D.sibling=null,D}function h(D,R,N){return D.index=N,t?(N=D.alternate,N!==null?(N=N.index,N<R?(D.flags|=67108866,R):N):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function T(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function E(D,R,N,B){return R===null||R.tag!==6?(R=ya(N,D.mode,B),R.return=D,R):(R=d(R,N),R.return=D,R)}function A(D,R,N,B){var ie=N.type;return ie===I?G(D,R,N.props.children,B,N.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Q&&Uf(ie)===R.type)?(R=d(R,N.props),Io(R,N),R.return=D,R):(R=Ml(N.type,N.key,N.props,null,D.mode,B),Io(R,N),R.return=D,R)}function w(D,R,N,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=va(N,D.mode,B),R.return=D,R):(R=d(R,N.children||[]),R.return=D,R)}function G(D,R,N,B,ie){return R===null||R.tag!==7?(R=zn(N,D.mode,B,ie),R.return=D,R):(R=d(R,N),R.return=D,R)}function z(D,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=ya(""+R,D.mode,N),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return N=Ml(R.type,R.key,R.props,null,D.mode,N),Io(N,R),N.return=D,N;case x:return R=va(R,D.mode,N),R.return=D,R;case Q:var B=R._init;return R=B(R._payload),z(D,R,N)}if(xe(R)||Ce(R))return R=zn(R,D.mode,N,null),R.return=D,R;if(typeof R.then=="function")return z(D,Fl(R),N);if(R.$$typeof===L)return z(D,wl(D,R),N);Yl(D,R)}return null}function U(D,R,N,B){var ie=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ie!==null?null:E(D,R,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return N.key===ie?A(D,R,N,B):null;case x:return N.key===ie?w(D,R,N,B):null;case Q:return ie=N._init,N=ie(N._payload),U(D,R,N,B)}if(xe(N)||Ce(N))return ie!==null?null:G(D,R,N,B,null);if(typeof N.then=="function")return U(D,R,Fl(N),B);if(N.$$typeof===L)return U(D,R,wl(D,N),B);Yl(D,N)}return null}function b(D,R,N,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return D=D.get(N)||null,E(R,D,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return D=D.get(B.key===null?N:B.key)||null,A(R,D,B,ie);case x:return D=D.get(B.key===null?N:B.key)||null,w(R,D,B,ie);case Q:var Te=B._init;return B=Te(B._payload),b(D,R,N,B,ie)}if(xe(B)||Ce(B))return D=D.get(N)||null,G(R,D,B,ie,null);if(typeof B.then=="function")return b(D,R,N,Fl(B),ie);if(B.$$typeof===L)return b(D,R,N,wl(R,B),ie);Yl(R,B)}return null}function me(D,R,N,B){for(var ie=null,Te=null,ae=R,fe=R=0,et=null;ae!==null&&fe<N.length;fe++){ae.index>fe?(et=ae,ae=null):et=ae.sibling;var Me=U(D,ae,N[fe],B);if(Me===null){ae===null&&(ae=et);break}t&&ae&&Me.alternate===null&&i(D,ae),R=h(Me,R,fe),Te===null?ie=Me:Te.sibling=Me,Te=Me,ae=et}if(fe===N.length)return s(D,ae),Re&&Yn(D,fe),ie;if(ae===null){for(;fe<N.length;fe++)ae=z(D,N[fe],B),ae!==null&&(R=h(ae,R,fe),Te===null?ie=ae:Te.sibling=ae,Te=ae);return Re&&Yn(D,fe),ie}for(ae=u(ae);fe<N.length;fe++)et=b(ae,D,fe,N[fe],B),et!==null&&(t&&et.alternate!==null&&ae.delete(et.key===null?fe:et.key),R=h(et,R,fe),Te===null?ie=et:Te.sibling=et,Te=et);return t&&ae.forEach(function(Vn){return i(D,Vn)}),Re&&Yn(D,fe),ie}function ce(D,R,N,B){if(N==null)throw Error(l(151));for(var ie=null,Te=null,ae=R,fe=R=0,et=null,Me=N.next();ae!==null&&!Me.done;fe++,Me=N.next()){ae.index>fe?(et=ae,ae=null):et=ae.sibling;var Vn=U(D,ae,Me.value,B);if(Vn===null){ae===null&&(ae=et);break}t&&ae&&Vn.alternate===null&&i(D,ae),R=h(Vn,R,fe),Te===null?ie=Vn:Te.sibling=Vn,Te=Vn,ae=et}if(Me.done)return s(D,ae),Re&&Yn(D,fe),ie;if(ae===null){for(;!Me.done;fe++,Me=N.next())Me=z(D,Me.value,B),Me!==null&&(R=h(Me,R,fe),Te===null?ie=Me:Te.sibling=Me,Te=Me);return Re&&Yn(D,fe),ie}for(ae=u(ae);!Me.done;fe++,Me=N.next())Me=b(ae,D,fe,Me.value,B),Me!==null&&(t&&Me.alternate!==null&&ae.delete(Me.key===null?fe:Me.key),R=h(Me,R,fe),Te===null?ie=Me:Te.sibling=Me,Te=Me);return t&&ae.forEach(function(yv){return i(D,yv)}),Re&&Yn(D,fe),ie}function Ve(D,R,N,B){if(typeof N=="object"&&N!==null&&N.type===I&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case S:e:{for(var ie=N.key;R!==null;){if(R.key===ie){if(ie=N.type,ie===I){if(R.tag===7){s(D,R.sibling),B=d(R,N.props.children),B.return=D,D=B;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Q&&Uf(ie)===R.type){s(D,R.sibling),B=d(R,N.props),Io(B,N),B.return=D,D=B;break e}s(D,R);break}else i(D,R);R=R.sibling}N.type===I?(B=zn(N.props.children,D.mode,B,N.key),B.return=D,D=B):(B=Ml(N.type,N.key,N.props,null,D.mode,B),Io(B,N),B.return=D,D=B)}return T(D);case x:e:{for(ie=N.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){s(D,R.sibling),B=d(R,N.children||[]),B.return=D,D=B;break e}else{s(D,R);break}else i(D,R);R=R.sibling}B=va(N,D.mode,B),B.return=D,D=B}return T(D);case Q:return ie=N._init,N=ie(N._payload),Ve(D,R,N,B)}if(xe(N))return me(D,R,N,B);if(Ce(N)){if(ie=Ce(N),typeof ie!="function")throw Error(l(150));return N=ie.call(N),ce(D,R,N,B)}if(typeof N.then=="function")return Ve(D,R,Fl(N),B);if(N.$$typeof===L)return Ve(D,R,wl(D,N),B);Yl(D,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(s(D,R.sibling),B=d(R,N),B.return=D,D=B):(s(D,R),B=ya(N,D.mode,B),B.return=D,D=B),T(D)):s(D,R)}return function(D,R,N,B){try{Uo=0;var ie=Ve(D,R,N,B);return Di=null,ie}catch(ae){if(ae===Eo||ae===Il)throw ae;var Te=Et(29,ae,null,D.mode);return Te.lanes=B,Te.return=D,Te}finally{}}}var Ni=If(!0),bf=If(!1),Vt=P(null),Yt=null;function Cn(t){var i=t.alternate;X(Qe,Qe.current&1),X(Vt,t),Yt===null&&(i===null||Ai.current!==null||i.memoizedState!==null)&&(Yt=t)}function Lf(t){if(t.tag===22){if(X(Qe,Qe.current),X(Vt,t),Yt===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Yt=t)}}else Sn()}function Sn(){X(Qe,Qe.current),X(Vt,Vt.current)}function nn(t){O(Vt),Yt===t&&(Yt=null),O(Qe)}var Qe=P(0);function Jl(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gr(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Za(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wa={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Mt(),d=yn(u);d.payload=i,s!=null&&(d.callback=s),i=vn(t,d,u),i!==null&&(Rt(i,t,u),Ao(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Mt(),d=yn(u);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=vn(t,d,u),i!==null&&(Rt(i,t,u),Ao(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Mt(),u=yn(s);u.tag=2,i!=null&&(u.callback=i),i=vn(t,u,s),i!==null&&(Rt(i,t,s),Ao(i,t,s))}};function Vf(t,i,s,u,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,T):i.prototype&&i.prototype.isPureReactComponent?!po(s,u)||!po(d,h):!0}function Pf(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&Wa.enqueueReplaceState(i,i.state,null)}function Zn(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Ol=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hf(t){Ol(t)}function qf(t){console.error(t)}function kf(t){Ol(t)}function Kl(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Gf(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ja(t,i,s){return s=yn(s),s.tag=3,s.payload={element:null},s.callback=function(){Kl(t,i)},s}function Bf(t){return t=yn(t),t.tag=3,t}function zf(t,i,s,u){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;t.payload=function(){return d(h)},t.callback=function(){Gf(i,s,u)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Gf(i,s,u),typeof d!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function yy(t,i,s,u,d){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&To(i,s,d,!0),s=Vt.current,s!==null){switch(s.tag){case 13:return Yt===null?xr():s.alternate===null&&Ye===0&&(Ye=3),s.flags&=-257,s.flags|=65536,s.lanes=d,u===Da?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),_r(t,u,d)),!1;case 22:return s.flags|=65536,u===Da?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),_r(t,u,d)),!1}throw Error(l(435,s.tag))}return _r(t,u,d),xr(),!1}if(Re)return i=Vt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==Sa&&(t=Error(l(422),{cause:u}),vo(Ut(t,s)))):(u!==Sa&&(i=Error(l(423),{cause:u}),vo(Ut(i,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=Ut(u,s),d=ja(t.stateNode,u,d),Ua(t,d),Ye!==4&&(Ye=2)),!1;var h=Error(l(520),{cause:u});if(h=Ut(h,s),ko===null?ko=[h]:ko.push(h),Ye!==4&&(Ye=2),i===null)return!0;u=Ut(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=ja(s.stateNode,u,t),Ua(s,t),!1;case 1:if(i=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Rn===null||!Rn.has(h))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Bf(d),zf(d,t,s,u),Ua(s,d),!1}s=s.return}while(s!==null);return!1}var Ff=Error(l(461)),We=!1;function tt(t,i,s,u){i.child=t===null?bf(i,null,s,u):Ni(i,t.child,s,u)}function Yf(t,i,s,u,d){s=s.render;var h=i.ref;if("ref"in u){var T={};for(var E in u)E!=="ref"&&(T[E]=u[E])}else T=u;return Xn(i),u=Pa(t,i,s,T,h,d),E=Ha(),t!==null&&!We?(qa(t,i,d),on(t,i,d)):(Re&&E&&Ta(i),i.flags|=1,tt(t,i,u,d),i.child)}function Jf(t,i,s,u,d){if(t===null){var h=s.type;return typeof h=="function"&&!ga(h)&&h.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=h,Of(t,i,h,u,d)):(t=Ml(s.type,null,u,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!ar(t,d)){var T=h.memoizedProps;if(s=s.compare,s=s!==null?s:po,s(T,u)&&t.ref===i.ref)return on(t,i,d)}return i.flags|=1,t=Qt(h,u),t.ref=i.ref,t.return=i,i.child=t}function Of(t,i,s,u,d){if(t!==null){var h=t.memoizedProps;if(po(h,u)&&t.ref===i.ref)if(We=!1,i.pendingProps=u=h,ar(t,d))(t.flags&131072)!==0&&(We=!0);else return i.lanes=t.lanes,on(t,i,d)}return er(t,i,s,u,d)}function Kf(t,i,s){var u=i.pendingProps,d=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|s:s,t!==null){for(d=i.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return Xf(t,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ul(i,h!==null?h.cachePool:null),h!==null?Jc(i,h):ba(),Lf(i);else return i.lanes=i.childLanes=536870912,Xf(t,i,h!==null?h.baseLanes|s:s,s)}else h!==null?(Ul(i,h.cachePool),Jc(i,h),Sn(),i.memoizedState=null):(t!==null&&Ul(i,null),ba(),Sn());return tt(t,i,d,s),i.child}function Xf(t,i,s,u){var d=Ra();return d=d===null?null:{parent:$e._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Ul(i,null),ba(),Lf(i),t!==null&&To(t,i,u,!0),null}function Xl(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function er(t,i,s,u,d){return Xn(i),s=Pa(t,i,s,u,void 0,d),u=Ha(),t!==null&&!We?(qa(t,i,d),on(t,i,d)):(Re&&u&&Ta(i),i.flags|=1,tt(t,i,s,d),i.child)}function $f(t,i,s,u,d,h){return Xn(i),i.updateQueue=null,s=Kc(i,u,s,d),Oc(t),u=Ha(),t!==null&&!We?(qa(t,i,h),on(t,i,h)):(Re&&u&&Ta(i),i.flags|=1,tt(t,i,s,h),i.child)}function Qf(t,i,s,u,d){if(Xn(i),i.stateNode===null){var h=Ti,T=s.contextType;typeof T=="object"&&T!==null&&(h=at(T)),h=new s(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Wa,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},Na(i),T=s.contextType,h.context=typeof T=="object"&&T!==null?at(T):Ti,h.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Za(i,s,T,u),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Wa.enqueueReplaceState(h,h.state,null),Mo(i,u,h,d),_o(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){h=i.stateNode;var E=i.memoizedProps,A=Zn(s,E);h.props=A;var w=h.context,G=s.contextType;T=Ti,typeof G=="object"&&G!==null&&(T=at(G));var z=s.getDerivedStateFromProps;G=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||w!==T)&&Pf(i,h,u,T),gn=!1;var U=i.memoizedState;h.state=U,Mo(i,u,h,d),_o(),w=i.memoizedState,E||U!==w||gn?(typeof z=="function"&&(Za(i,s,z,u),w=i.memoizedState),(A=gn||Vf(i,s,A,u,U,w,T))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=w),h.props=u,h.state=w,h.context=T,u=A):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,wa(t,i),T=i.memoizedProps,G=Zn(s,T),h.props=G,z=i.pendingProps,U=h.context,w=s.contextType,A=Ti,typeof w=="object"&&w!==null&&(A=at(w)),E=s.getDerivedStateFromProps,(w=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==z||U!==A)&&Pf(i,h,u,A),gn=!1,U=i.memoizedState,h.state=U,Mo(i,u,h,d),_o();var b=i.memoizedState;T!==z||U!==b||gn||t!==null&&t.dependencies!==null&&Nl(t.dependencies)?(typeof E=="function"&&(Za(i,s,E,u),b=i.memoizedState),(G=gn||Vf(i,s,G,u,U,b,A)||t!==null&&t.dependencies!==null&&Nl(t.dependencies))?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,b,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,b,A)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=b),h.props=u,h.state=b,h.context=A,u=G):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),u=!1)}return h=u,Xl(t,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&u?(i.child=Ni(i,t.child,null,d),i.child=Ni(i,null,s,d)):tt(t,i,s,d),i.memoizedState=h.state,t=i.child):t=on(t,i,d),t}function Zf(t,i,s,u){return yo(),i.flags|=256,tt(t,i,s,u),i.child}var tr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nr(t){return{baseLanes:t,cachePool:Hc()}}function ir(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Pt),t}function Wf(t,i,s){var u=i.pendingProps,d=!1,h=(i.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Re){if(d?Cn(i):Sn(),Re){var E=Fe,A;if(A=E){e:{for(A=E,E=Ft;A.nodeType!==8;){if(!E){E=null;break e}if(A=Bt(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:Fn!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},A=Et(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,ct=i,Fe=null,A=!0):A=!1}A||On(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Gr(E)?i.lanes=32:i.lanes=536870912,null;nn(i)}return E=u.children,u=u.fallback,d?(Sn(),d=i.mode,E=$l({mode:"hidden",children:E},d),u=zn(u,d,s,null),E.return=i,u.return=i,E.sibling=u,i.child=E,d=i.child,d.memoizedState=nr(s),d.childLanes=ir(t,T,s),i.memoizedState=tr,u):(Cn(i),or(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(h)i.flags&256?(Cn(i),i.flags&=-257,i=lr(t,i,s)):i.memoizedState!==null?(Sn(),i.child=t.child,i.flags|=128,i=null):(Sn(),d=u.fallback,E=i.mode,u=$l({mode:"visible",children:u.children},E),d=zn(d,E,s,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,Ni(i,t.child,null,s),u=i.child,u.memoizedState=nr(s),u.childLanes=ir(t,T,s),i.memoizedState=tr,i=d);else if(Cn(i),Gr(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var w=T.dgst;T=w,u=Error(l(419)),u.stack="",u.digest=T,vo({value:u,source:null,stack:null}),i=lr(t,i,s)}else if(We||To(t,i,s,!1),T=(s&t.childLanes)!==0,We||T){if(T=He,T!==null&&(u=s&-s,u=(u&42)!==0?1:Bs(u),u=(u&(T.suspendedLanes|s))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,vi(t,u),Rt(T,t,u),Ff;E.data==="$?"||xr(),i=lr(t,i,s)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Fe=Bt(E.nextSibling),ct=i,Re=!0,Jn=null,Ft=!1,t!==null&&(bt[Lt++]=Zt,bt[Lt++]=Wt,bt[Lt++]=Fn,Zt=t.id,Wt=t.overflow,Fn=i),i=or(i,u.children),i.flags|=4096);return i}return d?(Sn(),d=u.fallback,E=i.mode,A=t.child,w=A.sibling,u=Qt(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,w!==null?d=Qt(w,d):(d=zn(d,E,s,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,E=t.child.memoizedState,E===null?E=nr(s):(A=E.cachePool,A!==null?(w=$e._currentValue,A=A.parent!==w?{parent:w,pool:w}:A):A=Hc(),E={baseLanes:E.baseLanes|s,cachePool:A}),d.memoizedState=E,d.childLanes=ir(t,T,s),i.memoizedState=tr,u):(Cn(i),s=t.child,t=s.sibling,s=Qt(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function or(t,i){return i=$l({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $l(t,i){return t=Et(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lr(t,i,s){return Ni(i,t.child,null,s),t=or(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jf(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),xa(t.return,i,s)}function sr(t,i,s,u,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=s,h.tailMode=d)}function ed(t,i,s){var u=i.pendingProps,d=u.revealOrder,h=u.tail;if(tt(t,i,u.children,s),u=Qe.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jf(t,s,i);else if(t.tag===19)jf(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(X(Qe,u),d){case"forwards":for(s=i.child,d=null;s!==null;)t=s.alternate,t!==null&&Jl(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),sr(i,!1,d,s,h);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Jl(t)===null){i.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}sr(i,!0,s,null,h);break;case"together":sr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function on(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Mn|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(To(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,s=Qt(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Qt(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ar(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Nl(t)))}function vy(t,i,s){switch(i.tag){case 3:Y(i,i.stateNode.containerInfo),hn(i,$e,t.memoizedState.cache),yo();break;case 27:case 5:ee(i);break;case 4:Y(i,i.stateNode.containerInfo);break;case 10:hn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Cn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Wf(t,i,s):(Cn(i),t=on(t,i,s),t!==null?t.sibling:null);Cn(i);break;case 19:var d=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(To(t,i,s,!1),u=(s&i.childLanes)!==0),d){if(u)return ed(t,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Qe,Qe.current),u)break;return null;case 22:case 23:return i.lanes=0,Kf(t,i,s);case 24:hn(i,$e,t.memoizedState.cache)}return on(t,i,s)}function td(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)We=!0;else{if(!ar(t,s)&&(i.flags&128)===0)return We=!1,vy(t,i,s);We=(t.flags&131072)!==0}else We=!1,Re&&(i.flags&1048576)!==0&&wc(i,Dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")ga(u)?(t=Zn(u,t),i.tag=1,i=Qf(null,i,u,t,s)):(i.tag=0,i=er(null,i,u,t,s));else{if(u!=null){if(d=u.$$typeof,d===$){i.tag=11,i=Yf(null,i,u,t,s);break e}else if(d===W){i.tag=14,i=Jf(null,i,u,t,s);break e}}throw i=lt(u)||u,Error(l(306,i,""))}}return i;case 0:return er(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,d=Zn(u,i.pendingProps),Qf(t,i,u,d,s);case 3:e:{if(Y(i,i.stateNode.containerInfo),t===null)throw Error(l(387));u=i.pendingProps;var h=i.memoizedState;d=h.element,wa(t,i),Mo(i,u,null,s);var T=i.memoizedState;if(u=T.cache,hn(i,$e,u),u!==h.cache&&Aa(i,[$e],s,!0),_o(),u=T.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Zf(t,i,u,s);break e}else if(u!==d){d=Ut(Error(l(424)),i),vo(d),i=Zf(t,i,u,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=Bt(t.firstChild),ct=i,Re=!0,Jn=null,Ft=!0,s=bf(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yo(),u===d){i=on(t,i,s);break e}tt(t,i,u,s)}i=i.child}return i;case 26:return Xl(t,i),t===null?(s=lm(i.type,null,i.pendingProps,null))?i.memoizedState=s:Re||(s=i.type,t=i.pendingProps,u=us(se.current).createElement(s),u[st]=i,u[mt]=t,it(u,s,t),Ze(u),i.stateNode=u):i.memoizedState=lm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ee(i),t===null&&Re&&(u=i.stateNode=nm(i.type,i.pendingProps,se.current),ct=i,Ft=!0,d=Fe,wn(i.type)?(Br=d,Fe=Bt(u.firstChild)):Fe=d),tt(t,i,i.pendingProps.children,s),Xl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Re&&((d=u=Fe)&&(u=Oy(u,i.type,i.pendingProps,Ft),u!==null?(i.stateNode=u,ct=i,Fe=Bt(u.firstChild),Ft=!1,d=!0):d=!1),d||On(i)),ee(i),d=i.type,h=i.pendingProps,T=t!==null?t.memoizedProps:null,u=h.children,Hr(d,h)?u=null:T!==null&&Hr(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Pa(t,i,cy,null,null,s),Xo._currentValue=d),Xl(t,i),tt(t,i,u,s),i.child;case 6:return t===null&&Re&&((t=s=Fe)&&(s=Ky(s,i.pendingProps,Ft),s!==null?(i.stateNode=s,ct=i,Fe=null,t=!0):t=!1),t||On(i)),null;case 13:return Wf(t,i,s);case 4:return Y(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ni(i,null,u,s):tt(t,i,u,s),i.child;case 11:return Yf(t,i,i.type,i.pendingProps,s);case 7:return tt(t,i,i.pendingProps,s),i.child;case 8:return tt(t,i,i.pendingProps.children,s),i.child;case 12:return tt(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,hn(i,i.type,u.value),tt(t,i,u.children,s),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Xn(i),d=at(d),u=u(d),i.flags|=1,tt(t,i,u,s),i.child;case 14:return Jf(t,i,i.type,i.pendingProps,s);case 15:return Of(t,i,i.type,i.pendingProps,s);case 19:return ed(t,i,s);case 31:return u=i.pendingProps,s=i.mode,u={mode:u.mode,children:u.children},t===null?(s=$l(u,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Qt(t.child,u),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Kf(t,i,s);case 24:return Xn(i),u=at($e),t===null?(d=Ra(),d===null&&(d=He,h=_a(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=s),d=h),i.memoizedState={parent:u,cache:d},Na(i),hn(i,$e,d)):((t.lanes&s)!==0&&(wa(t,i),Mo(i,null,null,s),_o()),d=t.memoizedState,h=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),hn(i,$e,u)):(u=h.cache,hn(i,$e,u),u!==d.cache&&Aa(i,[$e],s,!0))),tt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ln(t){t.flags|=4}function nd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cm(i)){if(i=Vt.current,i!==null&&((_e&4194048)===_e?Yt!==null:(_e&62914560)!==_e&&(_e&536870912)===0||i!==Yt))throw xo=Da,qc;t.flags|=8192}}function Ql(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bu():536870912,t.lanes|=i,bi|=i)}function bo(t,i){if(!Re)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Ge(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function Ty(t,i,s){var u=i.pendingProps;switch(Ca(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(i),null;case 1:return Ge(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),en($e),te(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(go(i)?ln(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bc())),Ge(i),null;case 26:return s=i.memoizedState,t===null?(ln(i),s!==null?(Ge(i),nd(i,s)):(Ge(i),i.flags&=-16777217)):s?s!==t.memoizedState?(ln(i),Ge(i),nd(i,s)):(Ge(i),i.flags&=-16777217):(t.memoizedProps!==u&&ln(i),Ge(i),i.flags&=-16777217),null;case 27:oe(i),s=se.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ln(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ge(i),null}t=j.current,go(i)?Uc(i):(t=nm(d,u,s),i.stateNode=t,ln(i))}return Ge(i),null;case 5:if(oe(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ln(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Ge(i),null}if(t=j.current,go(i))Uc(i);else{switch(d=us(se.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(s,{is:u.is}):d.createElement(s)}}t[st]=i,t[mt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(it(t,s,u),s){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ln(i)}}return Ge(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ln(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(t=se.current,go(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,d=ct,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[st]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||$d(t.nodeValue,s)),t||On(i)}else t=us(t).createTextNode(u),t[st]=i,i.stateNode=t}return Ge(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=go(i),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[st]=i}else yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ge(i),d=!1}else d=bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(nn(i),i):(nn(i),null)}if(nn(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,t=t!==null&&t.memoizedState!==null,s){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Ql(i,i.updateQueue),Ge(i),null;case 4:return te(),t===null&&Ir(i.stateNode.containerInfo),Ge(i),null;case 10:return en(i.type),Ge(i),null;case 19:if(O(Qe),d=i.memoizedState,d===null)return Ge(i),null;if(u=(i.flags&128)!==0,h=d.rendering,h===null)if(u)bo(d,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=Jl(t),h!==null){for(i.flags|=128,bo(d,!1),t=h.updateQueue,i.updateQueue=t,Ql(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Nc(s,t),s=s.sibling;return X(Qe,Qe.current&1|2),i.child}t=t.sibling}d.tail!==null&&dt()>jl&&(i.flags|=128,u=!0,bo(d,!1),i.lanes=4194304)}else{if(!u)if(t=Jl(h),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,Ql(i,t),bo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Re)return Ge(i),null}else 2*dt()-d.renderingStartTime>jl&&s!==536870912&&(i.flags|=128,u=!0,bo(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(t=d.last,t!==null?t.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=dt(),i.sibling=null,t=Qe.current,X(Qe,u?t&1|2:t&1),i):(Ge(i),null);case 22:case 23:return nn(i),La(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Ge(i),i.subtreeFlags&6&&(i.flags|=8192)):Ge(i),s=i.updateQueue,s!==null&&Ql(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&O($n),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),en($e),Ge(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Cy(t,i){switch(Ca(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return en($e),te(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return O(Qe),null;case 4:return te(),null;case 10:return en(i.type),null;case 22:case 23:return nn(i),La(),t!==null&&O($n),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return en($e),null;case 25:return null;default:return null}}function id(t,i){switch(Ca(i),i.tag){case 3:en($e),te();break;case 26:case 27:case 5:oe(i);break;case 4:te();break;case 13:nn(i);break;case 19:O(Qe);break;case 10:en(i.type);break;case 22:case 23:nn(i),La(),t!==null&&O($n);break;case 24:en($e)}}function Lo(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&t)===t){u=void 0;var h=s.create,T=s.inst;u=h(),T.destroy=u}s=s.next}while(s!==d)}}catch(E){Pe(i,i.return,E)}}function En(t,i,s){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&t)===t){var T=u.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,d=i;var A=s,w=E;try{w()}catch(G){Pe(d,A,G)}}}u=u.next}while(u!==h)}}catch(G){Pe(i,i.return,G)}}function od(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Yc(i,s)}catch(u){Pe(t,t.return,u)}}}function ld(t,i,s){s.props=Zn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Pe(t,i,u)}}function Vo(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(d){Pe(t,i,d)}}function Jt(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(d){Pe(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Pe(t,i,d)}else s.current=null}function sd(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(d){Pe(t,t.return,d)}}function rr(t,i,s){try{var u=t.stateNode;By(u,t.type,s,i),u[mt]=i}catch(d){Pe(t,t.return,d)}}function ad(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wn(t.type)||t.tag===4}function ur(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ad(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cr(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rs));else if(u!==4&&(u===27&&wn(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(cr(t,i,s),t=t.sibling;t!==null;)cr(t,i,s),t=t.sibling}function Zl(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&wn(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Zl(t,i,s),t=t.sibling;t!==null;)Zl(t,i,s),t=t.sibling}function rd(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);it(i,u,s),i[st]=t,i[mt]=s}catch(h){Pe(t,t.return,h)}}var sn=!1,Oe=!1,fr=!1,ud=typeof WeakSet=="function"?WeakSet:Set,je=null;function Sy(t,i){if(t=t.containerInfo,Vr=hs,t=Tc(t),ua(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var T=0,E=-1,A=-1,w=0,G=0,z=t,U=null;t:for(;;){for(var b;z!==s||d!==0&&z.nodeType!==3||(E=T+d),z!==h||u!==0&&z.nodeType!==3||(A=T+u),z.nodeType===3&&(T+=z.nodeValue.length),(b=z.firstChild)!==null;)U=z,z=b;for(;;){if(z===t)break t;if(U===s&&++w===d&&(E=T),U===h&&++G===u&&(A=T),(b=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=b}s=E===-1||A===-1?null:{start:E,end:A}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pr={focusedElem:t,selectionRange:s},hs=!1,je=i;je!==null;)if(i=je,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,je=t;else for(;je!==null;){switch(i=je,h=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=i,d=h.memoizedProps,h=h.memoizedState,u=s.stateNode;try{var me=Zn(s.type,d,s.elementType===s.type);t=u.getSnapshotBeforeUpdate(me,h),u.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Pe(s,s.return,ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)kr(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,je=t;break}je=i.return}}function cd(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:xn(t,s),u&4&&Lo(5,s);break;case 1:if(xn(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){Pe(s,s.return,T)}else{var d=Zn(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Pe(s,s.return,T)}}u&64&&od(s),u&512&&Vo(s,s.return);break;case 3:if(xn(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Yc(t,i)}catch(T){Pe(s,s.return,T)}}break;case 27:i===null&&u&4&&rd(s);case 26:case 5:xn(t,s),i===null&&u&4&&sd(s),u&512&&Vo(s,s.return);break;case 12:xn(t,s);break;case 13:xn(t,s),u&4&&md(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=wy.bind(null,s),Xy(t,s))));break;case 22:if(u=s.memoizedState!==null||sn,!u){i=i!==null&&i.memoizedState!==null||Oe,d=sn;var h=Oe;sn=u,(Oe=i)&&!h?An(t,s,(s.subtreeFlags&8772)!==0):xn(t,s),sn=d,Oe=h}break;case 30:break;default:xn(t,s)}}function fd(t){var i=t.alternate;i!==null&&(t.alternate=null,fd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ys(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ke=null,gt=!1;function an(t,i,s){for(s=s.child;s!==null;)dd(t,i,s),s=s.sibling}function dd(t,i,s){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(to,s)}catch{}switch(s.tag){case 26:Oe||Jt(s,i),an(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Jt(s,i);var u=ke,d=gt;wn(s.type)&&(ke=s.stateNode,gt=!1),an(t,i,s),Yo(s.stateNode),ke=u,gt=d;break;case 5:Oe||Jt(s,i);case 6:if(u=ke,d=gt,ke=null,an(t,i,s),ke=u,gt=d,ke!==null)if(gt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(s.stateNode)}catch(h){Pe(s,i,h)}else try{ke.removeChild(s.stateNode)}catch(h){Pe(s,i,h)}break;case 18:ke!==null&&(gt?(t=ke,em(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Wo(t)):em(ke,s.stateNode));break;case 4:u=ke,d=gt,ke=s.stateNode.containerInfo,gt=!0,an(t,i,s),ke=u,gt=d;break;case 0:case 11:case 14:case 15:Oe||En(2,s,i),Oe||En(4,s,i),an(t,i,s);break;case 1:Oe||(Jt(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&ld(s,i,u)),an(t,i,s);break;case 21:an(t,i,s);break;case 22:Oe=(u=Oe)||s.memoizedState!==null,an(t,i,s),Oe=u;break;default:an(t,i,s)}}function md(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wo(t)}catch(s){Pe(i,i.return,s)}}function Ey(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ud),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ud),i;default:throw Error(l(435,t.tag))}}function dr(t,i){var s=Ey(t);i.forEach(function(u){var d=Uy.bind(null,t,u);s.has(u)||(s.add(u),u.then(d,d))})}function xt(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var d=s[u],h=t,T=i,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(wn(E.type)){ke=E.stateNode,gt=!1;break e}break;case 5:ke=E.stateNode,gt=!1;break e;case 3:case 4:ke=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(ke===null)throw Error(l(160));dd(h,T,d),ke=null,gt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)pd(i,t),i=i.sibling}var Gt=null;function pd(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(i,t),At(t),u&4&&(En(3,t,t.return),Lo(3,t),En(5,t,t.return));break;case 1:xt(i,t),At(t),u&512&&(Oe||s===null||Jt(s,s.return)),u&64&&sn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var d=Gt;if(xt(i,t),At(t),u&512&&(Oe||s===null||Jt(s,s.return)),u&4){var h=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[oo]||h[st]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),it(h,u,s),h[st]=t,Ze(h),u=h;break e;case"link":var T=rm("link","href",d).get(u+(s.href||""));if(T){for(var E=0;E<T.length;E++)if(h=T[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(E,1);break t}}h=d.createElement(u),it(h,u,s),d.head.appendChild(h);break;case"meta":if(T=rm("meta","content",d).get(u+(s.content||""))){for(E=0;E<T.length;E++)if(h=T[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(E,1);break t}}h=d.createElement(u),it(h,u,s),d.head.appendChild(h);break;default:throw Error(l(468,u))}h[st]=t,Ze(h),u=h}t.stateNode=u}else um(d,t.type,t.stateNode);else t.stateNode=am(d,u,t.memoizedProps);else h!==u?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,u===null?um(d,t.type,t.stateNode):am(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&rr(t,t.memoizedProps,s.memoizedProps)}break;case 27:xt(i,t),At(t),u&512&&(Oe||s===null||Jt(s,s.return)),s!==null&&u&4&&rr(t,t.memoizedProps,s.memoizedProps);break;case 5:if(xt(i,t),At(t),u&512&&(Oe||s===null||Jt(s,s.return)),t.flags&32){d=t.stateNode;try{fi(d,"")}catch(b){Pe(t,t.return,b)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,rr(t,d,s!==null?s.memoizedProps:d)),u&1024&&(fr=!0);break;case 6:if(xt(i,t),At(t),u&4){if(t.stateNode===null)throw Error(l(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(b){Pe(t,t.return,b)}}break;case 3:if(ds=null,d=Gt,Gt=cs(i.containerInfo),xt(i,t),Gt=d,At(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Wo(i.containerInfo)}catch(b){Pe(t,t.return,b)}fr&&(fr=!1,hd(t));break;case 4:u=Gt,Gt=cs(t.stateNode.containerInfo),xt(i,t),At(t),Gt=u;break;case 12:xt(i,t),At(t);break;case 13:xt(i,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(vr=dt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,dr(t,u)));break;case 22:d=t.memoizedState!==null;var A=s!==null&&s.memoizedState!==null,w=sn,G=Oe;if(sn=w||d,Oe=G||A,xt(i,t),Oe=G,sn=w,At(t),u&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||A||sn||Oe||Wn(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){A=s=i;try{if(h=A.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=A.stateNode;var z=A.memoizedProps.style,U=z!=null&&z.hasOwnProperty("display")?z.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(b){Pe(A,A.return,b)}}}else if(i.tag===6){if(s===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(b){Pe(A,A.return,b)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,dr(t,s))));break;case 19:xt(i,t),At(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,dr(t,u)));break;case 30:break;case 21:break;default:xt(i,t),At(t)}}function At(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(ad(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var d=s.stateNode,h=ur(t);Zl(t,h,d);break;case 5:var T=s.stateNode;s.flags&32&&(fi(T,""),s.flags&=-33);var E=ur(t);Zl(t,E,T);break;case 3:case 4:var A=s.stateNode.containerInfo,w=ur(t);cr(t,w,A);break;default:throw Error(l(161))}}catch(G){Pe(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function hd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;hd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function xn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cd(t,i.alternate,i),i=i.sibling}function Wn(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:En(4,i,i.return),Wn(i);break;case 1:Jt(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ld(i,i.return,s),Wn(i);break;case 27:Yo(i.stateNode);case 26:case 5:Jt(i,i.return),Wn(i);break;case 22:i.memoizedState===null&&Wn(i);break;case 30:Wn(i);break;default:Wn(i)}t=t.sibling}}function An(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=t,h=i,T=h.flags;switch(h.tag){case 0:case 11:case 15:An(d,h,s),Lo(4,h);break;case 1:if(An(d,h,s),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){Pe(u,u.return,w)}if(u=h,d=u.updateQueue,d!==null){var E=u.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Fc(A[d],E)}catch(w){Pe(u,u.return,w)}}s&&T&64&&od(h),Vo(h,h.return);break;case 27:rd(h);case 26:case 5:An(d,h,s),s&&u===null&&T&4&&sd(h),Vo(h,h.return);break;case 12:An(d,h,s);break;case 13:An(d,h,s),s&&T&4&&md(d,h);break;case 22:h.memoizedState===null&&An(d,h,s),Vo(h,h.return);break;case 30:break;default:An(d,h,s)}i=i.sibling}}function mr(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Co(s))}function pr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Co(t))}function Ot(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gd(t,i,s,u),i=i.sibling}function gd(t,i,s,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Ot(t,i,s,u),d&2048&&Lo(9,i);break;case 1:Ot(t,i,s,u);break;case 3:Ot(t,i,s,u),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Co(t)));break;case 12:if(d&2048){Ot(t,i,s,u),t=i.stateNode;try{var h=i.memoizedProps,T=h.id,E=h.onPostCommit;typeof E=="function"&&E(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Pe(i,i.return,A)}}else Ot(t,i,s,u);break;case 13:Ot(t,i,s,u);break;case 23:break;case 22:h=i.stateNode,T=i.alternate,i.memoizedState!==null?h._visibility&2?Ot(t,i,s,u):Po(t,i):h._visibility&2?Ot(t,i,s,u):(h._visibility|=2,wi(t,i,s,u,(i.subtreeFlags&10256)!==0)),d&2048&&mr(T,i);break;case 24:Ot(t,i,s,u),d&2048&&pr(i.alternate,i);break;default:Ot(t,i,s,u)}}function wi(t,i,s,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=t,T=i,E=s,A=u,w=T.flags;switch(T.tag){case 0:case 11:case 15:wi(h,T,E,A,d),Lo(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?wi(h,T,E,A,d):Po(h,T):(G._visibility|=2,wi(h,T,E,A,d)),d&&w&2048&&mr(T.alternate,T);break;case 24:wi(h,T,E,A,d),d&&w&2048&&pr(T.alternate,T);break;default:wi(h,T,E,A,d)}i=i.sibling}}function Po(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,d=u.flags;switch(u.tag){case 22:Po(s,u),d&2048&&mr(u.alternate,u);break;case 24:Po(s,u),d&2048&&pr(u.alternate,u);break;default:Po(s,u)}i=i.sibling}}var Ho=8192;function Ui(t){if(t.subtreeFlags&Ho)for(t=t.child;t!==null;)yd(t),t=t.sibling}function yd(t){switch(t.tag){case 26:Ui(t),t.flags&Ho&&t.memoizedState!==null&&av(Gt,t.memoizedState,t.memoizedProps);break;case 5:Ui(t);break;case 3:case 4:var i=Gt;Gt=cs(t.stateNode.containerInfo),Ui(t),Gt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ho,Ho=16777216,Ui(t),Ho=i):Ui(t));break;default:Ui(t)}}function vd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function qo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];je=u,Cd(u,t)}vd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(t),t=t.sibling}function Td(t){switch(t.tag){case 0:case 11:case 15:qo(t),t.flags&2048&&En(9,t,t.return);break;case 3:qo(t);break;case 12:qo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Wl(t)):qo(t);break;default:qo(t)}}function Wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];je=u,Cd(u,t)}vd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:En(8,i,i.return),Wl(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Wl(i));break;default:Wl(i)}t=t.sibling}}function Cd(t,i){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:En(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Co(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,je=u;else e:for(s=t;je!==null;){u=je;var d=u.sibling,h=u.return;if(fd(u),u===s){je=null;break e}if(d!==null){d.return=h,je=d;break e}je=h}}}var xy={getCacheForType:function(t){var i=at($e),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},Ay=typeof WeakMap=="function"?WeakMap:Map,we=0,He=null,Se=null,_e=0,Ue=0,_t=null,_n=!1,Ii=!1,hr=!1,rn=0,Ye=0,Mn=0,jn=0,gr=0,Pt=0,bi=0,ko=null,yt=null,yr=!1,vr=0,jl=1/0,es=null,Rn=null,nt=0,Dn=null,Li=null,Vi=0,Tr=0,Cr=null,Sd=null,Go=0,Sr=null;function Mt(){if((we&2)!==0&&_e!==0)return _e&-_e;if(H.T!==null){var t=Ei;return t!==0?t:Dr()}return Pu()}function Ed(){Pt===0&&(Pt=(_e&536870912)===0||Re?Iu():536870912);var t=Vt.current;return t!==null&&(t.flags|=32),Pt}function Rt(t,i,s){(t===He&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(Pi(t,0),Nn(t,_e,Pt,!1)),io(t,s),((we&2)===0||t!==He)&&(t===He&&((we&2)===0&&(jn|=s),Ye===4&&Nn(t,_e,Pt,!1)),Kt(t))}function xd(t,i,s){if((we&6)!==0)throw Error(l(327));var u=!s&&(i&124)===0&&(i&t.expiredLanes)===0||no(t,i),d=u?Ry(t,i):Ar(t,i,!0),h=u;do{if(d===0){Ii&&!u&&Nn(t,i,0,!1);break}else{if(s=t.current.alternate,h&&!_y(s)){d=Ar(t,i,!1),h=!1;continue}if(d===2){if(h=i,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var E=t;d=ko;var A=E.current.memoizedState.isDehydrated;if(A&&(Pi(E,T).flags|=256),T=Ar(E,T,!1),T!==2){if(hr&&!A){E.errorRecoveryDisabledLanes|=h,jn|=h,d=4;break e}h=yt,yt=d,h!==null&&(yt===null?yt=h:yt.push.apply(yt,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){Pi(t,0),Nn(t,i,0,!0);break}e:{switch(u=t,h=d,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Nn(u,i,Pt,!_n);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=vr+300-dt(),10<d)){if(Nn(u,i,Pt,!_n),fl(u,0,!0)!==0)break e;u.timeoutHandle=Wd(Ad.bind(null,u,s,yt,es,yr,i,Pt,jn,bi,_n,h,2,-0,0),d);break e}Ad(u,s,yt,es,yr,i,Pt,jn,bi,_n,h,0,-0,0)}}break}while(!0);Kt(t)}function Ad(t,i,s,u,d,h,T,E,A,w,G,z,U,b){if(t.timeoutHandle=-1,z=i.subtreeFlags,(z&8192||(z&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:sv},yd(i),z=rv(),z!==null)){t.cancelPendingCommit=z(Ud.bind(null,t,i,h,s,u,d,T,E,A,G,1,U,b)),Nn(t,h,T,!w);return}Ud(t,i,h,s,u,d,T,E,A)}function _y(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var d=s[u],h=d.getSnapshot;d=d.value;try{if(!St(h(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nn(t,i,s,u){i&=~gr,i&=~jn,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var d=i;0<d;){var h=31-Ct(d),T=1<<h;u[h]=-1,d&=~T}s!==0&&Lu(t,s,i)}function ts(){return(we&6)===0?(Bo(0),!1):!0}function Er(){if(Se!==null){if(Ue===0)var t=Se.return;else t=Se,jt=Kn=null,ka(t),Di=null,Uo=0,t=Se;for(;t!==null;)id(t.alternate,t),t=t.return;Se=null}}function Pi(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Fy(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Er(),He=t,Se=s=Qt(t.current,null),_e=i,Ue=0,_t=null,_n=!1,Ii=no(t,i),hr=!1,bi=Pt=gr=jn=Mn=Ye=0,yt=ko=null,yr=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var d=31-Ct(u),h=1<<d;i|=t[d],u&=~h}return rn=i,xl(),s}function _d(t,i){ve=null,H.H=zl,i===Eo||i===Il?(i=Bc(),Ue=3):i===qc?(i=Bc(),Ue=4):Ue=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_t=i,Se===null&&(Ye=1,Kl(t,Ut(i,t.current)))}function Md(){var t=H.H;return H.H=zl,t===null?zl:t}function Rd(){var t=H.A;return H.A=xy,t}function xr(){Ye=4,_n||(_e&4194048)!==_e&&Vt.current!==null||(Ii=!0),(Mn&134217727)===0&&(jn&134217727)===0||He===null||Nn(He,_e,Pt,!1)}function Ar(t,i,s){var u=we;we|=2;var d=Md(),h=Rd();(He!==t||_e!==i)&&(es=null,Pi(t,i)),i=!1;var T=Ye;e:do try{if(Ue!==0&&Se!==null){var E=Se,A=_t;switch(Ue){case 8:Er(),T=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(i=!0);var w=Ue;if(Ue=0,_t=null,Hi(t,E,A,w),s&&Ii){T=0;break e}break;default:w=Ue,Ue=0,_t=null,Hi(t,E,A,w)}}My(),T=Ye;break}catch(G){_d(t,G)}while(!0);return i&&t.shellSuspendCounter++,jt=Kn=null,we=u,H.H=d,H.A=h,Se===null&&(He=null,_e=0,xl()),T}function My(){for(;Se!==null;)Dd(Se)}function Ry(t,i){var s=we;we|=2;var u=Md(),d=Rd();He!==t||_e!==i?(es=null,jl=dt()+500,Pi(t,i)):Ii=no(t,i);e:do try{if(Ue!==0&&Se!==null){i=Se;var h=_t;t:switch(Ue){case 1:Ue=0,_t=null,Hi(t,i,h,1);break;case 2:case 9:if(kc(h)){Ue=0,_t=null,Nd(i);break}i=function(){Ue!==2&&Ue!==9||He!==t||(Ue=7),Kt(t)},h.then(i,i);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:kc(h)?(Ue=0,_t=null,Nd(i)):(Ue=0,_t=null,Hi(t,i,h,7));break;case 5:var T=null;switch(Se.tag){case 26:T=Se.memoizedState;case 5:case 27:var E=Se;if(!T||cm(T)){Ue=0,_t=null;var A=E.sibling;if(A!==null)Se=A;else{var w=E.return;w!==null?(Se=w,ns(w)):Se=null}break t}}Ue=0,_t=null,Hi(t,i,h,5);break;case 6:Ue=0,_t=null,Hi(t,i,h,6);break;case 8:Er(),Ye=6;break e;default:throw Error(l(462))}}Dy();break}catch(G){_d(t,G)}while(!0);return jt=Kn=null,H.H=u,H.A=d,we=s,Se!==null?0:(He=null,_e=0,xl(),Ye)}function Dy(){for(;Se!==null&&!ft();)Dd(Se)}function Dd(t){var i=td(t.alternate,t,rn);t.memoizedProps=t.pendingProps,i===null?ns(t):Se=i}function Nd(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=$f(s,i,i.pendingProps,i.type,void 0,_e);break;case 11:i=$f(s,i,i.pendingProps,i.type.render,i.ref,_e);break;case 5:ka(i);default:id(s,i),i=Se=Nc(i,rn),i=td(s,i,rn)}t.memoizedProps=t.pendingProps,i===null?ns(t):Se=i}function Hi(t,i,s,u){jt=Kn=null,ka(i),Di=null,Uo=0;var d=i.return;try{if(yy(t,d,i,s,_e)){Ye=1,Kl(t,Ut(s,t.current)),Se=null;return}}catch(h){if(d!==null)throw Se=d,h;Ye=1,Kl(t,Ut(s,t.current)),Se=null;return}i.flags&32768?(Re||u===1?t=!0:Ii||(_e&536870912)!==0?t=!1:(_n=t=!0,(u===2||u===9||u===3||u===6)&&(u=Vt.current,u!==null&&u.tag===13&&(u.flags|=16384))),wd(i,t)):ns(i)}function ns(t){var i=t;do{if((i.flags&32768)!==0){wd(i,_n);return}t=i.return;var s=Ty(i.alternate,i,rn);if(s!==null){Se=s;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=t}while(i!==null);Ye===0&&(Ye=5)}function wd(t,i){do{var s=Cy(t.alternate,t);if(s!==null){s.flags&=32767,Se=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Se=t;return}Se=t=s}while(t!==null);Ye=6,Se=null}function Ud(t,i,s,u,d,h,T,E,A){t.cancelPendingCommit=null;do is();while(nt!==0);if((we&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=pa,sg(t,s,h,T,E,A),t===He&&(Se=He=null,_e=0),Li=i,Dn=t,Vi=s,Tr=h,Cr=d,Sd=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Iy(rl,function(){return Pd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,d=Z.p,Z.p=2,T=we,we|=4;try{Sy(t,i,s)}finally{we=T,Z.p=d,H.T=u}}nt=1,Id(),bd(),Ld()}}function Id(){if(nt===1){nt=0;var t=Dn,i=Li,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var u=Z.p;Z.p=2;var d=we;we|=4;try{pd(i,t);var h=Pr,T=Tc(t.containerInfo),E=h.focusedElem,A=h.selectionRange;if(T!==E&&E&&E.ownerDocument&&vc(E.ownerDocument.documentElement,E)){if(A!==null&&ua(E)){var w=A.start,G=A.end;if(G===void 0&&(G=w),"selectionStart"in E)E.selectionStart=w,E.selectionEnd=Math.min(G,E.value.length);else{var z=E.ownerDocument||document,U=z&&z.defaultView||window;if(U.getSelection){var b=U.getSelection(),me=E.textContent.length,ce=Math.min(A.start,me),Ve=A.end===void 0?ce:Math.min(A.end,me);!b.extend&&ce>Ve&&(T=Ve,Ve=ce,ce=T);var D=yc(E,ce),R=yc(E,Ve);if(D&&R&&(b.rangeCount!==1||b.anchorNode!==D.node||b.anchorOffset!==D.offset||b.focusNode!==R.node||b.focusOffset!==R.offset)){var N=z.createRange();N.setStart(D.node,D.offset),b.removeAllRanges(),ce>Ve?(b.addRange(N),b.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),b.addRange(N))}}}}for(z=[],b=E;b=b.parentNode;)b.nodeType===1&&z.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<z.length;E++){var B=z[E];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}hs=!!Vr,Pr=Vr=null}finally{we=d,Z.p=u,H.T=s}}t.current=i,nt=2}}function bd(){if(nt===2){nt=0;var t=Dn,i=Li,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var u=Z.p;Z.p=2;var d=we;we|=4;try{cd(t,i.alternate,i)}finally{we=d,Z.p=u,H.T=s}}nt=3}}function Ld(){if(nt===4||nt===3){nt=0,ji();var t=Dn,i=Li,s=Vi,u=Sd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nt=5:(nt=0,Li=Dn=null,Vd(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Rn=null),zs(s),i=i.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(to,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=H.T,d=Z.p,Z.p=2,H.T=null;try{for(var h=t.onRecoverableError,T=0;T<u.length;T++){var E=u[T];h(E.value,{componentStack:E.stack})}}finally{H.T=i,Z.p=d}}(Vi&3)!==0&&is(),Kt(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Sr?Go++:(Go=0,Sr=t):Go=0,Bo(0)}}function Vd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Co(i)))}function is(t){return Id(),bd(),Ld(),Pd()}function Pd(){if(nt!==5)return!1;var t=Dn,i=Tr;Tr=0;var s=zs(Vi),u=H.T,d=Z.p;try{Z.p=32>s?32:s,H.T=null,s=Cr,Cr=null;var h=Dn,T=Vi;if(nt=0,Li=Dn=null,Vi=0,(we&6)!==0)throw Error(l(331));var E=we;if(we|=4,Td(h.current),gd(h,h.current,T,s),we=E,Bo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(to,h)}catch{}return!0}finally{Z.p=d,H.T=u,Vd(t,i)}}function Hd(t,i,s){i=Ut(s,i),i=ja(t.stateNode,i,2),t=vn(t,i,2),t!==null&&(io(t,2),Kt(t))}function Pe(t,i,s){if(t.tag===3)Hd(t,t,s);else for(;i!==null;){if(i.tag===3){Hd(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rn===null||!Rn.has(u))){t=Ut(s,t),s=Bf(2),u=vn(i,s,2),u!==null&&(zf(s,u,i,t),io(u,2),Kt(u));break}}i=i.return}}function _r(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Ay;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(s)||(hr=!0,d.add(s),t=Ny.bind(null,t,i,s),i.then(t,t))}function Ny(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,He===t&&(_e&s)===s&&(Ye===4||Ye===3&&(_e&62914560)===_e&&300>dt()-vr?(we&2)===0&&Pi(t,0):gr|=s,bi===_e&&(bi=0)),Kt(t)}function qd(t,i){i===0&&(i=bu()),t=vi(t,i),t!==null&&(io(t,i),Kt(t))}function wy(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),qd(t,s)}function Uy(t,i){var s=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),qd(t,s)}function Iy(t,i){return Ie(t,i)}var os=null,qi=null,Mr=!1,ls=!1,Rr=!1,ei=0;function Kt(t){t!==qi&&t.next===null&&(qi===null?os=qi=t:qi=qi.next=t),ls=!0,Mr||(Mr=!0,Ly())}function Bo(t,i){if(!Rr&&ls){Rr=!0;do for(var s=!1,u=os;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var T=u.suspendedLanes,E=u.pingedLanes;h=(1<<31-Ct(42|t)+1)-1,h&=d&~(T&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,zd(u,h))}else h=_e,h=fl(u,u===He?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||no(u,h)||(s=!0,zd(u,h));u=u.next}while(s);Rr=!1}}function by(){kd()}function kd(){ls=Mr=!1;var t=0;ei!==0&&(zy()&&(t=ei),ei=0);for(var i=dt(),s=null,u=os;u!==null;){var d=u.next,h=Gd(u,i);h===0?(u.next=null,s===null?os=d:s.next=d,d===null&&(qi=s)):(s=u,(t!==0||(h&3)!==0)&&(ls=!0)),u=d}Bo(t)}function Gd(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-Ct(h),E=1<<T,A=d[T];A===-1?((E&s)===0||(E&u)!==0)&&(d[T]=lg(E,i)):A<=i&&(t.expiredLanes|=E),h&=~E}if(i=He,s=_e,s=fl(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&zt(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||no(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&zt(u),zs(s)){case 2:case 8:s=wu;break;case 32:s=rl;break;case 268435456:s=Uu;break;default:s=rl}return u=Bd.bind(null,t),s=Ie(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&zt(u),t.callbackPriority=2,t.callbackNode=null,2}function Bd(t,i){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(is()&&t.callbackNode!==s)return null;var u=_e;return u=fl(t,t===He?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(xd(t,u,i),Gd(t,dt()),t.callbackNode!=null&&t.callbackNode===s?Bd.bind(null,t):null)}function zd(t,i){if(is())return null;xd(t,i,!0)}function Ly(){Yy(function(){(we&6)!==0?Ie(eo,by):kd()})}function Dr(){return ei===0&&(ei=Iu()),ei}function Fd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:gl(""+t)}function Yd(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Vy(t,i,s,u,d){if(i==="submit"&&s&&s.stateNode===d){var h=Fd((d[mt]||null).action),T=u.submitter;T&&(i=(i=T[mt]||null)?Fd(i.formAction):T.getAttribute("formAction"),i!==null&&(h=i,T=null));var E=new Cl("action","action",null,u,d);t.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ei!==0){var A=T?Yd(d,T):new FormData(d);Xa(s,{pending:!0,data:A,method:d.method,action:h},null,A)}}else typeof h=="function"&&(E.preventDefault(),A=T?Yd(d,T):new FormData(d),Xa(s,{pending:!0,data:A,method:d.method,action:h},h,A))},currentTarget:d}]})}}for(var Nr=0;Nr<ma.length;Nr++){var wr=ma[Nr],Py=wr.toLowerCase(),Hy=wr[0].toUpperCase()+wr.slice(1);kt(Py,"on"+Hy)}kt(Ec,"onAnimationEnd"),kt(xc,"onAnimationIteration"),kt(Ac,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(ey,"onTransitionRun"),kt(ty,"onTransitionStart"),kt(ny,"onTransitionCancel"),kt(_c,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function Jd(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],d=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var T=u.length-1;0<=T;T--){var E=u[T],A=E.instance,w=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=w;try{h(d)}catch(G){Ol(G)}d.currentTarget=null,h=A}else for(T=0;T<u.length;T++){if(E=u[T],A=E.instance,w=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;h=E,d.currentTarget=w;try{h(d)}catch(G){Ol(G)}d.currentTarget=null,h=A}}}}function Ee(t,i){var s=i[Fs];s===void 0&&(s=i[Fs]=new Set);var u=t+"__bubble";s.has(u)||(Od(i,t,2,!1),s.add(u))}function Ur(t,i,s){var u=0;i&&(u|=4),Od(s,t,u,i)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Ir(t){if(!t[ss]){t[ss]=!0,qu.forEach(function(s){s!=="selectionchange"&&(qy.has(s)||Ur(s,!1,t),Ur(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ss]||(i[ss]=!0,Ur("selectionchange",!1,i))}}function Od(t,i,s,u){switch(gm(i)){case 2:var d=fv;break;case 8:d=dv;break;default:d=Or}s=d.bind(null,i,s,t),d=void 0,!ea||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(i,s,{capture:!0,passive:d}):t.addEventListener(i,s,!0):d!==void 0?t.addEventListener(i,s,{passive:d}):t.addEventListener(i,s,!1)}function br(t,i,s,u,d){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var E=u.stateNode.containerInfo;if(E===d)break;if(T===4)for(T=u.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;E!==null;){if(T=li(E),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){u=h=T;continue e}E=E.parentNode}}u=u.return}Wu(function(){var w=h,G=Ws(s),z=[];e:{var U=Mc.get(t);if(U!==void 0){var b=Cl,me=t;switch(t){case"keypress":if(vl(s)===0)break e;case"keydown":case"keyup":b=Ig;break;case"focusin":me="focus",b=oa;break;case"focusout":me="blur",b=oa;break;case"beforeblur":case"afterblur":b=oa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Vg;break;case Ec:case xc:case Ac:b=xg;break;case _c:b=Hg;break;case"scroll":case"scrollend":b=vg;break;case"wheel":b=kg;break;case"copy":case"cut":case"paste":b=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ic;break;case"toggle":case"beforetoggle":b=Bg}var ce=(i&4)!==0,Ve=!ce&&(t==="scroll"||t==="scrollend"),D=ce?U!==null?U+"Capture":null:U;ce=[];for(var R=w,N;R!==null;){var B=R;if(N=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||N===null||D===null||(B=so(R,D),B!=null&&ce.push(Fo(R,B,N))),Ve)break;R=R.return}0<ce.length&&(U=new b(U,me,null,s,G),z.push({event:U,listeners:ce}))}}if((i&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",U&&s!==Zs&&(me=s.relatedTarget||s.fromElement)&&(li(me)||me[oi]))break e;if((b||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,b?(me=s.relatedTarget||s.toElement,b=w,me=me?li(me):null,me!==null&&(Ve=f(me),ce=me.tag,me!==Ve||ce!==5&&ce!==27&&ce!==6)&&(me=null)):(b=null,me=w),b!==me)){if(ce=tc,B="onMouseLeave",D="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ce=ic,B="onPointerLeave",D="onPointerEnter",R="pointer"),Ve=b==null?U:lo(b),N=me==null?U:lo(me),U=new ce(B,R+"leave",b,s,G),U.target=Ve,U.relatedTarget=N,B=null,li(G)===w&&(ce=new ce(D,R+"enter",me,s,G),ce.target=N,ce.relatedTarget=Ve,B=ce),Ve=B,b&&me)t:{for(ce=b,D=me,R=0,N=ce;N;N=ki(N))R++;for(N=0,B=D;B;B=ki(B))N++;for(;0<R-N;)ce=ki(ce),R--;for(;0<N-R;)D=ki(D),N--;for(;R--;){if(ce===D||D!==null&&ce===D.alternate)break t;ce=ki(ce),D=ki(D)}ce=null}else ce=null;b!==null&&Kd(z,U,b,ce,!1),me!==null&&Ve!==null&&Kd(z,Ve,me,ce,!0)}}e:{if(U=w?lo(w):window,b=U.nodeName&&U.nodeName.toLowerCase(),b==="select"||b==="input"&&U.type==="file")var ie=fc;else if(uc(U))if(dc)ie=Zg;else{ie=$g;var Te=Xg}else b=U.nodeName,!b||b.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?w&&Qs(w.elementType)&&(ie=fc):ie=Qg;if(ie&&(ie=ie(t,w))){cc(z,ie,s,G);break e}Te&&Te(t,U,w),t==="focusout"&&w&&U.type==="number"&&w.memoizedProps.value!=null&&$s(U,"number",U.value)}switch(Te=w?lo(w):window,t){case"focusin":(uc(Te)||Te.contentEditable==="true")&&(hi=Te,ca=w,ho=null);break;case"focusout":ho=ca=hi=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Cc(z,s,G);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":Cc(z,s,G)}var ae;if(sa)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else pi?ac(t,s)&&(fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(fe="onCompositionStart");fe&&(oc&&s.locale!=="ko"&&(pi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&pi&&(ae=ju()):(pn=G,ta="value"in pn?pn.value:pn.textContent,pi=!0)),Te=as(w,fe),0<Te.length&&(fe=new nc(fe,t,null,s,G),z.push({event:fe,listeners:Te}),ae?fe.data=ae:(ae=rc(s),ae!==null&&(fe.data=ae)))),(ae=Fg?Yg(t,s):Jg(t,s))&&(fe=as(w,"onBeforeInput"),0<fe.length&&(Te=new nc("onBeforeInput","beforeinput",null,s,G),z.push({event:Te,listeners:fe}),Te.data=ae)),Vy(z,t,w,s,G)}Jd(z,i)})}function Fo(t,i,s){return{instance:t,listener:i,currentTarget:s}}function as(t,i){for(var s=i+"Capture",u=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=so(t,s),d!=null&&u.unshift(Fo(t,d,h)),d=so(t,i),d!=null&&u.push(Fo(t,d,h))),t.tag===3)return u;t=t.return}return[]}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kd(t,i,s,u,d){for(var h=i._reactName,T=[];s!==null&&s!==u;){var E=s,A=E.alternate,w=E.stateNode;if(E=E.tag,A!==null&&A===u)break;E!==5&&E!==26&&E!==27||w===null||(A=w,d?(w=so(s,h),w!=null&&T.unshift(Fo(s,w,A))):d||(w=so(s,h),w!=null&&T.push(Fo(s,w,A)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var ky=/\r\n?/g,Gy=/\u0000|\uFFFD/g;function Xd(t){return(typeof t=="string"?t:""+t).replace(ky,`
`).replace(Gy,"")}function $d(t,i){return i=Xd(i),Xd(t)===i}function rs(){}function Le(t,i,s,u,d,h){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||fi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&fi(t,""+u);break;case"className":ml(t,"class",u);break;case"tabIndex":ml(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ml(t,s,u);break;case"style":Qu(t,u,h);break;case"data":if(i!=="object"){ml(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=gl(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(i!=="input"&&Le(t,i,"name",d.name,d,null),Le(t,i,"formEncType",d.formEncType,d,null),Le(t,i,"formMethod",d.formMethod,d,null),Le(t,i,"formTarget",d.formTarget,d,null)):(Le(t,i,"encType",d.encType,d,null),Le(t,i,"method",d.method,d,null),Le(t,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=gl(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=rs);break;case"onScroll":u!=null&&Ee("scroll",t);break;case"onScrollEnd":u!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=gl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),dl(t,"popover",u);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":dl(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gg.get(s)||s,dl(t,s,u))}}function Lr(t,i,s,u,d,h){switch(s){case"style":Qu(t,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(d.children!=null)throw Error(l(60));t.innerHTML=s}}break;case"children":typeof u=="string"?fi(t,u):(typeof u=="number"||typeof u=="bigint")&&fi(t,""+u);break;case"onScroll":u!=null&&Ee("scroll",t);break;case"onScrollEnd":u!=null&&Ee("scrollend",t);break;case"onClick":u!=null&&(t.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),h=t[mt]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(i,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,d);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):dl(t,s,u)}}}function it(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var u=!1,d=!1,h;for(h in s)if(s.hasOwnProperty(h)){var T=s[h];if(T!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Le(t,i,h,T,s,null)}}d&&Le(t,i,"srcSet",s.srcSet,s,null),u&&Le(t,i,"src",s.src,s,null);return;case"input":Ee("invalid",t);var E=h=T=d=null,A=null,w=null;for(u in s)if(s.hasOwnProperty(u)){var G=s[u];if(G!=null)switch(u){case"name":d=G;break;case"type":T=G;break;case"checked":A=G;break;case"defaultChecked":w=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,i));break;default:Le(t,i,u,G,s,null)}}Ou(t,h,E,A,w,T,d,!1),pl(t);return;case"select":Ee("invalid",t),u=T=h=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":h=E;break;case"defaultValue":T=E;break;case"multiple":u=E;default:Le(t,i,d,E,s,null)}i=h,s=T,t.multiple=!!u,i!=null?ci(t,!!u,i,!1):s!=null&&ci(t,!!u,s,!0);return;case"textarea":Ee("invalid",t),h=d=u=null;for(T in s)if(s.hasOwnProperty(T)&&(E=s[T],E!=null))switch(T){case"value":u=E;break;case"defaultValue":d=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Le(t,i,T,E,s,null)}Xu(t,u,d,h),pl(t);return;case"option":for(A in s)if(s.hasOwnProperty(A)&&(u=s[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Le(t,i,A,u,s,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(u=0;u<zo.length;u++)Ee(zo[u],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in s)if(s.hasOwnProperty(w)&&(u=s[w],u!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Le(t,i,w,u,s,null)}return;default:if(Qs(i)){for(G in s)s.hasOwnProperty(G)&&(u=s[G],u!==void 0&&Lr(t,i,G,u,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(u=s[E],u!=null&&Le(t,i,E,u,s,null))}function By(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,E=null,A=null,w=null,G=null;for(b in s){var z=s[b];if(s.hasOwnProperty(b)&&z!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":A=z;default:u.hasOwnProperty(b)||Le(t,i,b,null,u,z)}}for(var U in u){var b=u[U];if(z=s[U],u.hasOwnProperty(U)&&(b!=null||z!=null))switch(U){case"type":h=b;break;case"name":d=b;break;case"checked":w=b;break;case"defaultChecked":G=b;break;case"value":T=b;break;case"defaultValue":E=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(137,i));break;default:b!==z&&Le(t,i,U,b,u,z)}}Xs(t,T,E,A,w,G,h,d);return;case"select":b=T=E=U=null;for(h in s)if(A=s[h],s.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":b=A;default:u.hasOwnProperty(h)||Le(t,i,h,null,u,A)}for(d in u)if(h=u[d],A=s[d],u.hasOwnProperty(d)&&(h!=null||A!=null))switch(d){case"value":U=h;break;case"defaultValue":E=h;break;case"multiple":T=h;default:h!==A&&Le(t,i,d,h,u,A)}i=E,s=T,u=b,U!=null?ci(t,!!s,U,!1):!!u!=!!s&&(i!=null?ci(t,!!s,i,!0):ci(t,!!s,s?[]:"",!1));return;case"textarea":b=U=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Le(t,i,E,null,u,d)}for(T in u)if(d=u[T],h=s[T],u.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":U=d;break;case"defaultValue":b=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==h&&Le(t,i,T,d,u,h)}Ku(t,U,b);return;case"option":for(var me in s)if(U=s[me],s.hasOwnProperty(me)&&U!=null&&!u.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Le(t,i,me,null,u,U)}for(A in u)if(U=u[A],b=s[A],u.hasOwnProperty(A)&&U!==b&&(U!=null||b!=null))switch(A){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Le(t,i,A,U,u,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)U=s[ce],s.hasOwnProperty(ce)&&U!=null&&!u.hasOwnProperty(ce)&&Le(t,i,ce,null,u,U);for(w in u)if(U=u[w],b=s[w],u.hasOwnProperty(w)&&U!==b&&(U!=null||b!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:Le(t,i,w,U,u,b)}return;default:if(Qs(i)){for(var Ve in s)U=s[Ve],s.hasOwnProperty(Ve)&&U!==void 0&&!u.hasOwnProperty(Ve)&&Lr(t,i,Ve,void 0,u,U);for(G in u)U=u[G],b=s[G],!u.hasOwnProperty(G)||U===b||U===void 0&&b===void 0||Lr(t,i,G,U,u,b);return}}for(var D in s)U=s[D],s.hasOwnProperty(D)&&U!=null&&!u.hasOwnProperty(D)&&Le(t,i,D,null,u,U);for(z in u)U=u[z],b=s[z],!u.hasOwnProperty(z)||U===b||U==null&&b==null||Le(t,i,z,U,u,b)}var Vr=null,Pr=null;function us(t){return t.nodeType===9?t:t.ownerDocument}function Qd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qr=null;function zy(){var t=window.event;return t&&t.type==="popstate"?t===qr?!1:(qr=t,!0):(qr=null,!1)}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Fy=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Yy=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(t){return jd.resolve(null).then(t).catch(Jy)}:Wd;function Jy(t){setTimeout(function(){throw t})}function wn(t){return t==="head"}function em(t,i){var s=i,u=0,d=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<u&&8>u){s=u;var T=t.ownerDocument;if(s&1&&Yo(T.documentElement),s&2&&Yo(T.body),s&4)for(s=T.head,Yo(s),T=s.firstChild;T;){var E=T.nextSibling,A=T.nodeName;T[oo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=E}}if(d===0){t.removeChild(h),Wo(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:u=s.charCodeAt(0)-48;else u=0;s=h}while(s);Wo(i)}function kr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":kr(s),Ys(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Oy(t,i,s,u){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[oo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Bt(t.nextSibling),t===null)break}return null}function Ky(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Bt(t.nextSibling),t===null))return null;return t}function Gr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xy(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Bt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Br=null;function tm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function nm(t,i,s){switch(i=us(s),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Yo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ys(t)}var Ht=new Map,im=new Set;function cs(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var un=Z.d;Z.d={f:$y,r:Qy,D:Zy,C:Wy,L:jy,m:ev,X:nv,S:tv,M:iv};function $y(){var t=un.f(),i=ts();return t||i}function Qy(t){var i=si(t);i!==null&&i.tag===5&&i.type==="form"?xf(i):un.r(t)}var Gi=typeof document>"u"?null:document;function om(t,i,s){var u=Gi;if(u&&typeof i=="string"&&i){var d=wt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),im.has(d)||(im.add(d),t={rel:t,crossOrigin:s,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),it(i,"link",t),Ze(i),u.head.appendChild(i)))}}function Zy(t){un.D(t),om("dns-prefetch",t,null)}function Wy(t,i){un.C(t,i),om("preconnect",t,i)}function jy(t,i,s){un.L(t,i,s);var u=Gi;if(u&&t&&i){var d='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+wt(s.imageSizes)+'"]')):d+='[href="'+wt(t)+'"]';var h=d;switch(i){case"style":h=Bi(t);break;case"script":h=zi(t)}Ht.has(h)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ht.set(h,t),u.querySelector(d)!==null||i==="style"&&u.querySelector(Jo(h))||i==="script"&&u.querySelector(Oo(h))||(i=u.createElement("link"),it(i,"link",t),Ze(i),u.head.appendChild(i)))}}function ev(t,i){un.m(t,i);var s=Gi;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+wt(u)+'"][href="'+wt(t)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=zi(t)}if(!Ht.has(h)&&(t=v({rel:"modulepreload",href:t},i),Ht.set(h,t),s.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Oo(h)))return}u=s.createElement("link"),it(u,"link",t),Ze(u),s.head.appendChild(u)}}}function tv(t,i,s){un.S(t,i,s);var u=Gi;if(u&&t){var d=ai(u).hoistableStyles,h=Bi(t);i=i||"default";var T=d.get(h);if(!T){var E={loading:0,preload:null};if(T=u.querySelector(Jo(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ht.get(h))&&zr(t,s);var A=T=u.createElement("link");Ze(A),it(A,"link",t),A._p=new Promise(function(w,G){A.onload=w,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fs(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:E},d.set(h,T)}}}function nv(t,i){un.X(t,i);var s=Gi;if(s&&t){var u=ai(s).hoistableScripts,d=zi(t),h=u.get(d);h||(h=s.querySelector(Oo(d)),h||(t=v({src:t,async:!0},i),(i=Ht.get(d))&&Fr(t,i),h=s.createElement("script"),Ze(h),it(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function iv(t,i){un.M(t,i);var s=Gi;if(s&&t){var u=ai(s).hoistableScripts,d=zi(t),h=u.get(d);h||(h=s.querySelector(Oo(d)),h||(t=v({src:t,async:!0,type:"module"},i),(i=Ht.get(d))&&Fr(t,i),h=s.createElement("script"),Ze(h),it(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function lm(t,i,s,u){var d=(d=se.current)?cs(d):null;if(!d)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Bi(s.href),s=ai(d).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Bi(s.href);var h=ai(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector(Jo(t)))&&!h._p&&(T.instance=h,T.state.loading=5),Ht.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ht.set(t,s),h||ov(d,t,s,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zi(s),s=ai(d).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Bi(t){return'href="'+wt(t)+'"'}function Jo(t){return'link[rel="stylesheet"]['+t+"]"}function sm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function ov(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),it(i,"link",s),Ze(i),t.head.appendChild(i))}function zi(t){return'[src="'+wt(t)+'"]'}function Oo(t){return"script[async]"+t}function am(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+wt(s.href)+'"]');if(u)return i.instance=u,Ze(u),u;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ze(u),it(u,"style",d),fs(u,s.precedence,t),i.instance=u;case"stylesheet":d=Bi(s.href);var h=t.querySelector(Jo(d));if(h)return i.state.loading|=4,i.instance=h,Ze(h),h;u=sm(s),(d=Ht.get(d))&&zr(u,d),h=(t.ownerDocument||t).createElement("link"),Ze(h);var T=h;return T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),it(h,"link",u),i.state.loading|=4,fs(h,s.precedence,t),i.instance=h;case"script":return h=zi(s.src),(d=t.querySelector(Oo(h)))?(i.instance=d,Ze(d),d):(u=s,(d=Ht.get(h))&&(u=v({},s),Fr(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ze(d),it(d,"link",u),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,fs(u,s.precedence,t));return i.instance}function fs(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,T=0;T<u.length;T++){var E=u[T];if(E.dataset.precedence===i)h=E;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function zr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Fr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ds=null;function rm(t,i,s){if(ds===null){var u=new Map,d=ds=new Map;d.set(s,u)}else d=ds,u=d.get(s),u||(u=new Map,d.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var h=s[d];if(!(h[oo]||h[st]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(i)||"";T=t+T;var E=u.get(T);E?E.push(h):u.set(T,[h])}}return u}function um(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function lv(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ko=null;function sv(){}function av(t,i,s){if(Ko===null)throw Error(l(475));var u=Ko;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Bi(s.href),h=t.querySelector(Jo(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=ms.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=h,Ze(h);return}h=t.ownerDocument||t,s=sm(s),(d=Ht.get(d))&&zr(s,d),h=h.createElement("link"),Ze(h);var T=h;T._p=new Promise(function(E,A){T.onload=E,T.onerror=A}),it(h,"link",s),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=ms.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function rv(){if(Ko===null)throw Error(l(475));var t=Ko;return t.stylesheets&&t.count===0&&Yr(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Yr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function ms(){if(this.count--,this.count===0){if(this.stylesheets)Yr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ps=null;function Yr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ps=new Map,i.forEach(uv,t),ps=null,ms.call(t))}function uv(t,i){if(!(i.state.loading&4)){var s=ps.get(t);if(s)var u=s.get(null);else{s=new Map,ps.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),u=T)}u&&s.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),h=s.get(T)||u,h===u&&s.set(null,d),s.set(T,d),this.count++,u=ms.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Xo={$$typeof:L,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function cv(t,i,s,u,d,h,T,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fm(t,i,s,u,d,h,T,E,A,w,G,z){return t=new cv(t,i,s,T,E,A,w,z),i=1,h===!0&&(i|=24),h=Et(3,null,null,i),t.current=h,h.stateNode=t,i=_a(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:s,cache:i},Na(h),t}function dm(t){return t?(t=Ti,t):Ti}function mm(t,i,s,u,d,h){d=dm(d),u.context===null?u.context=d:u.pendingContext=d,u=yn(i),u.payload={element:s},h=h===void 0?null:h,h!==null&&(u.callback=h),s=vn(t,u,i),s!==null&&(Rt(s,t,i),Ao(s,t,i))}function pm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Jr(t,i){pm(t,i),(t=t.alternate)&&pm(t,i)}function hm(t){if(t.tag===13){var i=vi(t,67108864);i!==null&&Rt(i,t,67108864),Jr(t,67108864)}}var hs=!0;function fv(t,i,s,u){var d=H.T;H.T=null;var h=Z.p;try{Z.p=2,Or(t,i,s,u)}finally{Z.p=h,H.T=d}}function dv(t,i,s,u){var d=H.T;H.T=null;var h=Z.p;try{Z.p=8,Or(t,i,s,u)}finally{Z.p=h,H.T=d}}function Or(t,i,s,u){if(hs){var d=Kr(u);if(d===null)br(t,i,u,gs,s),ym(t,u);else if(pv(d,t,i,s,u))u.stopPropagation();else if(ym(t,u),i&4&&-1<mv.indexOf(t)){for(;d!==null;){var h=si(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Hn(h.pendingLanes);if(T!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var A=1<<31-Ct(T);E.entanglements[1]|=A,T&=~A}Kt(h),(we&6)===0&&(jl=dt()+500,Bo(0))}}break;case 13:E=vi(h,2),E!==null&&Rt(E,h,2),ts(),Jr(h,2)}if(h=Kr(u),h===null&&br(t,i,u,gs,s),h===d)break;d=h}d!==null&&u.stopPropagation()}else br(t,i,u,null,s)}}function Kr(t){return t=Ws(t),Xr(t)}var gs=null;function Xr(t){if(gs=null,t=li(t),t!==null){var i=f(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gs=t,null}function gm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case eo:return 2;case wu:return 8;case rl:case jh:return 32;case Uu:return 268435456;default:return 32}default:return 32}}var $r=!1,Un=null,In=null,bn=null,$o=new Map,Qo=new Map,Ln=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,i){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":$o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(i.pointerId)}}function Zo(t,i,s,u,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},i!==null&&(i=si(i),i!==null&&hm(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function pv(t,i,s,u,d){switch(i){case"focusin":return Un=Zo(Un,t,i,s,u,d),!0;case"dragenter":return In=Zo(In,t,i,s,u,d),!0;case"mouseover":return bn=Zo(bn,t,i,s,u,d),!0;case"pointerover":var h=d.pointerId;return $o.set(h,Zo($o.get(h)||null,t,i,s,u,d)),!0;case"gotpointercapture":return h=d.pointerId,Qo.set(h,Zo(Qo.get(h)||null,t,i,s,u,d)),!0}return!1}function vm(t){var i=li(t.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,ag(t.priority,function(){if(s.tag===13){var u=Mt();u=Bs(u);var d=vi(s,u);d!==null&&Rt(d,s,u),Jr(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ys(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Kr(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Zs=u,s.target.dispatchEvent(u),Zs=null}else return i=si(s),i!==null&&hm(i),t.blockedOn=s,!1;i.shift()}return!0}function Tm(t,i,s){ys(t)&&s.delete(i)}function hv(){$r=!1,Un!==null&&ys(Un)&&(Un=null),In!==null&&ys(In)&&(In=null),bn!==null&&ys(bn)&&(bn=null),$o.forEach(Tm),Qo.forEach(Tm)}function vs(t,i){t.blockedOn===i&&(t.blockedOn=null,$r||($r=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hv)))}var Ts=null;function Cm(t){Ts!==t&&(Ts=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ts===t&&(Ts=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],d=t[i+2];if(typeof u!="function"){if(Xr(u||s)===null)continue;break}var h=si(s);h!==null&&(t.splice(i,3),i-=3,Xa(h,{pending:!0,data:d,method:s.method,action:u},u,d))}}))}function Wo(t){function i(A){return vs(A,t)}Un!==null&&vs(Un,t),In!==null&&vs(In,t),bn!==null&&vs(bn,t),$o.forEach(i),Qo.forEach(i);for(var s=0;s<Ln.length;s++){var u=Ln[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Ln.length&&(s=Ln[0],s.blockedOn===null);)vm(s),s.blockedOn===null&&Ln.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var d=s[u],h=s[u+1],T=d[mt]||null;if(typeof h=="function")T||Cm(s);else if(T){var E=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[mt]||null)E=T.formAction;else if(Xr(d)!==null)continue}else E=T.action;typeof E=="function"?s[u+1]=E:(s.splice(u,3),u-=3),Cm(s)}}}function Qr(t){this._internalRoot=t}Cs.prototype.render=Qr.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,u=Mt();mm(s,u,t,i,null,null)},Cs.prototype.unmount=Qr.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mm(t.current,2,null,t,null,null),ts(),i[oi]=null}};function Cs(t){this._internalRoot=t}Cs.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ln.length&&i!==0&&i<Ln[s].priority;s++);Ln.splice(s,0,t),s===0&&vm(t)}};var Sm=e.version;if(Sm!=="19.1.1")throw Error(l(527,Sm,"19.1.1"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var gv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{to=Ss.inject(gv),Tt=Ss}catch{}}return el.createRoot=function(t,i){if(!c(t))throw Error(l(299));var s=!1,u="",d=Hf,h=qf,T=kf,E=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=fm(t,1,!1,null,null,s,u,d,h,T,E,null),t[oi]=i.current,Ir(t),new Qr(i)},el.hydrateRoot=function(t,i,s){if(!c(t))throw Error(l(299));var u=!1,d="",h=Hf,T=qf,E=kf,A=null,w=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks),s.formState!==void 0&&(w=s.formState)),i=fm(t,1,!0,i,s??null,u,d,h,T,E,A,w),i.context=dm(null),s=i.current,u=Mt(),u=Bs(u),d=yn(u),d.callback=null,vn(s,d,u),s=u,i.current.lanes=s,io(i,s),Kt(i),t[oi]=i.current,Ir(t),new Cs(i)},el.version="19.1.1",el}var Um;function Mv(){if(Um)return jr.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jr.exports=_v(),jr.exports}var Rv=Mv();const Dv=uh(Rv),Nv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),_.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),au=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("polyline",{points:"3 6 5 6 21 6"}),_.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),_.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),_.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),wv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),_.jsx("polyline",{points:"15 15 12 18 9 15"})]}),Uv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"18"}),_.jsx("polyline",{points:"9 15 12 12 15 15"})]}),Im=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("path",{d:"M10 12a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-4z"})]}),Iv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),_.jsx("polyline",{points:"14 2 14 8 20 8"}),_.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),_.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),_.jsx("polyline",{points:"10 9 9 9 8 9"})]}),bv=({size:n=24,...e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"})}),Lv=({size:n=24,...e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("path",{d:"M12 2L2 12l10 10 10-10L12 2z"})}),bm=({size:n=24,...e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("circle",{cx:"12",cy:"12",r:"10"})}),iu=({size:n=24,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M12 8V4H8"}),_.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),_.jsx("path",{d:"M2 14h2"}),_.jsx("path",{d:"M20 14h2"}),_.jsx("path",{d:"M15 13v2"}),_.jsx("path",{d:"M9 13v2"})]}),Vv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),_.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),Pv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Hv=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),_.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),_.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),_.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),_.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),_.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),_.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),_.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]}),qv=({size:n=24,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),_.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),_.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),Lm=({size:n=20,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),_.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),kv=({size:n=16,...e})=>_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:_.jsx("polyline",{points:"6 9 12 15 18 9"})}),ch=({size:n=24,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),_.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Gv=({size:n=24,...e})=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[_.jsx("path",{d:"M7 2H2v5"}),_.jsx("path",{d:"M2 17v5h5"}),_.jsx("path",{d:"M17 22h5v-5"}),_.jsx("path",{d:"M22 7V2h-5"})]}),Bv=({projects:n,activeProjectId:e,onSelectProject:o,onAddProject:l,onDeleteProject:c,onRenameProject:f,onExport:m,onExportAll:g,onImport:y})=>{const[p,v]=ge.useState(null),[C,S]=ge.useState(""),x=ge.useRef(null),I=q=>{v(q.id),S(q.name)},V=()=>{p&&C.trim()&&f(p,C),v(null),S("")},J=()=>{var q;(q=x.current)==null||q.click()},K=q=>{var $;const L=($=q.target.files)==null?void 0:$[0];L&&(y(L),q.target.value="")};return _.jsxs("aside",{className:"w-64 bg-gray-900 border-r border-gray-700 flex flex-col p-4 shadow-lg",children:[_.jsx("h1",{className:"text-xl font-bold text-indigo-400 mb-4",children:"IntelliProcess"}),_.jsxs("button",{onClick:l,className:"flex items-center justify-center w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg mb-4 transition duration-200",children:[_.jsx(Nv,{className:"mr-2"})," New Project"]}),_.jsx("nav",{className:"flex-1 overflow-y-auto",children:_.jsx("ul",{children:n.map(q=>_.jsx("li",{className:"mb-2",children:p===q.id?_.jsx("input",{type:"text",value:C,onChange:L=>S(L.target.value),onBlur:V,onKeyDown:L=>L.key==="Enter"&&V(),className:"bg-gray-700 border border-indigo-500 text-white p-2 rounded w-full outline-none",autoFocus:!0,onFocus:L=>L.target.select()}):_.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg cursor-pointer transition duration-200 ${e===q.id?"bg-indigo-700 text-white":"hover:bg-gray-700"}`,onClick:()=>o(q.id),children:[_.jsx("span",{onDoubleClick:L=>{L.stopPropagation(),I(q)},className:"flex-1 truncate",children:q.name}),_.jsx("button",{onClick:L=>{L.stopPropagation(),c(q.id)},className:"ml-2 p-1 text-gray-400 hover:text-red-500 rounded-full","aria-label":"Delete project",children:_.jsx(au,{size:16})})]})},q.id))})}),_.jsxs("div",{className:"mt-auto space-y-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Export Active Project"}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("button",{onClick:()=>m("png"),className:"w-full flex items-center bg-gray-700 hover:bg-gray-600 text-sm font-medium py-2 px-3 rounded-md transition",children:[_.jsx(wv,{className:"mr-2",size:16})," Export as PNG"]}),_.jsxs("button",{onClick:()=>m("json"),className:"w-full flex items-center bg-gray-700 hover:bg-gray-600 text-sm font-medium py-2 px-3 rounded-md transition",children:[_.jsx(Im,{className:"mr-2",size:16})," Export as JSON"]}),_.jsxs("button",{onClick:()=>m("text"),className:"w-full flex items-center bg-gray-700 hover:bg-gray-600 text-sm font-medium py-2 px-3 rounded-md transition",children:[_.jsx(Iv,{className:"mr-2",size:16})," Export as Text"]})]})]}),_.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[_.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Global Actions"}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"file",ref:x,onChange:K,style:{display:"none"},accept:".json"}),_.jsxs("button",{onClick:J,className:"w-full flex items-center bg-gray-700 hover:bg-gray-600 text-sm font-medium py-2 px-3 rounded-md transition",children:[_.jsx(Uv,{className:"mr-2",size:16})," Import from JSON"]}),_.jsxs("button",{onClick:g,className:"w-full flex items-center bg-gray-700 hover:bg-gray-600 text-sm font-medium py-2 px-3 rounded-md transition",children:[_.jsx(Im,{className:"mr-2",size:16})," Export All as JSON"]})]})]})]})]})};var he=(n=>(n.Process="Process",n.Decision="Decision",n.Start="Start",n.End="End",n.Email="Email",n))(he||{});const tl=({type:n,children:e,label:o})=>{const l=c=>{c.dataTransfer.setData("application/reactflow",n),c.dataTransfer.effectAllowed="move"};return _.jsxs("div",{draggable:!0,onDragStart:l,className:"flex flex-col items-center p-2 text-gray-300 hover:bg-gray-600 rounded-lg cursor-grab transition duration-200",title:`Drag to add ${o}`,children:[e,_.jsx("span",{className:"text-xs mt-1",children:o})]})},zv=({onAutoLayout:n})=>{const[e,o]=ge.useState(!1),l=ge.useRef(null);return ge.useEffect(()=>{const c=f=>{l.current&&!l.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),_.jsxs("header",{className:"h-16 bg-gray-800 border-b border-gray-700 flex items-center justify-between px-4 shadow-md z-10",children:[_.jsxs("div",{className:"flex space-x-4",children:[_.jsx(tl,{type:he.Start,label:"Start",children:_.jsx(bm,{className:"text-green-400"})}),_.jsx(tl,{type:he.Process,label:"Process",children:_.jsx(bv,{className:"text-sky-400"})}),_.jsx(tl,{type:he.Decision,label:"Decision",children:_.jsx(Lv,{className:"text-[#2661bf]"})}),_.jsx(tl,{type:he.Email,label:"Email",children:_.jsx(ch,{className:"text-purple-400"})}),_.jsx(tl,{type:he.End,label:"End",children:_.jsx(bm,{className:"text-amber-400"})})]}),_.jsxs("div",{className:"relative",ref:l,children:[_.jsxs("button",{onClick:()=>o(c=>!c),className:"flex items-center p-2 text-gray-300 hover:bg-gray-600 rounded-lg transition duration-200",title:"Auto Layout Options",children:[_.jsx(qv,{className:"text-indigo-400"}),_.jsx("span",{className:"text-sm ml-2 font-medium",children:"Auto Layout"}),_.jsx(kv,{className:`ml-1 transition-transform ${e?"rotate-180":""}`})]}),e&&_.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-gray-700 border border-gray-600 rounded-md shadow-lg z-20 py-1",children:[_.jsx("button",{onClick:()=>{n("horizontal"),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600",children:"Horizontal"}),_.jsx("button",{onClick:()=>{n("vertical"),o(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-200 hover:bg-indigo-600",children:"Vertical"})]})]})]})},il={[he.Process]:{width:140,height:80},[he.Decision]:{width:140,height:100},[he.Start]:{width:140,height:60},[he.End]:{width:140,height:60},[he.Email]:{width:100,height:100}},Fv=[{id:"proj-1",name:"Technical Writing Workflow",nodes:[{id:"n1",type:he.Start,position:{x:50,y:250},label:"Writer gathers information",width:140,height:60},{id:"n2",type:he.Process,position:{x:250,y:240},label:"Writer composes first draft",width:140,height:80},{id:"n3",type:he.Process,position:{x:450,y:240},label:"Writer submits draft for review",width:140,height:80},{id:"n4",type:he.Process,position:{x:650,y:100},label:"Engineering Team Lead review",width:140,height:80},{id:"n5",type:he.Process,position:{x:650,y:240},label:"Editor",width:140,height:80},{id:"n6",type:he.Process,position:{x:650,y:380},label:"Project Manager review",width:140,height:80},{id:"n7",type:he.Process,position:{x:850,y:240},label:"Writer incorporates SME feedback",width:140,height:80},{id:"n8",type:he.Process,position:{x:1050,y:240},label:"Writer submits final draft",width:140,height:80},{id:"n9",type:he.Decision,position:{x:1250,y:230},label:"Content approved or rejected",width:140,height:100},{id:"n10",type:he.End,position:{x:1450,y:100},label:"Writer publishes content",width:140,height:60},{id:"n11",type:he.Email,position:{x:50,y:50},label:"Notify manager of new draft",width:100,height:100}],edges:[{id:"e1",source:"n1",target:"n2",sourceHandle:1,targetHandle:3},{id:"e2",source:"n2",target:"n3",sourceHandle:1,targetHandle:3},{id:"e3",source:"n3",target:"n4",sourceHandle:0,targetHandle:3},{id:"e4",source:"n3",target:"n5",sourceHandle:1,targetHandle:3},{id:"e5",source:"n3",target:"n6",sourceHandle:2,targetHandle:3},{id:"e6",source:"n4",target:"n7",sourceHandle:1,targetHandle:0},{id:"e7",source:"n5",target:"n7",sourceHandle:1,targetHandle:3},{id:"e8",source:"n6",target:"n7",sourceHandle:1,targetHandle:2},{id:"e9",source:"n7",target:"n8",sourceHandle:1,targetHandle:3},{id:"e10",source:"n8",target:"n9",sourceHandle:1,targetHandle:3},{id:"e11",source:"n9",target:"n10",label:"Approved",sourceHandle:0,targetHandle:3},{id:"e12",source:"n9",target:"n8",label:"Rejected",sourceHandle:2,targetHandle:2}]}],sl=({node:n,isSelected:e,isEditing:o,onMouseDown:l,onConnectorMouseDown:c,onNodeMouseUp:f,onDoubleClick:m,onLabelChange:g,onContextMenu:y,children:p})=>{const[v,C]=ge.useState(!1),[S,x]=ge.useState(n.label),I=ge.useRef(null);ge.useEffect(()=>{o&&(x(n.label),setTimeout(()=>{var F;return(F=I.current)==null?void 0:F.select()},0))},[o,n.label]);const V=()=>{g(n.id,S)},J=F=>{F.key==="Enter"&&!F.shiftKey?(F.preventDefault(),V()):F.key==="Escape"&&(x(n.label),g(n.id,n.label))},K=[{x:n.width/2,y:0},{x:n.width,y:n.height/2},{x:n.width/2,y:n.height},{x:0,y:n.height/2}],q=n.type===he.Email,L=8,$=45,k={x:q?0:L,y:q?$:L,width:q?n.width:n.width-L*2,height:q?n.height-$-5:n.height-L*2};return _.jsxs("g",{transform:`translate(${n.position.x}, ${n.position.y})`,className:"cursor-pointer",onMouseDown:F=>l(n.id,F),onMouseUp:F=>f(n.id,F),onDoubleClick:()=>m(n.id),onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onContextMenu:y,children:[e&&_.jsx("rect",{x:"-5",y:"-5",width:n.width+10,height:n.height+10,fill:"none",stroke:"#6366f1",strokeWidth:"2",strokeDasharray:"4",rx:n.type===he.Start||n.type===he.End?(n.height+10)/2:12}),p,o?_.jsx("foreignObject",{...k,children:xu.createElement("div",{className:"w-full h-full flex items-center justify-center"},_.jsx("textarea",{ref:I,value:S,onChange:F=>x(F.target.value),onBlur:V,onKeyDown:J,className:"bg-transparent text-white text-center w-full h-full outline-none p-0 resize-none overflow-y-hidden",style:{fontFamily:"sans-serif",fontSize:"14px"},onClick:F=>F.stopPropagation()}))}):_.jsx("foreignObject",{...k,style:{pointerEvents:"none"},children:_.jsx("div",{className:"w-full h-full flex items-center justify-center text-center text-white font-medium text-sm leading-tight break-words",children:n.label})}),(v||e)&&n.type!==he.Email&&K.map((F,W)=>_.jsx("circle",{cx:F.x,cy:F.y,r:"6",className:"fill-indigo-500 hover:fill-indigo-300 stroke-gray-900",strokeWidth:"2",cursor:"crosshair",onMouseDown:Q=>c(n.id,W,Q)},W))]})},Yv=n=>{const{node:e}=n;return _.jsx(sl,{...n,children:_.jsx("rect",{x:"0",y:"0",width:e.width,height:e.height,rx:"8",ry:"8",className:"fill-sky-600 stroke-sky-400",strokeWidth:"2"})})},Jv=n=>{const{node:e}=n,{width:o,height:l}=e,c=`${o/2},0 ${o},${l/2} ${o/2},${l} 0,${l/2}`;return _.jsx(sl,{...n,children:_.jsx("polygon",{points:c,className:"fill-[#2661bf] stroke-sky-400",strokeWidth:"2"})})},Ov=n=>{const{node:e}=n;return _.jsx(sl,{...n,children:_.jsx("rect",{x:"0",y:"0",width:e.width,height:e.height,rx:e.height/2,ry:e.height/2,className:"fill-green-700 stroke-green-400",strokeWidth:"2"})})},Kv=n=>{const{node:e}=n;return _.jsx(sl,{...n,children:_.jsx("rect",{x:"0",y:"0",width:e.width,height:e.height,rx:e.height/2,ry:e.height/2,className:"fill-amber-600 stroke-amber-400",strokeWidth:"2"})})},Xv=n=>{const{node:e}=n,o=32;return _.jsxs(sl,{...n,children:[_.jsx("rect",{x:"0",y:"0",width:e.width,height:e.height,fill:"transparent"}),_.jsx("g",{transform:`translate(${(e.width-o)/2}, 10)`,className:"fill-purple-300 stroke-purple-300",style:{pointerEvents:"none"},children:_.jsx(ch,{size:o,strokeWidth:1.5})})]})},Ns=(n,e)=>{const l=[{x:n.width/2,y:0},{x:n.width,y:n.height/2},{x:n.width/2,y:n.height},{x:0,y:n.height/2}][e];return{x:n.position.x+l.x,y:n.position.y+l.y}};function fh(n,e,o){const l=o.sourceHandle??1,c=o.targetHandle??3,f=Ns(n,l),m=Ns(e,c);if(o.source===o.target){const L=f.x,$=f.y,k=[{x:L,y:$},{x:L,y:$-20},{x:L+n.width/2+20,y:$-20},{x:L+n.width/2+20,y:$+n.height/2+20},{x:L,y:$+n.height/2+20},m];return{path:k.map((W,Q)=>`${Q===0?"M":"L"} ${W.x} ${W.y}`).join(" "),startPos:f,endPos:m,midPoint:k[2]}}const g=25,y=[f];let p={...f},v={...m};l===0?p.y-=g:l===1?p.x+=g:l===2?p.y+=g:l===3&&(p.x-=g),c===0?v.y+=g:c===1?v.x-=g:c===2?v.y-=g:c===3&&(v.x+=g),y.push(p),l===1||l===3?y.push({x:p.x,y:v.y}):y.push({x:v.x,y:p.y}),y.push(v),y.push(m);const S=y.reduce((q,L)=>{const $=q[q.length-1];if(!$||$.x!==L.x||$.y!==L.y){if(q.length>=2){const k=q[q.length-2];(k.x===L.x||k.y===L.y)&&q.pop()}q.push(L)}return q},[]),x=S.map((q,L)=>`${L===0?"M":"L"} ${q.x} ${q.y}`).join(" "),I=Math.floor(S.length/2),V=S[I-1]||f,J=S[I]||m,K={x:(V.x+J.x)/2,y:(V.y+J.y)/2};return{path:x,startPos:f,endPos:m,midPoint:K}}const $v=({edge:n,sourceNode:e,targetNode:o,isEditing:l,onDoubleClick:c,onLabelChange:f,onEdgeDragStart:m,onContextMenu:g})=>{const[y,p]=ge.useState(n.label||""),v=ge.useRef(null),C=ge.useRef(null),S=ge.useRef(null);ge.useEffect(()=>{l&&(p(n.label||""),setTimeout(()=>{v.current&&(v.current.focus(),v.current.setSelectionRange(0,v.current.value.length))},0))},[l,n.label]);const x=()=>{f(n.id,y)},I=F=>{F.key==="Enter"?x():F.key==="Escape"&&f(n.id,n.label||"")},{path:V,startPos:J,endPos:K,midPoint:q}=fh(e,o,n),L=F=>{F.button!==2&&(F.stopPropagation(),S.current=F,C.current=window.setTimeout(()=>{var W;if(S.current){const Q=S.current.target.ownerSVGElement;if(!Q)return;const ne=Q.createSVGPoint();ne.x=S.current.clientX,ne.y=S.current.clientY;const ue=ne.matrixTransform((W=Q.getScreenCTM())==null?void 0:W.inverse()),de=(xe,H)=>(xe.x-H.x)**2+(xe.y-H.y)**2,Ce=de(ue,J),ot=de(ue,K),lt=Ce<ot?"source":"target";m(n.id,lt,S.current)}},300))},$=()=>{C.current&&clearTimeout(C.current),S.current=null},k=()=>{C.current&&clearTimeout(C.current),S.current=null};return _.jsxs("g",{className:"group text-gray-400 hover:text-indigo-400",onMouseUp:$,onMouseLeave:k,children:[_.jsx("path",{d:V,stroke:"transparent",strokeWidth:"20",fill:"none",className:"cursor-pointer",onMouseDown:L,onDoubleClick:()=>c(n.id),onContextMenu:g}),_.jsx("path",{d:V,stroke:"currentColor",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",className:"transition-colors",style:{pointerEvents:"none"}}),l?_.jsx("foreignObject",{x:q.x-50,y:q.y-18,width:"100",height:"36",children:xu.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",className:"w-full h-full flex items-center justify-center"},_.jsx("input",{ref:v,type:"text",value:y,onChange:F=>p(F.target.value),onBlur:x,onKeyDown:I,className:"bg-gray-900 text-white text-center w-full outline-none p-1 rounded border border-indigo-500",style:{fontFamily:"sans-serif",fontSize:"12px"},onClick:F=>F.stopPropagation()}))}):n.label&&_.jsx("text",{x:q.x,y:q.y-12,textAnchor:"middle",fill:"currentColor",className:"text-xs font-semibold select-none",style:{pointerEvents:"none",paintOrder:"stroke",stroke:"#1f2937",strokeWidth:"4px",strokeLinecap:"butt",strokeLinejoin:"miter"},children:n.label})]})},Qv=({project:n,updateProject:e,canvasRef:o,containerRef:l,onNodeContextMenu:c,onEdgeContextMenu:f,closeContextMenu:m,editingNodeId:g,setEditingNodeId:y,editingEdgeId:p,setEditingEdgeId:v,pan:C,setPan:S,isPanning:x,setIsPanning:I,startPan:V,setStartPan:J})=>{const[K,q]=ge.useState(null),[L,$]=ge.useState(null),[k,F]=ge.useState(null),[W,Q]=ge.useState(null),ne=ge.useRef(!1),ue=new Map(n.nodes.map(Y=>[Y.id,Y])),de=Y=>{var Ne;const te=o.current;if(!te)return{x:0,y:0};const ee=te.createSVGPoint();ee.x=Y.clientX,ee.y=Y.clientY;const oe=ee.matrixTransform((Ne=te.getScreenCTM())==null?void 0:Ne.inverse());return{x:oe.x,y:oe.y}},Ce=Y=>{const te=de(Y);return{x:te.x-C.x,y:te.y-C.y}},ot=Y=>{Y.button!==2&&(m(),Y.target===o.current&&(q(null),y(null),v(null),I(!0),J({x:Y.clientX-C.x,y:Y.clientY-C.y})))},lt=Y=>{const te=Ce(Y);if(L&&!x){const ee=n.nodes.map(oe=>oe.id===L.id?{...oe,position:{x:te.x-L.offset.x,y:te.y-L.offset.y}}:oe);e({...n,nodes:ee})}else k?F({...k,tempTarget:te}):x&&S({x:Y.clientX-V.x,y:Y.clientY-V.y})},xe=()=>{W&&!ne.current&&e({...n,edges:n.edges.filter(Y=>Y.id!==W.edgeId)}),$(null),F(null),I(!1),Q(null)},H=(Y,te)=>{if(te.button===2)return;te.stopPropagation(),q(Y),v(null),m();const ee=n.nodes.find(Ne=>Ne.id===Y);if(!ee)return;const oe=Ce(te);$({id:Y,offset:{x:oe.x-ee.position.x,y:oe.y-ee.position.y}})},Z=(Y,te,ee)=>{ee.stopPropagation(),m();const oe=ue.get(Y);if((oe==null?void 0:oe.type)===he.Email)return;const Ne=Ce(ee);F({sourceId:Y,sourceHandleIndex:te,tempTarget:Ne})},re=(Y,te)=>{const ee=ue.get(Y);if((ee==null?void 0:ee.type)===he.Email){F(null),Q(null);return}if((W||k)&&(ne.current=!0),W&&k){const oe=n.edges.map(Ne=>{if(Ne.id===W.edgeId){const Ie={...Ne};if(W.handle==="source"){if(Ie.target===Y)return Ne;Ie.source=Y,Ie.sourceHandle=te}else{if(Ie.source===Y)return Ne;Ie.target=Y,Ie.targetHandle=te}return Ie}return Ne});e({...n,edges:oe})}else if(k&&k.sourceId!==Y){const oe={id:`edge-${Date.now()}`,source:k.sourceId,target:Y,sourceHandle:k.sourceHandleIndex,targetHandle:te};n.edges.some(Ie=>Ie.source===oe.source&&Ie.target===oe.target&&Ie.sourceHandle===oe.sourceHandle&&Ie.targetHandle===oe.targetHandle||Ie.source===oe.target&&Ie.target===oe.source&&Ie.sourceHandle===oe.targetHandle&&Ie.targetHandle===oe.sourceHandle)||e({...n,edges:[...n.edges,oe]})}F(null),Q(null)},Ae=(Y,te)=>{if(!k&&!W)return;te.stopPropagation();const ee=ue.get(Y);if(!ee||ee.type===he.Email){F(null);return}const oe=Ce(te),Ne=[{x:ee.width/2,y:0},{x:ee.width,y:ee.height/2},{x:ee.width/2,y:ee.height},{x:0,y:ee.height/2}];let Ie=0,zt=1/0;Ne.forEach((ft,ji)=>{const dt=ee.position.x+ft.x,ks=ee.position.y+ft.y,eo=Math.pow(oe.x-dt,2)+Math.pow(oe.y-ks,2);eo<zt&&(zt=eo,Ie=ji)}),re(Y,Ie)},M=(Y,te,ee)=>{ee.stopPropagation(),m(),ne.current=!1;const oe=n.edges.find(dt=>dt.id===Y);if(!oe)return;const Ne=te==="source"?"target":"source",Ie=oe[Ne],zt=ue.get(Ie),ft=oe[`${Ne}Handle`];if(!zt||ft===void 0)return;const ji=te==="source"?Ns(ue.get(oe.target),oe.targetHandle):Ns(ue.get(oe.source),oe.sourceHandle);F({sourceId:Ie,sourceHandleIndex:ft,tempTarget:ji}),Q({edgeId:Y,handle:te})},P=Y=>{v(null),y(Y)},O=Y=>{y(null),v(Y)},X=(Y,te)=>{const ee=n.nodes.map(oe=>oe.id===Y?{...oe,label:te}:oe);e({...n,nodes:ee}),y(null)},j=(Y,te)=>{const ee=n.edges.map(oe=>oe.id===Y?{...oe,label:te}:oe);e({...n,edges:ee}),v(null)},pe=Y=>{Y.preventDefault(),Y.dataTransfer.dropEffect="move"},se=Y=>{Y.preventDefault(),m();const te=Y.dataTransfer.getData("application/reactflow");if(!Object.values(he).includes(te))return;const ee=Ce(Y),oe={id:`node-${Date.now()}`,type:te,position:{x:ee.x-il[te].width/2,y:ee.y-il[te].height/2},label:te,...il[te]};e({...n,nodes:[...n.nodes,oe]})};ge.useEffect(()=>{const Y=te=>{if((te.key==="Backspace"||te.key==="Delete")&&K&&!g){const ee=n.nodes.filter(Ne=>Ne.id!==K),oe=n.edges.filter(Ne=>Ne.source!==K&&Ne.target!==K);e({...n,nodes:ee,edges:oe}),q(null)}};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[K,n,e,g]);const ze=()=>{if(!k)return null;const Y=ue.get(k.sourceId);if(!Y)return null;const te=k.tempTarget,ee={type:he.Process,position:{x:te.x,y:te.y},width:1,height:1},oe={source:k.sourceId,target:"temp-target",sourceHandle:k.sourceHandleIndex,targetHandle:(k.sourceHandleIndex+2)%4};return fh(Y,ee,oe).path};return _.jsx("div",{ref:l,className:"w-full h-full overflow-hidden cursor-grab active:cursor-grabbing",onDrop:se,onDragOver:pe,children:_.jsxs("svg",{ref:o,width:"100%",height:"100%",onMouseDown:ot,onMouseMove:lt,onMouseUp:xe,onMouseLeave:xe,className:"bg-gray-800",children:[_.jsx("defs",{children:_.jsx("marker",{id:"arrowhead",viewBox:"0 0 10 10",refX:"10",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto",children:_.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"currentColor"})})}),_.jsxs("g",{transform:`translate(${C.x}, ${C.y})`,children:[n.edges.map(Y=>{if((W==null?void 0:W.edgeId)===Y.id)return null;const te=ue.get(Y.source),ee=ue.get(Y.target);return!te||!ee?null:_.jsx($v,{edge:Y,sourceNode:te,targetNode:ee,isEditing:p===Y.id,onDoubleClick:O,onLabelChange:j,onEdgeDragStart:M,onContextMenu:oe=>f(oe,Y.id)},Y.id)}),k&&(()=>{const Y=ze();return Y?_.jsx("path",{d:Y,stroke:"#6366f1",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",style:{pointerEvents:"none",color:"#6366f1"}}):null})(),n.nodes.map(Y=>{const te={[he.Process]:Yv,[he.Decision]:Jv,[he.Start]:Ov,[he.End]:Kv,[he.Email]:Xv}[Y.type];return _.jsx(te,{node:Y,isSelected:K===Y.id,isEditing:g===Y.id,onMouseDown:H,onConnectorMouseDown:Z,onNodeMouseUp:Ae,onDoubleClick:P,onLabelChange:X,onContextMenu:ee=>c(ee,Y.id)},Y.id)})]})]})})},Zv=({isOpen:n,setIsOpen:e,onSend:o,apiKey:l,setApiKey:c})=>{const[f,m]=ge.useState([{sender:"bot",text:"Hello! How can I help you design your process map today? Try 'Create a simple user login flow'."}]),[g,y]=ge.useState(""),[p,v]=ge.useState(!1),[C,S]=ge.useState(""),x=ge.useRef(null),I=()=>{var L;(L=x.current)==null||L.scrollIntoView({behavior:"smooth"})};ge.useEffect(I,[f]);const V=async()=>{if(!g.trim()||p)return;const L={text:g,sender:"user"};m($=>[...$,L]),y(""),v(!0);try{const k={text:await o(g),sender:"bot"};m(F=>[...F,k])}catch($){const k={text:`An error occurred: ${$ instanceof Error?$.message:"Unknown error"}`,sender:"bot"};m(F=>[...F,k])}finally{v(!1)}},J=()=>{C.trim()&&c(C.trim())},K=()=>_.jsxs("div",{className:"flex-1 p-4 flex flex-col justify-center items-center",children:[_.jsx("h4",{className:"text-md font-semibold text-center mb-4 text-gray-300",children:"Gemini API Key Required"}),_.jsx("p",{className:"text-xs text-center text-gray-400 mb-4",children:"To use the AI Assistant, please enter your Google Gemini API key. It will be stored locally in your browser."}),_.jsx("input",{type:"password",value:C,onChange:L=>S(L.target.value),onKeyPress:L=>L.key==="Enter"&&J(),placeholder:"Enter your API key...",className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-indigo-500 mb-2 text-sm"}),_.jsx("button",{onClick:J,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-4 rounded-lg transition duration-200",children:"Save Key"}),_.jsx("button",{onClick:()=>c(null),className:"text-xs text-gray-500 hover:text-gray-300 mt-4",children:"Clear Key"})]}),q=()=>_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:_.jsxs("div",{className:"flex flex-col space-y-4",children:[f.map((L,$)=>_.jsxs("div",{className:`flex items-end gap-2 ${L.sender==="user"?"justify-end":""}`,children:[L.sender==="bot"&&_.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center flex-shrink-0",children:_.jsx(iu,{size:20})}),_.jsx("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${L.sender==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-gray-700 text-gray-200 rounded-bl-none"}`,children:_.jsx("p",{className:"text-sm",children:L.text})})]},$)),p&&_.jsxs("div",{className:"flex items-end gap-2",children:[_.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center flex-shrink-0",children:_.jsx(iu,{size:20})}),_.jsx("div",{className:"max-w-xs px-4 py-2 rounded-2xl bg-gray-700 text-gray-200 rounded-bl-none",children:_.jsx(Hv,{className:"animate-spin"})})]}),_.jsx("div",{ref:x})]})}),_.jsx("div",{className:"p-4 border-t border-gray-700",children:_.jsxs("div",{className:"flex items-center bg-gray-900 rounded-lg",children:[_.jsx("input",{type:"text",value:g,onChange:L=>y(L.target.value),onKeyPress:L=>L.key==="Enter"&&V(),placeholder:"Describe your process...",className:"flex-1 bg-transparent text-white px-4 py-2 outline-none",disabled:p}),_.jsx("button",{onClick:V,disabled:p||!g.trim(),className:"p-3 text-indigo-400 disabled:text-gray-500 hover:text-indigo-300",children:_.jsx(Vv,{})})]})})]});return n?_.jsxs("div",{className:"fixed bottom-6 right-6 w-96 h-[32rem] bg-gray-800 border border-gray-700 rounded-2xl shadow-2xl flex flex-col z-50",onClick:L=>L.stopPropagation(),children:[_.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[_.jsx("h3",{className:"text-lg font-bold text-indigo-400",children:"AI Assistant"}),_.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-white",children:_.jsx(Pv,{})})]}),l?_.jsx(q,{}):_.jsx(K,{})]}):_.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-500 transition-transform transform hover:scale-110","aria-label":"Open chatbot",children:_.jsx(iu,{size:28})})},Wv=({x:n,y:e,targetId:o,targetType:l,project:c,updateProject:f,onClose:m,onRename:g})=>{const y=()=>{if(l==="node"){const C=c.nodes.filter(x=>x.id!==o),S=c.edges.filter(x=>x.source!==o&&x.target!==o);f({...c,nodes:C,edges:S})}else{const C=c.edges.filter(S=>S.id!==o);f({...c,edges:C})}m()},v={node:[{label:"Rename",icon:_.jsx(Lm,{size:16}),action:g},{label:"Delete",icon:_.jsx(au,{size:16}),action:y}],edge:[{label:"Edit Label",icon:_.jsx(Lm,{size:16}),action:g},{label:"Delete",icon:_.jsx(au,{size:16}),action:y}]}[l];return _.jsx("div",{style:{top:e,left:n},className:"absolute z-50 bg-gray-800 border border-gray-700 rounded-md shadow-lg py-1 w-40",onClick:C=>C.stopPropagation(),children:_.jsx("ul",{children:v.map(C=>_.jsx("li",{children:_.jsxs("button",{onClick:C.action,className:"w-full flex items-center px-3 py-2 text-sm text-gray-200 hover:bg-indigo-600",children:[_.jsx("span",{className:"mr-3",children:C.icon}),C.label]})},C.label))})})};function ou(n,e){const[o,l]=ge.useState(()=>{try{const c=window.localStorage.getItem(n);return c?JSON.parse(c):e}catch(c){return console.error(c),e}});return ge.useEffect(()=>{try{const c=JSON.stringify(o);window.localStorage.setItem(n,c)}catch(c){console.error(c)}},[n,o]),[o,l]}function jv(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const o=document.implementation.createHTMLDocument(),l=o.createElement("base"),c=o.createElement("a");return o.head.appendChild(l),o.body.appendChild(c),e&&(l.href=e),c.href=n,c.href}const eT=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function Pn(n){const e=[];for(let o=0,l=n.length;o<l;o++)e.push(n[o]);return e}let Fi=null;function dh(n={}){return Fi||(n.includeStyleProperties?(Fi=n.includeStyleProperties,Fi):(Fi=Pn(window.getComputedStyle(document.documentElement)),Fi))}function ws(n,e){const l=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return l?parseFloat(l.replace("px","")):0}function tT(n){const e=ws(n,"border-left-width"),o=ws(n,"border-right-width");return n.clientWidth+e+o}function nT(n){const e=ws(n,"border-top-width"),o=ws(n,"border-bottom-width");return n.clientHeight+e+o}function mh(n,e={}){const o=e.width||tT(n),l=e.height||nT(n);return{width:o,height:l}}function iT(){let n,e;try{e=process}catch{}const o=e&&e.env?e.env.devicePixelRatio:null;return o&&(n=parseInt(o,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const Dt=16384;function oT(n){(n.width>Dt||n.height>Dt)&&(n.width>Dt&&n.height>Dt?n.width>n.height?(n.height*=Dt/n.width,n.width=Dt):(n.width*=Dt/n.height,n.height=Dt):n.width>Dt?(n.height*=Dt/n.width,n.width=Dt):(n.width*=Dt/n.height,n.height=Dt))}function Us(n){return new Promise((e,o)=>{const l=new Image;l.onload=()=>{l.decode().then(()=>{requestAnimationFrame(()=>e(l))})},l.onerror=o,l.crossOrigin="anonymous",l.decoding="async",l.src=n})}async function lT(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function sT(n,e,o){const l="http://www.w3.org/2000/svg",c=document.createElementNS(l,"svg"),f=document.createElementNS(l,"foreignObject");return c.setAttribute("width",`${e}`),c.setAttribute("height",`${o}`),c.setAttribute("viewBox",`0 0 ${e} ${o}`),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("externalResourcesRequired","true"),c.appendChild(f),f.appendChild(n),lT(c)}const vt=(n,e)=>{if(n instanceof e)return!0;const o=Object.getPrototypeOf(n);return o===null?!1:o.constructor.name===e.name||vt(o,e)};function aT(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function rT(n,e){return dh(e).map(o=>{const l=n.getPropertyValue(o),c=n.getPropertyPriority(o);return`${o}: ${l}${c?" !important":""};`}).join(" ")}function uT(n,e,o,l){const c=`.${n}:${e}`,f=o.cssText?aT(o):rT(o,l);return document.createTextNode(`${c}{${f}}`)}function Vm(n,e,o,l){const c=window.getComputedStyle(n,o),f=c.getPropertyValue("content");if(f===""||f==="none")return;const m=eT();try{e.className=`${e.className} ${m}`}catch{return}const g=document.createElement("style");g.appendChild(uT(m,o,c,l)),e.appendChild(g)}function cT(n,e,o){Vm(n,e,":before",o),Vm(n,e,":after",o)}const Pm="application/font-woff",Hm="image/jpeg",fT={woff:Pm,woff2:Pm,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Hm,jpeg:Hm,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function dT(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function Au(n){const e=dT(n).toLowerCase();return fT[e]||""}function mT(n){return n.split(/,/)[1]}function ru(n){return n.search(/^(data:)/)!==-1}function pT(n,e){return`data:${e};base64,${n}`}async function ph(n,e,o){const l=await fetch(n,e);if(l.status===404)throw new Error(`Resource "${l.url}" not found`);const c=await l.blob();return new Promise((f,m)=>{const g=new FileReader;g.onerror=m,g.onloadend=()=>{try{f(o({res:l,result:g.result}))}catch(y){m(y)}},g.readAsDataURL(c)})}const lu={};function hT(n,e,o){let l=n.replace(/\?.*/,"");return o&&(l=n),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),e?`[${e}]${l}`:l}async function _u(n,e,o){const l=hT(n,e,o.includeQueryParams);if(lu[l]!=null)return lu[l];o.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let c;try{const f=await ph(n,o.fetchRequestInit,({res:m,result:g})=>(e||(e=m.headers.get("Content-Type")||""),mT(g)));c=pT(f,e)}catch(f){c=o.imagePlaceholder||"";let m=`Failed to fetch resource: ${n}`;f&&(m=typeof f=="string"?f:f.message),m&&console.warn(m)}return lu[l]=c,c}async function gT(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):Us(e)}async function yT(n,e){if(n.currentSrc){const f=document.createElement("canvas"),m=f.getContext("2d");f.width=n.clientWidth,f.height=n.clientHeight,m==null||m.drawImage(n,0,0,f.width,f.height);const g=f.toDataURL();return Us(g)}const o=n.poster,l=Au(o),c=await _u(o,l,e);return Us(c)}async function vT(n,e){var o;try{if(!((o=n==null?void 0:n.contentDocument)===null||o===void 0)&&o.body)return await Vs(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function TT(n,e){return vt(n,HTMLCanvasElement)?gT(n):vt(n,HTMLVideoElement)?yT(n,e):vt(n,HTMLIFrameElement)?vT(n,e):n.cloneNode(hh(n))}const CT=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",hh=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function ST(n,e,o){var l,c;if(hh(e))return e;let f=[];return CT(n)&&n.assignedNodes?f=Pn(n.assignedNodes()):vt(n,HTMLIFrameElement)&&(!((l=n.contentDocument)===null||l===void 0)&&l.body)?f=Pn(n.contentDocument.body.childNodes):f=Pn(((c=n.shadowRoot)!==null&&c!==void 0?c:n).childNodes),f.length===0||vt(n,HTMLVideoElement)||await f.reduce((m,g)=>m.then(()=>Vs(g,o)).then(y=>{y&&e.appendChild(y)}),Promise.resolve()),e}function ET(n,e,o){const l=e.style;if(!l)return;const c=window.getComputedStyle(n);c.cssText?(l.cssText=c.cssText,l.transformOrigin=c.transformOrigin):dh(o).forEach(f=>{let m=c.getPropertyValue(f);f==="font-size"&&m.endsWith("px")&&(m=`${Math.floor(parseFloat(m.substring(0,m.length-2)))-.1}px`),vt(n,HTMLIFrameElement)&&f==="display"&&m==="inline"&&(m="block"),f==="d"&&e.getAttribute("d")&&(m=`path(${e.getAttribute("d")})`),l.setProperty(f,m,c.getPropertyPriority(f))})}function xT(n,e){vt(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),vt(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function AT(n,e){if(vt(n,HTMLSelectElement)){const o=e,l=Array.from(o.children).find(c=>n.value===c.getAttribute("value"));l&&l.setAttribute("selected","")}}function _T(n,e,o){return vt(e,Element)&&(ET(n,e,o),cT(n,e,o),xT(n,e),AT(n,e)),e}async function MT(n,e){const o=n.querySelectorAll?n.querySelectorAll("use"):[];if(o.length===0)return n;const l={};for(let f=0;f<o.length;f++){const g=o[f].getAttribute("xlink:href");if(g){const y=n.querySelector(g),p=document.querySelector(g);!y&&p&&!l[g]&&(l[g]=await Vs(p,e,!0))}}const c=Object.values(l);if(c.length){const f="http://www.w3.org/1999/xhtml",m=document.createElementNS(f,"svg");m.setAttribute("xmlns",f),m.style.position="absolute",m.style.width="0",m.style.height="0",m.style.overflow="hidden",m.style.display="none";const g=document.createElementNS(f,"defs");m.appendChild(g);for(let y=0;y<c.length;y++)g.appendChild(c[y]);n.appendChild(m)}return n}async function Vs(n,e,o){return!o&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(l=>TT(l,e)).then(l=>ST(n,l,e)).then(l=>_T(n,l,e)).then(l=>MT(l,e))}const gh=/url\((['"]?)([^'"]+?)\1\)/g,RT=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,DT=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function NT(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function wT(n){const e=[];return n.replace(gh,(o,l,c)=>(e.push(c),o)),e.filter(o=>!ru(o))}async function UT(n,e,o,l,c){try{const f=o?jv(e,o):e,m=Au(e);let g;return c||(g=await _u(f,m,l)),n.replace(NT(e),`$1${g}$3`)}catch{}return n}function IT(n,{preferredFontFormat:e}){return e?n.replace(DT,o=>{for(;;){const[l,,c]=RT.exec(o)||[];if(!c)return"";if(c===e)return`src: ${l};`}}):n}function yh(n){return n.search(gh)!==-1}async function vh(n,e,o){if(!yh(n))return n;const l=IT(n,o);return wT(l).reduce((f,m)=>f.then(g=>UT(g,m,e,o)),Promise.resolve(l))}async function Yi(n,e,o){var l;const c=(l=e.style)===null||l===void 0?void 0:l.getPropertyValue(n);if(c){const f=await vh(c,null,o);return e.style.setProperty(n,f,e.style.getPropertyPriority(n)),!0}return!1}async function bT(n,e){await Yi("background",n,e)||await Yi("background-image",n,e),await Yi("mask",n,e)||await Yi("-webkit-mask",n,e)||await Yi("mask-image",n,e)||await Yi("-webkit-mask-image",n,e)}async function LT(n,e){const o=vt(n,HTMLImageElement);if(!(o&&!ru(n.src))&&!(vt(n,SVGImageElement)&&!ru(n.href.baseVal)))return;const l=o?n.src:n.href.baseVal,c=await _u(l,Au(l),e);await new Promise((f,m)=>{n.onload=f,n.onerror=e.onImageErrorHandler?(...y)=>{try{f(e.onImageErrorHandler(...y))}catch(p){m(p)}}:m;const g=n;g.decode&&(g.decode=f),g.loading==="lazy"&&(g.loading="eager"),o?(n.srcset="",n.src=c):n.href.baseVal=c})}async function VT(n,e){const l=Pn(n.childNodes).map(c=>Th(c,e));await Promise.all(l).then(()=>n)}async function Th(n,e){vt(n,Element)&&(await bT(n,e),await LT(n,e),await VT(n,e))}function PT(n,e){const{style:o}=n;e.backgroundColor&&(o.backgroundColor=e.backgroundColor),e.width&&(o.width=`${e.width}px`),e.height&&(o.height=`${e.height}px`);const l=e.style;return l!=null&&Object.keys(l).forEach(c=>{o[c]=l[c]}),n}const qm={};async function km(n){let e=qm[n];if(e!=null)return e;const l=await(await fetch(n)).text();return e={url:n,cssText:l},qm[n]=e,e}async function Gm(n,e){let o=n.cssText;const l=/url\(["']?([^"')]+)["']?\)/g,f=(o.match(/url\([^)]+\)/g)||[]).map(async m=>{let g=m.replace(l,"$1");return g.startsWith("https://")||(g=new URL(g,n.url).href),ph(g,e.fetchRequestInit,({result:y})=>(o=o.replace(m,`url(${y})`),[m,y]))});return Promise.all(f).then(()=>o)}function Bm(n){if(n==null)return[];const e=[],o=/(\/\*[\s\S]*?\*\/)/gi;let l=n.replace(o,"");const c=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const y=c.exec(l);if(y===null)break;e.push(y[0])}l=l.replace(c,"");const f=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,m="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",g=new RegExp(m,"gi");for(;;){let y=f.exec(l);if(y===null){if(y=g.exec(l),y===null)break;f.lastIndex=g.lastIndex}else g.lastIndex=f.lastIndex;e.push(y[0])}return e}async function HT(n,e){const o=[],l=[];return n.forEach(c=>{if("cssRules"in c)try{Pn(c.cssRules||[]).forEach((f,m)=>{if(f.type===CSSRule.IMPORT_RULE){let g=m+1;const y=f.href,p=km(y).then(v=>Gm(v,e)).then(v=>Bm(v).forEach(C=>{try{c.insertRule(C,C.startsWith("@import")?g+=1:c.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:C,error:S})}})).catch(v=>{console.error("Error loading remote css",v.toString())});l.push(p)}})}catch(f){const m=n.find(g=>g.href==null)||document.styleSheets[0];c.href!=null&&l.push(km(c.href).then(g=>Gm(g,e)).then(g=>Bm(g).forEach(y=>{m.insertRule(y,m.cssRules.length)})).catch(g=>{console.error("Error loading remote stylesheet",g)})),console.error("Error inlining remote css file",f)}}),Promise.all(l).then(()=>(n.forEach(c=>{if("cssRules"in c)try{Pn(c.cssRules||[]).forEach(f=>{o.push(f)})}catch(f){console.error(`Error while reading CSS rules from ${c.href}`,f)}}),o))}function qT(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>yh(e.style.getPropertyValue("src")))}async function kT(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const o=Pn(n.ownerDocument.styleSheets),l=await HT(o,e);return qT(l)}function Ch(n){return n.trim().replace(/["']/g,"")}function GT(n){const e=new Set;function o(l){(l.style.fontFamily||getComputedStyle(l).fontFamily).split(",").forEach(f=>{e.add(Ch(f))}),Array.from(l.children).forEach(f=>{f instanceof HTMLElement&&o(f)})}return o(n),e}async function BT(n,e){const o=await kT(n,e),l=GT(n);return(await Promise.all(o.filter(f=>l.has(Ch(f.style.fontFamily))).map(f=>{const m=f.parentStyleSheet?f.parentStyleSheet.href:null;return vh(f.cssText,m,e)}))).join(`
`)}async function zT(n,e){const o=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await BT(n,e);if(o){const l=document.createElement("style"),c=document.createTextNode(o);l.appendChild(c),n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)}}async function FT(n,e={}){const{width:o,height:l}=mh(n,e),c=await Vs(n,e,!0);return await zT(c,e),await Th(c,e),PT(c,e),await sT(c,o,l)}async function YT(n,e={}){const{width:o,height:l}=mh(n,e),c=await FT(n,e),f=await Us(c),m=document.createElement("canvas"),g=m.getContext("2d"),y=e.pixelRatio||iT(),p=e.canvasWidth||o,v=e.canvasHeight||l;return m.width=p*y,m.height=v*y,e.skipAutoScale||oT(m),m.style.width=`${p}`,m.style.height=`${v}`,e.backgroundColor&&(g.fillStyle=e.backgroundColor,g.fillRect(0,0,m.width,m.height)),g.drawImage(f,0,0,m.width,m.height),m}async function JT(n,e={}){return(await YT(n,e)).toDataURL()}function uu(n,e,o){const l=document.createElement("a"),c=new Blob([n],{type:o});l.href=URL.createObjectURL(c),l.download=e,l.click(),URL.revokeObjectURL(l.href)}async function OT(n){const e=n.cloneNode(!0);try{const o=await fetch("https://cdn.tailwindcss.com");if(!o.ok)throw new Error("Failed to fetch stylesheet");const l=await o.text(),c=document.createElement("style");c.textContent=l;let f=e.querySelector("defs");f||(f=document.createElementNS("http://www.w3.org/2000/svg","defs"),e.prepend(f)),f.appendChild(c)}catch(o){console.error("Could not embed Tailwind styles for PNG export:",o),alert("Could not fetch styles for PNG export. The exported image may have incorrect colors.")}return e}async function KT(n,e){const o=n.querySelector("svg");if(!o){console.error("Export failed: SVG element not found."),alert("Export failed: Could not find the canvas SVG element.");return}try{const l=await OT(o);l.setAttribute("width",`${n.clientWidth}`),l.setAttribute("height",`${n.clientHeight}`);const c=await JT(l,{pixelRatio:2,width:n.clientWidth,height:n.clientHeight}),f=document.createElement("a");f.download=`${e}.png`,f.href=c,f.click()}catch(l){alert("An error occurred while exporting the PNG. Please check the console for details and try again."),console.error("Failed to export to PNG",l)}}function cu(n,e){const o=JSON.stringify(n,null,2);uu(o,e,"application/json")}function XT(n,e){let o=`Project: ${n.name}

`;const l=n.nodes.filter(x=>x.type===he.Email),c=n.nodes.filter(x=>x.type!==he.Email);if(l.length>0&&(o+=`--- Notification Steps ---
`,l.forEach(x=>{o+=`- [${x.type}] ${x.label}
`}),o+=`
`),o+=`--- Process Flow ---
`,c.length===0){o+=`No process flow nodes found.
`,uu(o,e,"text/plain");return}const f=new Map(c.map(x=>[x.id,x])),m=new Map(c.map(x=>[x.id,[]])),g=new Map(c.map(x=>[x.id,0]));n.edges.forEach(x=>{m.has(x.source)&&m.get(x.source).push(x),g.has(x.target)&&g.set(x.target,(g.get(x.target)||0)+1)});const y=new Set;let p=1;function v(x,I){const V=f.get(x);if(!V)return;if(y.has(x)){o+=`${I}--> (Loops back to: [${V.type}] ${V.label})
`;return}y.add(x),o+=`${I}${p++}. [${V.type}] ${V.label}
`;const J=m.get(x)||[];if(J.length===1){const K=J[0],q=K.label?`(${K.label})`:"";o+=`${I}   | ${q}
`,o+=`${I}   v
`,v(K.target,I)}else J.length>1&&J.forEach(K=>{if(f.get(K.target)){const L=I+"   ";o+=`${L}--> (${K.label||"next"}) to:
`,v(K.target,L)}})}c.filter(x=>(g.get(x.id)||0)===0).forEach(x=>{y.has(x.id)||(v(x.id,""),o+=`
`)});const S=c.filter(x=>!y.has(x.id));S.length>0&&(o+=`
--- Other Flows or Unconnected Nodes ---
`,S.forEach(x=>{y.has(x.id)||(v(x.id,""),o+=`
`)})),uu(o,e,"text/plain")}function $T(n){const e=ge.useRef(!1);ge.useEffect(()=>{const l=setInterval(()=>{const c=new Date,f=c.getHours(),m=c.getMinutes();f===0&&m===0&&(e.current=!1),f===18&&!e.current&&(console.log("Auto-backing up all projects..."),cu(n,"auto-backup-all-projects.json"),e.current=!0)},6e4);return()=>clearInterval(l)},[n])}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QT,ZT;function WT(){return{geminiUrl:QT,vertexUrl:ZT}}function jT(n,e,o,l){var c,f;if(!(n!=null&&n.baseUrl)){const m=WT();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:o:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function le(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const f=e[c];return f!=null?String(f):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,o){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in n))if(Array.isArray(o))n[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[g])){const y=n[g];if(Array.isArray(o))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(f+1),o[p])}else for(const p of y)r(p,e.slice(f+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in n||(n[g]=[{}]);const y=n[g];r(y[0],e.slice(f+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],c=n[l];if(c!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===c)return;if(typeof c=="object"&&typeof o=="object"&&c!==null&&o!==null)Object.assign(c,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else n[l]=o}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(c in n){const f=n[c];return Array.isArray(f)?f.map(m=>a(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zm||(zm={}));var Fm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Fm||(Fm={}));var Be;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Be||(Be={}));var Ym;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Ym||(Ym={}));var Jm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Jm||(Jm={}));var Om;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Om||(Om={}));var Km;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Km||(Km={}));var Xm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Xm||(Xm={}));var $m;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})($m||($m={}));var Qm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qm||(Qm={}));var Zm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Zm||(Zm={}));var Wm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Wm||(Wm={}));var jm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jm||(jm={}));var ep;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(ep||(ep={}));var tp;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tp||(tp={}));var Is;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Is||(Is={}));var np;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(np||(np={}));var du;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(du||(du={}));var ip;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ip||(ip={}));var op;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(op||(op={}));var lp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(lp||(lp={}));var sp;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(sp||(sp={}));var ap;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ap||(ap={}));var rp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rp||(rp={}));var up;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(up||(up={}));var cp;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(cp||(cp={}));var fp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(fp||(fp={}));var dp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(dp||(dp={}));var mp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mp||(mp={}));var pp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pp||(pp={}));var hp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hp||(hp={}));var gp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gp||(gp={}));var yp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(yp||(yp={}));var vp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(vp||(vp={}));var Tp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Tp||(Tp={}));var Cp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Cp||(Cp={}));var Sp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Sp||(Sp={}));var Ep;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ep||(Ep={}));var xp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xp||(xp={}));var Ap;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ap||(Ap={}));var _p;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_p||(_p={}));var Mp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Mp||(Mp={}));var Rp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rp||(Rp={}));var Dp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Dp||(Dp={}));var Ji;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ji||(Ji={}));class mu{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class nl{get text(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const S of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,I]of Object.entries(S))x!=="text"&&x!=="thought"&&(I!==null||I!==void 0)&&C.push(x);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,x]of Object.entries(C))S!=="inlineData"&&(x!==null||x!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,l,c,f,m,g,y;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,l,c,f,m,g,y,p;if(((c=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Np{}class wp{}class e0{}class t0{}class n0{}class i0{}class Up{}class Ip{}class bp{}class o0{}class Lp{}class Vp{}class Pp{}class Hp{}class l0{}class s0{}class a0{}class qp{}class r0{get text(){var e,o,l;let c="",f=!1;const m=[];for(const g of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(g))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,o,l;let c="";const f=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class bs{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new bs;if(l.name=e.name,l.metadata=e.metadata,l.done=e.done,l.error=e.error,o){const c=e.response;if(c){const f=new Lp,m=c.videos;f.generatedVideos=m==null?void 0:m.map(g=>({video:{uri:g.gcsUri,videoBytes:g.bytesBase64Encoded?fu(g.bytesBase64Encoded):void 0,mimeType:g.mimeType}})),f.raiMediaFilteredCount=c.raiMediaFilteredCount,f.raiMediaFilteredReasons=c.raiMediaFilteredReasons,l.response=f}}else{const c=e.response;if(c){const f=new Lp,m=c.generateVideoResponse,g=m==null?void 0:m.generatedSamples;f.generatedVideos=g==null?void 0:g.map(y=>{const p=y.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?fu(p==null?void 0:p.encodedVideo):void 0,mimeType:y.encoding}}}),f.raiMediaFilteredCount=m==null?void 0:m.raiMediaFilteredCount,f.raiMediaFilteredReasons=m==null?void 0:m.raiMediaFilteredReasons,l.response=f}}return l}}class u0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Sh(n,e){const o=De(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Eh(n){return Array.isArray(n)?n.map(e=>Ls(e)):[Ls(n)]}function Ls(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function xh(n){const e=Ls(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ah(n){const e=Ls(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function _h(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>kp(e)):[kp(n)]}function pu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Gp(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Bp(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ut(n){if(n==null)throw new Error("ContentUnion is required");return pu(n)?n:{role:"user",parts:_h(n)}}function Mh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=ut(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=ut(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ut(o)):[ut(e)]}function qt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Gp(n)||Bp(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(n)]}const e=[],o=[],l=pu(n[0]);for(const c of n){const f=pu(c);if(f!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(c);else{if(Gp(c)||Bp(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(c)}}return l||e.push({role:"user",parts:_h(o)}),e}function c0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(Be).includes(o[0].toUpperCase())?o[0].toUpperCase():Be.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(Be).includes(l.toUpperCase())?l.toUpperCase():Be.TYPE_UNSPECIFIED})}}function Oi(n){const e={},o=["items"],l=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&c0(n.type,e);for(const[m,g]of Object.entries(n))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(Be).includes(g.toUpperCase())?g.toUpperCase():Be.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=Oi(g);else if(l.includes(m)){const y=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}y.push(Oi(p))}e[m]=y}else if(c.includes(m)){const y={};for(const[p,v]of Object.entries(g))y[p]=Oi(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=g}return e}function Mu(n){return Oi(n)}function Ru(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Du(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function $i(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Oi(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Oi(e.response));return n}function Qi(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function f0(n,e,o,l=1){const c=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:c?`${o}/${e}`:e}function cn(n,e){if(typeof e!="string")throw new Error("name must be a string");return f0(n,e,"cachedContents")}function Rh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ii(n){return fu(n)}function d0(n){return n!=null&&typeof n=="object"&&"name"in n}function m0(n){return n!=null&&typeof n=="object"&&"video"in n}function p0(n){return n!=null&&typeof n=="object"&&"uri"in n}function Dh(n){var e;let o;if(d0(n)&&(o=n.name),!(p0(n)&&(o=n.uri,o===void 0))&&!(m0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const c=o.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${o}`);o=c[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Nh(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function wh(n){for(const e of["models","tunedModels","publisherModels"])if(h0(n,e))return n[e];return[]}function h0(n,e){return n!==null&&typeof n=="object"&&e in n}function g0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function y0(n,e={}){const o=[],l=new Set;for(const c of n){const f=c.name;if(l.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);l.add(f);const m=g0(c,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Uh(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function v0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zi(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ih(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function C0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function S0(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function E0(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],T0(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],C0(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],S0(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function bh(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>E0(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function x0(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const x=a(n,["minItems"]);x!=null&&r(e,["minItems"],x);const I=a(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=a(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const J=a(n,["minimum"]);J!=null&&r(e,["minimum"],J);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const q=a(n,["pattern"]);q!=null&&r(e,["pattern"],q);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const $=a(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const k=a(n,["required"]);k!=null&&r(e,["required"],k);const F=a(n,["title"]);F!=null&&r(e,["title"],F);const W=a(n,["type"]);return W!=null&&r(e,["type"],W),e}function A0(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function _0(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function M0(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function R0(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],M0(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function D0(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function N0(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],D0(o)),e}function w0(){return{}}function U0(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function I0(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>_0(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],R0(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],N0(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],w0());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],U0(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function b0(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function L0(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function V0(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],L0(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function P0(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],b0(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],V0(l)),e}function H0(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Lh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],H0(o)),e}function q0(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Lh(l)),e}function k0(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>q0(c))),r(e,["speakerVoiceConfigs"],l)}return e}function G0(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Lh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],k0(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function B0(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function z0(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],bh(ut(c)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&r(l,["presencePenalty"],x);const I=a(e,["frequencyPenalty"]);I!=null&&r(l,["frequencyPenalty"],I);const V=a(e,["seed"]);V!=null&&r(l,["seed"],V);const J=a(e,["responseMimeType"]);J!=null&&r(l,["responseMimeType"],J);const K=a(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],x0(Mu(K)));const q=a(e,["responseJsonSchema"]);if(q!=null&&r(l,["responseJsonSchema"],q),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=a(e,["safetySettings"]);if(o!==void 0&&L!=null){let de=L;Array.isArray(de)&&(de=de.map(Ce=>A0(Ce))),r(o,["safetySettings"],de)}const $=a(e,["tools"]);if(o!==void 0&&$!=null){let de=Qi($);Array.isArray(de)&&(de=de.map(Ce=>I0($i(Ce)))),r(o,["tools"],de)}const k=a(e,["toolConfig"]);if(o!==void 0&&k!=null&&r(o,["toolConfig"],P0(k)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=a(e,["cachedContent"]);o!==void 0&&F!=null&&r(o,["cachedContent"],cn(n,F));const W=a(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const Q=a(e,["mediaResolution"]);Q!=null&&r(l,["mediaResolution"],Q);const ne=a(e,["speechConfig"]);if(ne!=null&&r(l,["speechConfig"],G0(Ru(ne))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&r(l,["thinkingConfig"],B0(ue)),l}function F0(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["request","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>bh(g))),r(o,["request","contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["request","generationConfig"],z0(n,f,o)),o}function Y0(n,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=a(e,["fileName"]);l!=null&&r(o,["fileName"],l);const c=a(e,["inlinedRequests"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>F0(n,m))),r(o,["requests","requests"],f)}return o}function J0(n,e){const o={},l=a(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function zp(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["src"]);c!=null&&r(o,["batch","inputConfig"],Y0(n,Uh(n,c)));const f=a(e,["config"]);return f!=null&&r(o,["config"],J0(f,o)),o}function O0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function K0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function X0(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function $0(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],X0(o,e)),e}function Q0(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function Z0(n){const e={},o=a(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function W0(n){const e={},o=a(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=a(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const c=a(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function j0(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],W0(v0(c))),o}function eC(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],De(n,l));const c=a(e,["src"]);c!=null&&r(o,["inputConfig"],Z0(Uh(n,c)));const f=a(e,["config"]);return f!=null&&r(o,["config"],j0(f,o)),o}function tC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function nC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function iC(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function oC(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],iC(o,e)),e}function lC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],Zi(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function sC(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function aC(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rC(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function uC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],sC(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],aC(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],rC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function cC(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>uC(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function fC(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function dC(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function mC(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>dC(c))),r(e,["urlMetadata"],l)}return e}function pC(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],cC(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],fC(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],mC(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function hC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>pC(p))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function Vh(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function gC(n){const e={},o=a(n,["response"]);o!=null&&r(e,["response"],hC(o));const l=a(n,["error"]);return l!=null&&r(e,["error"],Vh(l)),e}function yC(n){const e={},o=a(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=a(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>gC(f))),r(e,["inlinedResponses"],c)}return e}function _s(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["metadata","state"]);c!=null&&r(e,["state"],Ih(c));const f=a(n,["metadata","createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const g=a(n,["metadata","updateTime"]);g!=null&&r(e,["updateTime"],g);const y=a(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=a(n,["metadata","output"]);return p!=null&&r(e,["dest"],yC(p)),e}function vC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["operations"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>_s(m))),r(e,["batchJobs"],f)}return e}function TC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const f=a(n,["error"]);return f!=null&&r(e,["error"],Vh(f)),e}function Ph(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["code"]);l!=null&&r(e,["code"],l);const c=a(n,["message"]);return c!=null&&r(e,["message"],c),e}function CC(n){const e={},o=a(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function SC(n){const e={},o=a(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=a(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const c=a(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function hu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],Ih(c));const f=a(n,["error"]);f!=null&&r(e,["error"],Ph(f));const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["startTime"]);g!=null&&r(e,["startTime"],g);const y=a(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=a(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=a(n,["model"]);v!=null&&r(e,["model"],v);const C=a(n,["inputConfig"]);C!=null&&r(e,["src"],CC(C));const S=a(n,["outputConfig"]);return S!=null&&r(e,["dest"],SC(S)),e}function EC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["batchPredictionJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>hu(m))),r(e,["batchJobs"],f)}return e}function xC(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const f=a(n,["error"]);return f!=null&&r(e,["error"],Ph(f)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ti;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ti||(ti={}));class al{constructor(e,o,l,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,c)}init(e,o,l){var c,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AC extends ni{constructor(e){super(),this.apiClient=e,this.create=async o=>{var l,c;if(this.apiClient.isVertexAI()){const m=Date.now().toString();if(Array.isArray(o.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(o.config=o.config||{},o.config.displayName===void 0&&(o.config.displayName="genaiBatchJob_${timestampStr}"),o.config.dest===void 0&&typeof o.src=="string")if(o.src.startsWith("gs://")&&o.src.endsWith(".jsonl"))o.config.dest=`${o.src.slice(0,-6)}/dest`;else if(o.src.startsWith("bq://"))o.config.dest=`${o.src}_dest_${m}`;else throw new Error("Unsupported source:"+o.src)}else if(Array.isArray(o.src)||typeof o.src!="string"&&o.src.inlinedRequests){let f="",m={};const g=zp(this.apiClient,o);f=le("{model}:batchGenerateContent",g._url),m=g._query;const v=g.batch.inputConfig.requests,C=v.requests,S=[];for(const I of C){const V=I;if(V.systemInstruction){const J=V.systemInstruction;delete V.systemInstruction;const K=V.request;K.systemInstruction=J,V.request=K}S.push(V)}return v.requests=S,delete g.config,delete g._url,delete g._query,this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=o.config)===null||c===void 0?void 0:c.abortSignal}).then(I=>I.json()).then(I=>_s(I))}return await this.createInternal(o)},this.list=async(o={})=>new al(ti.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}async createInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=eC(this.apiClient,e);return g=le("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>hu(v))}else{const p=zp(this.apiClient,e);return g=le("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>_s(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=tC(this.apiClient,e);return g=le("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>hu(v))}else{const p=O0(this.apiClient,e);return g=le("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>_s(v))}}async cancel(e){var o,l,c,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=nC(this.apiClient,e);m=le("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=K0(this.apiClient,e);m=le("batches/{name}:cancel",y._url),g=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=oC(e);return g=le("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=EC(v),S=new qp;return Object.assign(S,C),S})}else{const p=$0(e);return g=le("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=vC(v),S=new qp;return Object.assign(S,C),S})}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=lC(this.apiClient,e);return g=le("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>xC(v))}else{const p=Q0(this.apiClient,e);return g=le("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>TC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function MC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function RC(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function DC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],_C(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],MC(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],RC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Fp(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>DC(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function NC(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function wC(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function UC(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],wC(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function IC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function bC(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],IC(o)),e}function LC(){return{}}function VC(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function PC(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>NC(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],UC(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],bC(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],LC());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],VC(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function HC(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function qC(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function kC(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],qC(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function GC(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],HC(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],kC(l)),e}function BC(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let v=qt(m);Array.isArray(v)&&(v=v.map(C=>Fp(C))),r(e,["contents"],v)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Fp(ut(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>PC(C))),r(e,["tools"],v)}const p=a(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],GC(p)),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function zC(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Sh(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],BC(c,o)),o}function FC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function YC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function JC(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function OC(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],JC(c,o)),o}function KC(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function XC(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],KC(o,e)),e}function $C(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function QC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function ZC(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function WC(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],$C(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],QC(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],ZC(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Yp(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>WC(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function jC(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function eS(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tS(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],eS(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function nS(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function iS(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],nS(o)),e}function oS(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function lS(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function sS(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],lS(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function aS(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],sS(o)),e}function rS(){return{}}function uS(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function cS(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>jC(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],tS(c));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],iS(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],oS(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],aS(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],rS());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],uS(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function fS(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function dS(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function mS(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],dS(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function pS(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],fS(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],mS(l)),e}function hS(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const f=a(n,["displayName"]);e!==void 0&&f!=null&&r(e,["displayName"],f);const m=a(n,["contents"]);if(e!==void 0&&m!=null){let C=qt(m);Array.isArray(C)&&(C=C.map(S=>Yp(S))),r(e,["contents"],C)}const g=a(n,["systemInstruction"]);e!==void 0&&g!=null&&r(e,["systemInstruction"],Yp(ut(g)));const y=a(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>cS(S))),r(e,["tools"],C)}const p=a(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],pS(p));const v=a(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function gS(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["model"],Sh(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],hS(c,o)),o}function yS(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function vS(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function TS(n,e){const o={},l=a(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const c=a(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),o}function CS(n,e){const o={},l=a(e,["name"]);l!=null&&r(o,["_url","name"],cn(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],TS(c,o)),o}function SS(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function ES(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],SS(o,e)),e}function Ms(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function xS(){return{}}function AS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Ms(m))),r(e,["cachedContents"],f)}return e}function Rs(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["model"]);c!=null&&r(e,["model"],c);const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const g=a(n,["expireTime"]);g!=null&&r(e,["expireTime"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function _S(){return{}}function MS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["cachedContents"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Rs(m))),r(e,["cachedContents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RS extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new al(ti.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,e);return g=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Rs(v))}else{const p=zC(this.apiClient,e);return g=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ms(v))}}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Rs(v))}else{const p=FC(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ms(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=vS(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=_S(),C=new Pp;return Object.assign(C,v),C})}else{const p=YC(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=xS(),C=new Pp;return Object.assign(C,v),C})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=CS(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Rs(v))}else{const p=OC(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ms(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ES(e);return g=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=MS(v),S=new Hp;return Object.assign(S,C),S})}else{const p=XC(e);return g=le("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=AS(v),S=new Hp;return Object.assign(S,C),S})}}}function Jp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(n){return this instanceof qe?(this.v=n,this):new qe(n)}function Ki(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(x){return function(I){return Promise.resolve(I).then(x,C)}}function g(x,I){l[x]&&(c[x]=function(V){return new Promise(function(J,K){f.push([x,V,J,K])>1||y(x,V)})},I&&(c[x]=I(c[x])))}function y(x,I){try{p(l[x](I))}catch(V){S(f[0][3],V)}}function p(x){x.value instanceof qe?Promise.resolve(x.value.v).then(v,C):S(f[0][2],x)}function v(x){y("next",x)}function C(x){y("throw",x)}function S(x,I){x(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function ol(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Jp=="function"?Jp(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(f){o[f]=n[f]&&function(m){return new Promise(function(g,y){m=n[f](m),c(g,y,m.done,m.value)})}}function c(f,m,g,y){Promise.resolve(y).then(function(p){f({value:p,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Hh(o)}function Hh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function NS(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Op(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const c=[];let f=!0;for(;l<o&&n[l].role==="model";)c.push(n[l]),f&&!Hh(n[l])&&(f=!1),l++;f?e.push(...c):e.pop()}return e}class wS{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new US(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class US{constructor(e,o,l,c={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=c,this.history=f,this.sendPromise=Promise.resolve(),NS(f)}async sendMessage(e){var o;await this.sendPromise;const l=ut(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await c,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(C))!==null&&g!==void 0?g:[]);const x=p?[p]:[];this.recordHistory(l,x,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var o;await this.sendPromise;const l=ut(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const f=await c;return this.processStreamResponse(f,l)}getHistory(e=!1){const o=e?Op(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,c;return Ki(this,arguments,function*(){var m,g,y,p;const v=[];try{for(var C=!0,S=ol(e),x;x=yield qe(S.next()),m=x.done,!m;C=!0){p=x.value,C=!1;const I=p;if(DS(I)){const V=(c=(l=I.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content;V!==void 0&&v.push(V)}yield yield qe(I)}}catch(I){g={error:I}}finally{try{!C&&!m&&(y=S.return)&&(yield qe(y.call(S)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let c=[];o.length>0&&o.every(f=>f.role!==void 0)?c=o:c.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Op(l)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ps.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),o}function bS(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],IS(o,e)),e}function LS(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function VS(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const x=a(n,["source"]);x!=null&&r(e,["source"],x);const I=a(n,["videoMetadata"]);I!=null&&r(e,["videoMetadata"],I);const V=a(n,["error"]);return V!=null&&r(e,["error"],LS(V)),e}function PS(n){const e={},o=a(n,["file"]);o!=null&&r(e,["file"],VS(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function HS(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","file"],Dh(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function qS(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","file"],Dh(o));const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function kS(n){const e={},o=a(n,["details"]);o!=null&&r(e,["details"],o);const l=a(n,["message"]);l!=null&&r(e,["message"],l);const c=a(n,["code"]);return c!=null&&r(e,["code"],c),e}function gu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const f=a(n,["sizeBytes"]);f!=null&&r(e,["sizeBytes"],f);const m=a(n,["createTime"]);m!=null&&r(e,["createTime"],m);const g=a(n,["expirationTime"]);g!=null&&r(e,["expirationTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=a(n,["uri"]);v!=null&&r(e,["uri"],v);const C=a(n,["downloadUri"]);C!=null&&r(e,["downloadUri"],C);const S=a(n,["state"]);S!=null&&r(e,["state"],S);const x=a(n,["source"]);x!=null&&r(e,["source"],x);const I=a(n,["videoMetadata"]);I!=null&&r(e,["videoMetadata"],I);const V=a(n,["error"]);return V!=null&&r(e,["error"],kS(V)),e}function GS(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["files"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>gu(m))),r(e,["files"],f)}return e}function BS(n){const e={},o=a(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function zS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FS extends ni{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new al(ti.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>gu(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bS(e);return f=le("files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=GS(y),v=new l0;return Object.assign(v,p),v})}}async createInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PS(e);return f=le("upload/v1beta/files",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=BS(y),v=new s0;return Object.assign(v,p),v})}}async get(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HS(e);return f=le("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>gu(y))}}async delete(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qS(e);return f=le("files/{file}",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(()=>{const y=zS(),p=new a0;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YS(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function qh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],YS(o)),e}function JS(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],qh(l)),e}function OS(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>JS(c))),r(e,["speakerVoiceConfigs"],l)}return e}function KS(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],qh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],OS(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function XS(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function $S(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function QS(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ZS(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],XS(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],$S(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],QS(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function WS(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>ZS(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function jS(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function eE(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function tE(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],eE(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function nE(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function iE(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],nE(o)),e}function oE(){return{}}function lE(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function sE(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>jS(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],tE(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],iE(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],oE());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],lE(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function aE(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kp(){return{}}function rE(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function uE(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],rE(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function cE(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function fE(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],cE(l)),e}function dE(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function mE(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],KS(Du(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const x=a(n,["systemInstruction"]);e!==void 0&&x!=null&&r(e,["setup","systemInstruction"],WS(ut(x)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let k=Qi(I);Array.isArray(k)&&(k=k.map(F=>sE($i(F)))),r(e,["setup","tools"],k)}const V=a(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],aE(V));const J=a(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],Kp());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],Kp());const q=a(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&r(e,["setup","realtimeInputConfig"],uE(q));const L=a(n,["contextWindowCompression"]);e!==void 0&&L!=null&&r(e,["setup","contextWindowCompression"],fE(L));const $=a(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],dE($)),o}function pE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],mE(c,o)),o}function hE(){return{}}function gE(){return{}}function yE(n){const e={},o=a(n,["media"]);o!=null&&r(e,["mediaChunks"],Eh(o));const l=a(n,["audio"]);l!=null&&r(e,["audio"],Ah(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=a(n,["video"]);f!=null&&r(e,["video"],xh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],hE()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],gE()),e}function kh(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function vE(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>kh(c))),r(e,["weightedPrompts"],l)}return e}function Gh(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const x=a(n,["musicGenerationMode"]);return x!=null&&r(e,["musicGenerationMode"],x),e}function TE(n){const e={},o=a(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],Gh(o)),e}function Bh(n){const e={},o=a(n,["model"]);return o!=null&&r(e,["model"],o),e}function zh(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>kh(c))),r(e,["weightedPrompts"],l)}return e}function yu(n){const e={},o=a(n,["setup"]);o!=null&&r(e,["setup"],Bh(o));const l=a(n,["clientContent"]);l!=null&&r(e,["clientContent"],zh(l));const c=a(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],Gh(c));const f=a(n,["playbackControl"]);return f!=null&&r(e,["playbackControl"],f),e}function CE(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function SE(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],CE(o)),e}function EE(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],SE(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function xE(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function AE(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _E(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function ME(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],xE(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],AE(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],_E(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function RE(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>ME(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function DE(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function NE(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function wE(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],NE(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function UE(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function IE(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],UE(o)),e}function bE(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function LE(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function VE(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],LE(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function PE(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],VE(o)),e}function HE(){return{}}function qE(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function kE(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>DE(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],wE(c));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],IE(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],bE(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],PE(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],HE());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],qE(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function GE(n){const e={},o=a(n,["handle"]);o!=null&&r(e,["handle"],o);const l=a(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function Xp(){return{}}function BE(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function zE(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],BE(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function FE(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function YE(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],FE(l)),e}function JE(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function OE(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],EE(Du(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const x=a(n,["systemInstruction"]);e!==void 0&&x!=null&&r(e,["setup","systemInstruction"],RE(ut(x)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let k=Qi(I);Array.isArray(k)&&(k=k.map(F=>kE($i(F)))),r(e,["setup","tools"],k)}const V=a(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],GE(V));const J=a(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],Xp());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],Xp());const q=a(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&r(e,["setup","realtimeInputConfig"],zE(q));const L=a(n,["contextWindowCompression"]);e!==void 0&&L!=null&&r(e,["setup","contextWindowCompression"],YE(L));const $=a(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],JE($)),o}function KE(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],OE(c,o)),o}function XE(){return{}}function $E(){return{}}function QE(n){const e={},o=a(n,["media"]);o!=null&&r(e,["mediaChunks"],Eh(o));const l=a(n,["audio"]);l!=null&&r(e,["audio"],Ah(l));const c=a(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const f=a(n,["video"]);f!=null&&r(e,["video"],xh(f));const m=a(n,["text"]);return m!=null&&r(e,["text"],m),a(n,["activityStart"])!=null&&r(e,["activityStart"],XE()),a(n,["activityEnd"])!=null&&r(e,["activityEnd"],$E()),e}function ZE(){return{}}function WE(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function jE(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function ex(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tx(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],WE(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],jE(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],ex(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function nx(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>tx(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function $p(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function ix(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function ox(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ix(c))),r(e,["urlMetadata"],l)}return e}function lx(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],nx(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],$p(g));const y=a(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],$p(y));const p=a(n,["urlContextMetadata"]);return p!=null&&r(e,["urlContextMetadata"],ox(p)),e}function sx(n){const e={},o=a(n,["id"]);o!=null&&r(e,["id"],o);const l=a(n,["args"]);l!=null&&r(e,["args"],l);const c=a(n,["name"]);return c!=null&&r(e,["name"],c),e}function ax(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>sx(c))),r(e,["functionCalls"],l)}return e}function rx(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Es(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function ux(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>Es(x))),r(e,["promptTokensDetails"],S)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(x=>Es(x))),r(e,["cacheTokensDetails"],S)}const v=a(n,["responseTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(x=>Es(x))),r(e,["responseTokensDetails"],S)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(x=>Es(x))),r(e,["toolUsePromptTokensDetails"],S)}return e}function cx(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function fx(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function dx(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],ZE());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],lx(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],ax(c));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],rx(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],ux(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],cx(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],fx(y)),e}function mx(){return{}}function px(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function hx(n){const e={},o=a(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>px(c))),r(e,["weightedPrompts"],l)}return e}function gx(n){const e={},o=a(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=a(n,["topK"]);l!=null&&r(e,["topK"],l);const c=a(n,["seed"]);c!=null&&r(e,["seed"],c);const f=a(n,["guidance"]);f!=null&&r(e,["guidance"],f);const m=a(n,["bpm"]);m!=null&&r(e,["bpm"],m);const g=a(n,["density"]);g!=null&&r(e,["density"],g);const y=a(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=a(n,["scale"]);p!=null&&r(e,["scale"],p);const v=a(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const C=a(n,["muteDrums"]);C!=null&&r(e,["muteDrums"],C);const S=a(n,["onlyBassAndDrums"]);S!=null&&r(e,["onlyBassAndDrums"],S);const x=a(n,["musicGenerationMode"]);return x!=null&&r(e,["musicGenerationMode"],x),e}function yx(n){const e={},o=a(n,["clientContent"]);o!=null&&r(e,["clientContent"],hx(o));const l=a(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],gx(l)),e}function vx(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const c=a(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],yx(c)),e}function Tx(n){const e={},o=a(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>vx(c))),r(e,["audioChunks"],l)}return e}function Cx(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function Sx(n){const e={};a(n,["setupComplete"])!=null&&r(e,["setupComplete"],mx());const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],Tx(l));const c=a(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],Cx(c)),e}function Ex(n){const e={},o=a(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function xx(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Ax(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _x(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Mx(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],xx(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],Ax(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],_x(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Rx(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Mx(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function Qp(n){const e={},o=a(n,["text"]);o!=null&&r(e,["text"],o);const l=a(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function Dx(n){const e={},o=a(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],Rx(o));const l=a(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const c=a(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const f=a(n,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const m=a(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const g=a(n,["inputTranscription"]);g!=null&&r(e,["inputTranscription"],Qp(g));const y=a(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Qp(y)),e}function Nx(n){const e={},o=a(n,["args"]);o!=null&&r(e,["args"],o);const l=a(n,["name"]);return l!=null&&r(e,["name"],l),e}function wx(n){const e={},o=a(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Nx(c))),r(e,["functionCalls"],l)}return e}function Ux(n){const e={},o=a(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function xs(n){const e={},o=a(n,["modality"]);o!=null&&r(e,["modality"],o);const l=a(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function Ix(n){const e={},o=a(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=a(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const c=a(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const f=a(n,["toolUsePromptTokenCount"]);f!=null&&r(e,["toolUsePromptTokenCount"],f);const m=a(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const g=a(n,["totalTokenCount"]);g!=null&&r(e,["totalTokenCount"],g);const y=a(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(I=>xs(I))),r(e,["promptTokensDetails"],x)}const p=a(n,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(I=>xs(I))),r(e,["cacheTokensDetails"],x)}const v=a(n,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(I=>xs(I))),r(e,["responseTokensDetails"],x)}const C=a(n,["toolUsePromptTokensDetails"]);if(C!=null){let x=C;Array.isArray(x)&&(x=x.map(I=>xs(I))),r(e,["toolUsePromptTokensDetails"],x)}const S=a(n,["trafficType"]);return S!=null&&r(e,["trafficType"],S),e}function bx(n){const e={},o=a(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function Lx(n){const e={},o=a(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=a(n,["resumable"]);l!=null&&r(e,["resumable"],l);const c=a(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function Vx(n){const e={},o=a(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],Ex(o));const l=a(n,["serverContent"]);l!=null&&r(e,["serverContent"],Dx(l));const c=a(n,["toolCall"]);c!=null&&r(e,["toolCall"],wx(c));const f=a(n,["toolCallCancellation"]);f!=null&&r(e,["toolCallCancellation"],Ux(f));const m=a(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],Ix(m));const g=a(n,["goAway"]);g!=null&&r(e,["goAway"],bx(g));const y=a(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],Lx(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Hx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qx(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function kx(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Px(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],Hx(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],qx(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Hs(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>kx(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function Gx(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const x=a(n,["minItems"]);x!=null&&r(e,["minItems"],x);const I=a(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=a(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const J=a(n,["minimum"]);J!=null&&r(e,["minimum"],J);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const q=a(n,["pattern"]);q!=null&&r(e,["pattern"],q);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const $=a(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const k=a(n,["required"]);k!=null&&r(e,["required"],k);const F=a(n,["title"]);F!=null&&r(e,["title"],F);const W=a(n,["type"]);return W!=null&&r(e,["type"],W),e}function Bx(n){const e={};if(a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(n,["category"]);o!=null&&r(e,["category"],o);const l=a(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function zx(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Fx(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function Yx(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],Fx(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Jx(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function Ox(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],Jx(o)),e}function Kx(){return{}}function Xx(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function $x(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>zx(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],Yx(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Ox(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],Kx());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],Xx(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function Qx(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function Zx(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function Wx(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],Zx(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function jx(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],Qx(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],Wx(l)),e}function eA(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Fh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],eA(o)),e}function tA(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Fh(l)),e}function nA(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>tA(c))),r(e,["speakerVoiceConfigs"],l)}return e}function iA(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Fh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],nA(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function oA(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function lA(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Hs(ut(c)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&r(l,["presencePenalty"],x);const I=a(e,["frequencyPenalty"]);I!=null&&r(l,["frequencyPenalty"],I);const V=a(e,["seed"]);V!=null&&r(l,["seed"],V);const J=a(e,["responseMimeType"]);J!=null&&r(l,["responseMimeType"],J);const K=a(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],Gx(Mu(K)));const q=a(e,["responseJsonSchema"]);if(q!=null&&r(l,["responseJsonSchema"],q),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=a(e,["safetySettings"]);if(o!==void 0&&L!=null){let de=L;Array.isArray(de)&&(de=de.map(Ce=>Bx(Ce))),r(o,["safetySettings"],de)}const $=a(e,["tools"]);if(o!==void 0&&$!=null){let de=Qi($);Array.isArray(de)&&(de=de.map(Ce=>$x($i(Ce)))),r(o,["tools"],de)}const k=a(e,["toolConfig"]);if(o!==void 0&&k!=null&&r(o,["toolConfig"],jx(k)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=a(e,["cachedContent"]);o!==void 0&&F!=null&&r(o,["cachedContent"],cn(n,F));const W=a(e,["responseModalities"]);W!=null&&r(l,["responseModalities"],W);const Q=a(e,["mediaResolution"]);Q!=null&&r(l,["mediaResolution"],Q);const ne=a(e,["speechConfig"]);if(ne!=null&&r(l,["speechConfig"],iA(Ru(ne))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=a(e,["thinkingConfig"]);return ue!=null&&r(l,["thinkingConfig"],oA(ue)),l}function Zp(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>Hs(g))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["generationConfig"],lA(n,f,o)),o}function sA(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const f=a(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&r(e,["requests[]","outputDimensionality"],f),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function aA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);c!=null&&r(o,["requests[]","content"],Mh(n,c));const f=a(e,["config"]);f!=null&&r(o,["config"],sA(f,o));const m=a(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],De(n,m)),o}function rA(n,e){const o={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const f=a(n,["guidanceScale"]);if(e!==void 0&&f!=null&&r(e,["parameters","guidanceScale"],f),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=a(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const g=a(n,["personGeneration"]);e!==void 0&&g!=null&&r(e,["parameters","personGeneration"],g);const y=a(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=a(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=a(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const C=a(n,["outputMimeType"]);e!==void 0&&C!=null&&r(e,["parameters","outputOptions","mimeType"],C);const S=a(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&r(e,["parameters","outputOptions","compressionQuality"],S),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const x=a(n,["imageSize"]);if(e!==void 0&&x!=null&&r(e,["parameters","sampleImageSize"],x),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function uA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=a(e,["config"]);return f!=null&&r(o,["config"],rA(f,o)),o}function cA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function fA(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=a(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Nh(n,g)),l}function dA(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],fA(n,l,o)),o}function mA(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function pA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],mA(c,o)),o}function hA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function gA(n){const e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function yA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>Hs(g))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["config"],gA(f)),o}function vA(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],ii(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function TA(n,e){const o={},l=a(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=a(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(n,["aspectRatio"]);if(e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f),a(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=a(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=a(n,["negativePrompt"]);e!==void 0&&g!=null&&r(e,["parameters","negativePrompt"],g);const y=a(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function CA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=a(e,["image"]);if(f!=null&&r(o,["instances[0]","image"],vA(f)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=a(e,["config"]);return m!=null&&r(o,["config"],TA(m,o)),o}function SA(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function EA(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function xA(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function AA(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],SA(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],EA(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],xA(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function Wi(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>AA(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function _A(n){const e={},o=a(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=a(n,["default"]);l!=null&&r(e,["default"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const f=a(n,["enum"]);f!=null&&r(e,["enum"],f);const m=a(n,["example"]);m!=null&&r(e,["example"],m);const g=a(n,["format"]);g!=null&&r(e,["format"],g);const y=a(n,["items"]);y!=null&&r(e,["items"],y);const p=a(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=a(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const C=a(n,["maxProperties"]);C!=null&&r(e,["maxProperties"],C);const S=a(n,["maximum"]);S!=null&&r(e,["maximum"],S);const x=a(n,["minItems"]);x!=null&&r(e,["minItems"],x);const I=a(n,["minLength"]);I!=null&&r(e,["minLength"],I);const V=a(n,["minProperties"]);V!=null&&r(e,["minProperties"],V);const J=a(n,["minimum"]);J!=null&&r(e,["minimum"],J);const K=a(n,["nullable"]);K!=null&&r(e,["nullable"],K);const q=a(n,["pattern"]);q!=null&&r(e,["pattern"],q);const L=a(n,["properties"]);L!=null&&r(e,["properties"],L);const $=a(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const k=a(n,["required"]);k!=null&&r(e,["required"],k);const F=a(n,["title"]);F!=null&&r(e,["title"],F);const W=a(n,["type"]);return W!=null&&r(e,["type"],W),e}function MA(n){const e={},o=a(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function RA(n){const e={},o=a(n,["method"]);o!=null&&r(e,["method"],o);const l=a(n,["category"]);l!=null&&r(e,["category"],l);const c=a(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function DA(n){const e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=a(n,["description"]);o!=null&&r(e,["description"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["parameters"]);c!=null&&r(e,["parameters"],c);const f=a(n,["parametersJsonSchema"]);f!=null&&r(e,["parametersJsonSchema"],f);const m=a(n,["response"]);m!=null&&r(e,["response"],m);const g=a(n,["responseJsonSchema"]);return g!=null&&r(e,["responseJsonSchema"],g),e}function NA(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function wA(n){const e={},o=a(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],NA(o));const l=a(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function UA(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function IA(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],UA(o)),e}function bA(n){const e={},o=a(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function LA(n){const e={},o=a(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function VA(n){const e={},o=a(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],LA(o));const l=a(n,["authType"]);l!=null&&r(e,["authType"],l);const c=a(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const f=a(n,["httpBasicAuthConfig"]);f!=null&&r(e,["httpBasicAuthConfig"],f);const m=a(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const g=a(n,["oidcConfig"]);return g!=null&&r(e,["oidcConfig"],g),e}function PA(n){const e={},o=a(n,["authConfig"]);return o!=null&&r(e,["authConfig"],VA(o)),e}function HA(){return{}}function qA(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function Yh(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let C=o;Array.isArray(C)&&(C=C.map(S=>DA(S))),r(e,["functionDeclarations"],C)}const l=a(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const c=a(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],wA(c));const f=a(n,["googleSearchRetrieval"]);f!=null&&r(e,["googleSearchRetrieval"],IA(f));const m=a(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],bA(m));const g=a(n,["googleMaps"]);g!=null&&r(e,["googleMaps"],PA(g)),a(n,["urlContext"])!=null&&r(e,["urlContext"],HA());const p=a(n,["computerUse"]);p!=null&&r(e,["computerUse"],qA(p));const v=a(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function kA(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function GA(n){const e={},o=a(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=a(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function BA(n){const e={},o=a(n,["latLng"]);o!=null&&r(e,["latLng"],GA(o));const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function zA(n){const e={},o=a(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],kA(o));const l=a(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],BA(l)),e}function FA(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function YA(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],FA(o)),e}function JA(n){const e={},o=a(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],YA(o)),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=a(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function OA(n){const e={},o=a(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=a(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function KA(n,e,o){const l={},c=a(e,["systemInstruction"]);o!==void 0&&c!=null&&r(o,["systemInstruction"],Wi(ut(c)));const f=a(e,["temperature"]);f!=null&&r(l,["temperature"],f);const m=a(e,["topP"]);m!=null&&r(l,["topP"],m);const g=a(e,["topK"]);g!=null&&r(l,["topK"],g);const y=a(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=a(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=a(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const C=a(e,["responseLogprobs"]);C!=null&&r(l,["responseLogprobs"],C);const S=a(e,["logprobs"]);S!=null&&r(l,["logprobs"],S);const x=a(e,["presencePenalty"]);x!=null&&r(l,["presencePenalty"],x);const I=a(e,["frequencyPenalty"]);I!=null&&r(l,["frequencyPenalty"],I);const V=a(e,["seed"]);V!=null&&r(l,["seed"],V);const J=a(e,["responseMimeType"]);J!=null&&r(l,["responseMimeType"],J);const K=a(e,["responseSchema"]);K!=null&&r(l,["responseSchema"],_A(Mu(K)));const q=a(e,["responseJsonSchema"]);q!=null&&r(l,["responseJsonSchema"],q);const L=a(e,["routingConfig"]);L!=null&&r(l,["routingConfig"],L);const $=a(e,["modelSelectionConfig"]);$!=null&&r(l,["modelConfig"],MA($));const k=a(e,["safetySettings"]);if(o!==void 0&&k!=null){let xe=k;Array.isArray(xe)&&(xe=xe.map(H=>RA(H))),r(o,["safetySettings"],xe)}const F=a(e,["tools"]);if(o!==void 0&&F!=null){let xe=Qi(F);Array.isArray(xe)&&(xe=xe.map(H=>Yh($i(H)))),r(o,["tools"],xe)}const W=a(e,["toolConfig"]);o!==void 0&&W!=null&&r(o,["toolConfig"],zA(W));const Q=a(e,["labels"]);o!==void 0&&Q!=null&&r(o,["labels"],Q);const ne=a(e,["cachedContent"]);o!==void 0&&ne!=null&&r(o,["cachedContent"],cn(n,ne));const ue=a(e,["responseModalities"]);ue!=null&&r(l,["responseModalities"],ue);const de=a(e,["mediaResolution"]);de!=null&&r(l,["mediaResolution"],de);const Ce=a(e,["speechConfig"]);Ce!=null&&r(l,["speechConfig"],JA(Ru(Ce)));const ot=a(e,["audioTimestamp"]);ot!=null&&r(l,["audioTimestamp"],ot);const lt=a(e,["thinkingConfig"]);return lt!=null&&r(l,["thinkingConfig"],OA(lt)),l}function Wp(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>Wi(g))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["generationConfig"],KA(n,f,o)),o}function XA(n,e){const o={},l=a(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const c=a(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const f=a(n,["outputDimensionality"]);e!==void 0&&f!=null&&r(e,["parameters","outputDimensionality"],f);const m=a(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const g=a(n,["autoTruncate"]);return e!==void 0&&g!=null&&r(e,["parameters","autoTruncate"],g),o}function $A(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);c!=null&&r(o,["instances[]","content"],Mh(n,c));const f=a(e,["config"]);return f!=null&&r(o,["config"],XA(f,o)),o}function QA(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const x=a(n,["language"]);e!==void 0&&x!=null&&r(e,["parameters","language"],x);const I=a(n,["outputMimeType"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","mimeType"],I);const V=a(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&r(e,["parameters","outputOptions","compressionQuality"],V);const J=a(n,["addWatermark"]);e!==void 0&&J!=null&&r(e,["parameters","addWatermark"],J);const K=a(n,["imageSize"]);e!==void 0&&K!=null&&r(e,["parameters","sampleImageSize"],K);const q=a(n,["enhancePrompt"]);return e!==void 0&&q!=null&&r(e,["parameters","enhancePrompt"],q),o}function ZA(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=a(e,["config"]);return f!=null&&r(o,["config"],QA(f,o)),o}function fn(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],ii(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function WA(n){const e={},o=a(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=a(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const c=a(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function jA(n){const e={},o=a(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=a(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function e_(n){const e={},o=a(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function t_(n){const e={},o=a(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=a(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function n_(n){const e={},o=a(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],fn(o));const l=a(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const c=a(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const f=a(n,["maskImageConfig"]);f!=null&&r(e,["maskImageConfig"],WA(f));const m=a(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],jA(m));const g=a(n,["styleImageConfig"]);g!=null&&r(e,["styleImageConfig"],e_(g));const y=a(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],t_(y)),e}function i_(n,e){const o={},l=a(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const c=a(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const f=a(n,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const m=a(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const g=a(n,["guidanceScale"]);e!==void 0&&g!=null&&r(e,["parameters","guidanceScale"],g);const y=a(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=a(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&r(e,["parameters","includeSafetyAttributes"],C);const S=a(n,["includeRaiReason"]);e!==void 0&&S!=null&&r(e,["parameters","includeRaiReason"],S);const x=a(n,["language"]);e!==void 0&&x!=null&&r(e,["parameters","language"],x);const I=a(n,["outputMimeType"]);e!==void 0&&I!=null&&r(e,["parameters","outputOptions","mimeType"],I);const V=a(n,["outputCompressionQuality"]);e!==void 0&&V!=null&&r(e,["parameters","outputOptions","compressionQuality"],V);const J=a(n,["addWatermark"]);e!==void 0&&J!=null&&r(e,["parameters","addWatermark"],J);const K=a(n,["editMode"]);e!==void 0&&K!=null&&r(e,["parameters","editMode"],K);const q=a(n,["baseSteps"]);return e!==void 0&&q!=null&&r(e,["parameters","editConfig","baseSteps"],q),o}function o_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=a(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>n_(y))),r(o,["instances[0]","referenceImages"],g)}const m=a(e,["config"]);return m!=null&&r(o,["config"],i_(m,o)),o}function l_(n,e){const o={},l=a(n,["includeRaiReason"]);e!==void 0&&l!=null&&r(e,["parameters","includeRaiReason"],l);const c=a(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const f=a(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&r(e,["parameters","outputOptions","compressionQuality"],f);const m=a(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const g=a(n,["imagePreservationFactor"]);e!==void 0&&g!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const y=a(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const p=a(n,["mode"]);return e!==void 0&&p!=null&&r(e,["parameters","mode"],p),o}function s_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["image"]);c!=null&&r(o,["instances[0]","image"],fn(c));const f=a(e,["upscaleFactor"]);f!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=a(e,["config"]);return m!=null&&r(o,["config"],l_(m,o)),o}function a_(n){const e={},o=a(n,["productImage"]);return o!=null&&r(e,["image"],fn(o)),e}function r_(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["personImage"]);e!==void 0&&c!=null&&r(e,["instances[0]","personImage","image"],fn(c));const f=a(n,["productImages"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>a_(g))),r(e,["instances[0]","productImages"],m)}return o}function u_(n,e){const o={},l=a(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["baseSteps"]);e!==void 0&&c!=null&&r(e,["parameters","editConfig","baseSteps"],c);const f=a(n,["outputGcsUri"]);e!==void 0&&f!=null&&r(e,["parameters","storageUri"],f);const m=a(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const g=a(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const y=a(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=a(n,["outputMimeType"]);e!==void 0&&p!=null&&r(e,["parameters","outputOptions","mimeType"],p);const v=a(n,["outputCompressionQuality"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","compressionQuality"],v);const C=a(n,["enhancePrompt"]);return e!==void 0&&C!=null&&r(e,["parameters","enhancePrompt"],C),o}function c_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["source"]);c!=null&&r(o,["config"],r_(c,o));const f=a(e,["config"]);return f!=null&&r(o,["config"],u_(f,o)),o}function f_(n){const e={},o=a(n,["image"]);return o!=null&&r(e,["image"],fn(o)),e}function d_(n,e){const o={},l=a(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const c=a(n,["image"]);e!==void 0&&c!=null&&r(e,["instances[0]","image"],fn(c));const f=a(n,["scribbleImage"]);return e!==void 0&&f!=null&&r(e,["instances[0]","scribble"],f_(f)),o}function m_(n,e){const o={},l=a(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const c=a(n,["maxPredictions"]);e!==void 0&&c!=null&&r(e,["parameters","maxPredictions"],c);const f=a(n,["confidenceThreshold"]);e!==void 0&&f!=null&&r(e,["parameters","confidenceThreshold"],f);const m=a(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const g=a(n,["binaryColorThreshold"]);return e!==void 0&&g!=null&&r(e,["parameters","binaryColorThreshold"],g),o}function p_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["source"]);c!=null&&r(o,["config"],d_(c,o));const f=a(e,["config"]);return f!=null&&r(o,["config"],m_(f,o)),o}function h_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function g_(n,e,o){const l={},c=a(e,["pageSize"]);o!==void 0&&c!=null&&r(o,["_query","pageSize"],c);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&r(o,["_query","pageToken"],f);const m=a(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const g=a(e,["queryBase"]);return o!==void 0&&g!=null&&r(o,["_url","models_url"],Nh(n,g)),l}function y_(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],g_(n,l,o)),o}function v_(n,e){const o={},l=a(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const f=a(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&r(e,["defaultCheckpointId"],f),o}function T_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],v_(c,o)),o}function C_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","name"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],c),o}function S_(n,e){const o={},l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],Wi(ut(l)));const c=a(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Yh(g))),r(e,["tools"],m)}const f=a(n,["generationConfig"]);return e!==void 0&&f!=null&&r(e,["generationConfig"],f),o}function E_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>Wi(g))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["config"],S_(f,o)),o}function x_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["contents"]);if(c!=null){let m=qt(c);Array.isArray(m)&&(m=m.map(g=>Wi(g))),r(o,["contents"],m)}const f=a(e,["config"]);return f!=null&&r(o,["config"],f),o}function A_(n){const e={},o=a(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],ii(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function __(n){const e={},o=a(n,["image"]);o!=null&&r(e,["image"],fn(o));const l=a(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function M_(n,e){const o={},l=a(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const c=a(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const f=a(n,["fps"]);e!==void 0&&f!=null&&r(e,["parameters","fps"],f);const m=a(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const g=a(n,["seed"]);e!==void 0&&g!=null&&r(e,["parameters","seed"],g);const y=a(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=a(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=a(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const C=a(n,["pubsubTopic"]);e!==void 0&&C!=null&&r(e,["parameters","pubsubTopic"],C);const S=a(n,["negativePrompt"]);e!==void 0&&S!=null&&r(e,["parameters","negativePrompt"],S);const x=a(n,["enhancePrompt"]);e!==void 0&&x!=null&&r(e,["parameters","enhancePrompt"],x);const I=a(n,["generateAudio"]);e!==void 0&&I!=null&&r(e,["parameters","generateAudio"],I);const V=a(n,["lastFrame"]);e!==void 0&&V!=null&&r(e,["instances[0]","lastFrame"],fn(V));const J=a(n,["referenceImages"]);if(e!==void 0&&J!=null){let q=J;Array.isArray(q)&&(q=q.map(L=>__(L))),r(e,["instances[0]","referenceImages"],q)}const K=a(n,["compressionQuality"]);return e!==void 0&&K!=null&&r(e,["parameters","compressionQuality"],K),o}function R_(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["_url","model"],De(n,l));const c=a(e,["prompt"]);c!=null&&r(o,["instances[0]","prompt"],c);const f=a(e,["image"]);f!=null&&r(o,["instances[0]","image"],fn(f));const m=a(e,["video"]);m!=null&&r(o,["instances[0]","video"],A_(m));const g=a(e,["config"]);return g!=null&&r(o,["config"],M_(g,o)),o}function D_(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function N_(n){const e={},o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function w_(n){const e={},o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function U_(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],D_(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],N_(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],w_(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function I_(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>U_(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function b_(n){const e={},o=a(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function L_(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function V_(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>L_(c))),r(e,["urlMetadata"],l)}return e}function P_(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],I_(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],b_(l));const c=a(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],V_(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function jp(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>P_(p))),r(e,["candidates"],y)}const c=a(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const f=a(n,["promptFeedback"]);f!=null&&r(e,["promptFeedback"],f);const m=a(n,["responseId"]);m!=null&&r(e,["responseId"],m);const g=a(n,["usageMetadata"]);return g!=null&&r(e,["usageMetadata"],g),e}function H_(n){const e={},o=a(n,["values"]);return o!=null&&r(e,["values"],o),e}function q_(){return{}}function k_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>H_(m))),r(e,["embeddings"],f)}return a(n,["metadata"])!=null&&r(e,["metadata"],q_()),e}function G_(n){const e={},o=a(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],ii(o));const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Jh(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function B_(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],G_(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],Jh(c)),e}function z_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>B_(m))),r(e,["generatedImages"],f)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Jh(c)),e}function F_(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function vu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const f=a(n,["version"]);f!=null&&r(e,["version"],f);const m=a(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],F_(m));const g=a(n,["inputTokenLimit"]);g!=null&&r(e,["inputTokenLimit"],g);const y=a(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=a(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function Y_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let f=wh(c);Array.isArray(f)&&(f=f.map(m=>vu(m))),r(e,["models"],f)}return e}function J_(){return{}}function O_(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const c=a(n,["cachedContentTokenCount"]);return c!=null&&r(e,["cachedContentTokenCount"],c),e}function K_(n){const e={},o=a(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=a(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],ii(l));const c=a(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function X_(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],K_(o)),e}function $_(n){const e={},o=a(n,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>X_(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function Q_(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],$_(m)),e}function Z_(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function W_(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["data"]);l!=null&&r(e,["data"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function j_(n){const e={},o=a(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=a(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function eM(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Z_(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],W_(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],j_(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function tM(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>eM(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function nM(n){const e={},o=a(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function iM(n){const e={},o=a(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=a(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function oM(n){const e={},o=a(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>iM(c))),r(e,["urlMetadata"],l)}return e}function lM(n){const e={},o=a(n,["content"]);o!=null&&r(e,["content"],tM(o));const l=a(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],nM(l));const c=a(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const f=a(n,["finishReason"]);f!=null&&r(e,["finishReason"],f);const m=a(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],oM(m));const g=a(n,["avgLogprobs"]);g!=null&&r(e,["avgLogprobs"],g);const y=a(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=a(n,["index"]);p!=null&&r(e,["index"],p);const v=a(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const C=a(n,["safetyRatings"]);return C!=null&&r(e,["safetyRatings"],C),e}function eh(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>lM(v))),r(e,["candidates"],p)}const c=a(n,["createTime"]);c!=null&&r(e,["createTime"],c);const f=a(n,["modelVersion"]);f!=null&&r(e,["modelVersion"],f);const m=a(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const g=a(n,["responseId"]);g!=null&&r(e,["responseId"],g);const y=a(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function sM(n){const e={},o=a(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=a(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function aM(n){const e={},o=a(n,["values"]);o!=null&&r(e,["values"],o);const l=a(n,["statistics"]);return l!=null&&r(e,["statistics"],sM(l)),e}function rM(n){const e={},o=a(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function uM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions[]","embeddings"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>aM(m))),r(e,["embeddings"],f)}const c=a(n,["metadata"]);return c!=null&&r(e,["metadata"],rM(c)),e}function Oh(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],ii(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Kh(n){const e={},o=a(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=a(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const c=a(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function qs(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["image"],Oh(o));const l=a(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const c=a(n,["_self"]);c!=null&&r(e,["safetyAttributes"],Kh(c));const f=a(n,["prompt"]);return f!=null&&r(e,["enhancedPrompt"],f),e}function cM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>qs(m))),r(e,["generatedImages"],f)}const c=a(n,["positivePromptSafetyAttributes"]);return c!=null&&r(e,["positivePromptSafetyAttributes"],Kh(c)),e}function fM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>qs(f))),r(e,["generatedImages"],c)}return e}function dM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>qs(f))),r(e,["generatedImages"],c)}return e}function mM(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>qs(c))),r(e,["generatedImages"],l)}return e}function pM(n){const e={},o=a(n,["label"]);o!=null&&r(e,["label"],o);const l=a(n,["score"]);return l!=null&&r(e,["score"],l),e}function hM(n){const e={},o=a(n,["_self"]);o!=null&&r(e,["mask"],Oh(o));const l=a(n,["labels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>pM(f))),r(e,["labels"],c)}return e}function gM(n){const e={},o=a(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>hM(c))),r(e,["generatedMasks"],l)}return e}function yM(n){const e={},o=a(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=a(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function vM(n){const e={},o=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["createTime"]);l!=null&&r(e,["createTime"],l);const c=a(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function TM(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);return c!=null&&r(e,["step"],c),e}function Tu(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["displayName"]);l!=null&&r(e,["displayName"],l);const c=a(n,["description"]);c!=null&&r(e,["description"],c);const f=a(n,["versionId"]);f!=null&&r(e,["version"],f);const m=a(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>yM(S))),r(e,["endpoints"],C)}const g=a(n,["labels"]);g!=null&&r(e,["labels"],g);const y=a(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],vM(y));const p=a(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=a(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(S=>TM(S))),r(e,["checkpoints"],C)}return e}function CM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["_self"]);if(c!=null){let f=wh(c);Array.isArray(f)&&(f=f.map(m=>Tu(m))),r(e,["models"],f)}return e}function SM(){return{}}function EM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function xM(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function AM(n){const e={},o=a(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=a(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],ii(l));const c=a(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function _M(n){const e={},o=a(n,["_self"]);return o!=null&&r(e,["video"],AM(o)),e}function MM(n){const e={},o=a(n,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>_M(m))),r(e,["generatedVideos"],f)}const l=a(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const c=a(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function RM(n){const e={},o=a(n,["name"]);o!=null&&r(e,["name"],o);const l=a(n,["metadata"]);l!=null&&r(e,["metadata"],l);const c=a(n,["done"]);c!=null&&r(e,["done"],c);const f=a(n,["error"]);f!=null&&r(e,["error"],f);const m=a(n,["response"]);return m!=null&&r(e,["response"],MM(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DM="Content-Type",NM="X-Server-Timeout",wM="User-Agent",Cu="x-goog-api-client",UM="1.15.0",IM=`google-genai-sdk/${UM}`,bM="v1beta1",LM="v1beta",th=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class VM{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:bM,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:LM,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const c=[this.getRequestUrlInternal(o)];return l&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,g]of Object.entries(e.queryParams))c.searchParams.append(m,String(g));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.unaryApiCall(c,f,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[c,f]of Object.entries(o))typeof f=="object"?l[c]=Object.assign(Object.assign({},l[c]),f):f!==void 0&&(l[c]=f);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,o,l);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,e.abortSignal),this.streamApiCall(c,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&PM(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await nh(c),new mu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async c=>(await nh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var o;return Ki(this,arguments,function*(){const c=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield qe(c.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y,{stream:!0});try{const C=JSON.parse(p);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),x=S.status,I=S.code,V=`got status: ${x}. ${JSON.stringify(C)}`;if(I>=400&&I<600)throw new Ps({message:V,status:I})}}catch(C){if(C.name==="ApiError")throw C}m+=p;let v=m.match(th);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qe(new mu(S)),m=m.slice(v[0].length),v=m.match(th)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{c.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=IM+" "+this.clientOptions.userAgentExtra;return e[wM]=o,e[Cu]=o,e[DM]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,c]of Object.entries(e.headers))o.append(l,c);e.timeout&&e.timeout>0&&o.append(NM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const c={};o!=null&&(c.mimeType=o.mimeType,c.name=o.name,c.displayName=o.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);c.sizeBytes=String(m.size);const g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=g;const y=await this.fetchUploadUrl(c,o);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let c={};o!=null&&o.httpOptions?c=o.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:le("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function nh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(l);throw o>=400&&o<600?new Ps({message:c,status:o}):new Error(c)}}function PM(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=g[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=l(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[y]=p)}return g}const c=l(o,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HM="mcp_used/unknown";let qM=!1;function Xh(n){for(const e of n)if(kM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qM}function $h(n){var e;const o=(e=n[Cu])!==null&&e!==void 0?e:"";n[Cu]=(o+` ${HM}`).trimStart()}function kM(n){return n!==null&&typeof n=="object"&&n instanceof Nu}function GM(n,e=100){return Ki(this,arguments,function*(){let l,c=0;for(;c<e;){const f=yield qe(n.listTools({cursor:l}));for(const m of f.tools)yield yield qe(m),c++;if(!f.nextCursor)break;l=f.nextCursor}})}class Nu{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Nu(e,o)}async initialize(){var e,o,l,c;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,ol(GM(v))),p;p=await y.next(),e=p.done,!e;g=!0){c=p.value,g=!1;const C=c;m.push(C);const S=C.name;if(f[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);f[S]=v}}catch(C){o={error:C}}finally{try{!g&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),y0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[l.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await c.callTool({name:l.name,arguments:l.args},void 0,f);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BM(n,e,o){const l=new u0;let c;o.data instanceof Blob?c=JSON.parse(await o.data.text()):c=JSON.parse(o.data);const f=Sx(c);Object.assign(l,f),e(l)}class zM{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=JM(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(L=>{p=L}),C=e.callbacks,S=function(){p({})},x=this.apiClient,I={onopen:S,onmessage:L=>{BM(x,C.onmessage,L)},onerror:(o=C==null?void 0:C.onerror)!==null&&o!==void 0?o:function(L){},onclose:(l=C==null?void 0:C.onclose)!==null&&l!==void 0?l:function(L){}},V=this.webSocketFactory.create(y,YM(m),I);V.connect(),await v;const J=De(this.apiClient,e.model),K=Bh({model:J}),q=yu({setup:K});return V.send(JSON.stringify(q)),new FM(V,this.apiClient)}}class FM{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=vE(e),l=zh(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=TE(e),l=yu(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=yu({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ji.PLAY)}pause(){this.sendPlaybackControl(Ji.PAUSE)}stop(){this.sendPlaybackControl(Ji.STOP)}resetContext(){this.sendPlaybackControl(Ji.RESET_CONTEXT)}close(){this.conn.close()}}function YM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function JM(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KM(n,e,o){const l=new r0;let c;o.data instanceof Blob?c=await o.data.text():o.data instanceof ArrayBuffer?c=new TextDecoder().decode(o.data):c=o.data;const f=JSON.parse(c);if(n.isVertexAI()){const m=Vx(f);Object.assign(l,m)}else{const m=dx(f);Object.assign(l,m)}e(l)}class XM{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new zM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,c,f,m,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getHeaders();e.config&&e.config.tools&&Xh(e.config.tools)&&$h(C);const S=WM(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const ne=this.apiClient.getApiKey();let ue="BidiGenerateContent",de="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",de="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ue}?${de}=${ne}`}let x=()=>{};const I=new Promise(ne=>{x=ne}),V=e.callbacks,J=function(){var ne;(ne=V==null?void 0:V.onopen)===null||ne===void 0||ne.call(V),x({})},K=this.apiClient,q={onopen:J,onmessage:ne=>{KM(K,V.onmessage,ne)},onerror:(o=V==null?void 0:V.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(l=V==null?void 0:V.onclose)!==null&&l!==void 0?l:function(ne){}},L=this.webSocketFactory.create(v,ZM(S),q);L.connect(),await I;let $=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const ne=this.apiClient.getProject(),ue=this.apiClient.getLocation();$=`projects/${ne}/locations/${ue}/`+$}let k={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Is.AUDIO]}:e.config.responseModalities=[Is.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(g=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],W=[];for(const ne of F)if(this.isCallableTool(ne)){const ue=ne;W.push(await ue.tool())}else W.push(ne);W.length>0&&(e.config.tools=W);const Q={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=KE(this.apiClient,Q):k=pE(this.apiClient,Q),delete k.config,L.send(JSON.stringify(k)),new QM(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $M={turnComplete:!0};class QM{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=qt(o.turns),e.isVertexAI()?l=l.map(c=>Wi(c)):l=l.map(c=>Hs(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const f of l){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(OM)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},$M),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:QE(e)}:o={realtimeInput:yE(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function ZM(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function WM(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih=10;function oh(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Xi(m)){c=!0;break}if(!c)return!0;const f=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Xi(n){return"callTool"in n&&typeof n.callTool=="function"}function jM(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>Xi(c)))!==null&&l!==void 0?l:!1}function eR(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(c=>!Xi(c)))!==null&&l!==void 0?l:!1}function lh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tR extends ni{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,c,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!jM(o)||oh(o.config))return await this.generateContentInternal(y);if(eR(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=qt(y.contents),S=(f=(c=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&f!==void 0?f:ih;let x=0;for(;x<S&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const I=p.candidates[0].content,V=[];for(const J of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Xi(J)){const q=await J.callTool(p.functionCalls);V.push(...q)}x++,v={role:"user",parts:V},y.contents=qt(y.contents),y.contents.push(I),y.contents.push(v),lh(y.config)&&(C.push(I),C.push(v))}return lh(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),oh(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var c;let f;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:l.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},g}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new al(ti.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const c={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(c)},this.generateVideos=async o=>await this.generateVideosInternal(o)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,c;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>Xi(y)?await y.tool():y)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(g.config.tools=m,e.config&&e.config.tools&&Xh(e.config.tools)){const y=(c=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),$h(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var o,l,c;const f=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Xi(m)){const g=m,y=await g.tool();for(const p of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,g)}}return f}async processAfcStream(e){var o,l,c;const f=(c=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:ih;let m=!1,g=0;const y=await this.initAfcToolsMap(e);return(function(p,v,C){var S,x;return Ki(this,arguments,function*(){for(var I,V,J,K;g<f;){m&&(g++,m=!1);const k=yield qe(p.processParamsMaybeAddMcpUsage(C)),F=yield qe(p.generateContentStreamInternal(k)),W=[],Q=[];try{for(var q=!0,L=(V=void 0,ol(F)),$;$=yield qe(L.next()),I=$.done,!I;q=!0){K=$.value,q=!1;const ne=K;if(yield yield qe(ne),ne.candidates&&(!((S=ne.candidates[0])===null||S===void 0)&&S.content)){Q.push(ne.candidates[0].content);for(const ue of(x=ne.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(g<f&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const de=yield qe(v.get(ue.functionCall.name).callTool([ue.functionCall]));W.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(ne){V={error:ne}}finally{try{!q&&!I&&(J=L.return)&&(yield qe(J.call(L)))}finally{if(V)throw V.error}}if(W.length>0){m=!0;const ne=new nl;ne.candidates=[{content:{role:"user",parts:W}}],yield yield qe(ne);const ue=[];ue.push(...Q),ue.push({role:"user",parts:W});const de=qt(C.contents).concat(ue);C.contents=de}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Wp(this.apiClient,e);return g=le("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=eh(v),S=new nl;return Object.assign(S,C),S})}else{const p=Zp(this.apiClient,e);return g=le("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=jp(v),S=new nl;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=Wp(this.apiClient,e);return g=le("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(C){return Ki(this,arguments,function*(){var S,x,I,V;try{for(var J=!0,K=ol(C),q;q=yield qe(K.next()),S=q.done,!S;J=!0){V=q.value,J=!1;const L=V,$=eh(yield qe(L.json()));$.sdkHttpResponse={headers:L.headers};const k=new nl;Object.assign(k,$),yield yield qe(k)}}catch(L){x={error:L}}finally{try{!J&&!S&&(I=K.return)&&(yield qe(I.call(K)))}finally{if(x)throw x.error}}})})}else{const p=Zp(this.apiClient,e);return g=le("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return Ki(this,arguments,function*(){var S,x,I,V;try{for(var J=!0,K=ol(C),q;q=yield qe(K.next()),S=q.done,!S;J=!0){V=q.value,J=!1;const L=V,$=jp(yield qe(L.json()));$.sdkHttpResponse={headers:L.headers};const k=new nl;Object.assign(k,$),yield yield qe(k)}}catch(L){x={error:L}}finally{try{!J&&!S&&(I=K.return)&&(yield qe(I.call(K)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=$A(this.apiClient,e);return g=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=uM(v),S=new Np;return Object.assign(S,C),S})}else{const p=aA(this.apiClient,e);return g=le("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=k_(v),S=new Np;return Object.assign(S,C),S})}}async generateImagesInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=ZA(this.apiClient,e);return g=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=cM(v),S=new wp;return Object.assign(S,C),S})}else{const p=uA(this.apiClient,e);return g=le("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=z_(v),S=new wp;return Object.assign(S,C),S})}}async editImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=o_(this.apiClient,e);return f=le("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=fM(y),v=new e0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=s_(this.apiClient,e);return f=le("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=dM(y),v=new t0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=c_(this.apiClient,e);return f=le("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=mM(y),v=new n0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,e);return f=le("{model}:predict",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const p=gM(y),v=new i0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=h_(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Tu(v))}else{const p=cA(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=y_(this.apiClient,e);return g=le("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=CM(v),S=new Up;return Object.assign(S,C),S})}else{const p=dA(this.apiClient,e);return g=le("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=Y_(v),S=new Up;return Object.assign(S,C),S})}}async update(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=T_(this.apiClient,e);return g=le("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Tu(v))}else{const p=pA(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}}async delete(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=C_(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=SM(),C=new Ip;return Object.assign(C,v),C})}else{const p=hA(this.apiClient,e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=J_(),C=new Ip;return Object.assign(C,v),C})}}async countTokens(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=E_(this.apiClient,e);return g=le("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=EM(v),S=new bp;return Object.assign(S,C),S})}else{const p=yA(this.apiClient,e);return g=le("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=O_(v),S=new bp;return Object.assign(S,C),S})}}async computeTokens(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=x_(this.apiClient,e);return f=le("{model}:computeTokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const p=xM(y),v=new o0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=R_(this.apiClient,e);return g=le("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const C=RM(v),S=new bs;return Object.assign(S,C),S})}else{const p=CA(this.apiClient,e);return g=le("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Q_(v),S=new bs;return Object.assign(S,C),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nR(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function iR(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function oR(n){const e={},o=a(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=a(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const c=a(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lR extends ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=o.name.split("/operations/")[0];let f;l&&"httpOptions"in l&&(f=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:c,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=iR(e);return g=le("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const p=nR(e);return g=le("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=oR(e);return f=le("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sR(n){const e={},o=a(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Qh(n){const e={},o=a(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],sR(o)),e}function aR(n){const e={},o=a(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=a(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Qh(l)),e}function rR(n){const e={},o=a(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>aR(c))),r(e,["speakerVoiceConfigs"],l)}return e}function uR(n){const e={},o=a(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Qh(o));const l=a(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],rR(l));const c=a(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function cR(n){const e={},o=a(n,["fps"]);o!=null&&r(e,["fps"],o);const l=a(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const c=a(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function fR(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["data"]);o!=null&&r(e,["data"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function dR(n){const e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=a(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function mR(n){const e={},o=a(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],cR(o));const l=a(n,["thought"]);l!=null&&r(e,["thought"],l);const c=a(n,["inlineData"]);c!=null&&r(e,["inlineData"],fR(c));const f=a(n,["fileData"]);f!=null&&r(e,["fileData"],dR(f));const m=a(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const g=a(n,["codeExecutionResult"]);g!=null&&r(e,["codeExecutionResult"],g);const y=a(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const p=a(n,["functionCall"]);p!=null&&r(e,["functionCall"],p);const v=a(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const C=a(n,["text"]);return C!=null&&r(e,["text"],C),e}function pR(n){const e={},o=a(n,["parts"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>mR(f))),r(e,["parts"],c)}const l=a(n,["role"]);return l!=null&&r(e,["role"],l),e}function hR(n){const e={},o=a(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=a(n,["description"]);l!=null&&r(e,["description"],l);const c=a(n,["name"]);c!=null&&r(e,["name"],c);const f=a(n,["parameters"]);f!=null&&r(e,["parameters"],f);const m=a(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const g=a(n,["response"]);g!=null&&r(e,["response"],g);const y=a(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function gR(n){const e={},o=a(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=a(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function yR(n){const e={},o=a(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],gR(o)),a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function vR(n){const e={},o=a(n,["mode"]);o!=null&&r(e,["mode"],o);const l=a(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function TR(n){const e={},o=a(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],vR(o)),e}function CR(){return{}}function SR(n){const e={},o=a(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function ER(n){const e={},o=a(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>hR(p))),r(e,["functionDeclarations"],y)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=a(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],yR(l));const c=a(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],TR(c)),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(n,["urlContext"])!=null&&r(e,["urlContext"],CR());const m=a(n,["computerUse"]);m!=null&&r(e,["computerUse"],SR(m));const g=a(n,["codeExecution"]);return g!=null&&r(e,["codeExecution"],g),e}function xR(n){const e={},o=a(n,["handle"]);if(o!=null&&r(e,["handle"],o),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sh(){return{}}function AR(n){const e={},o=a(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=a(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const c=a(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const f=a(n,["prefixPaddingMs"]);f!=null&&r(e,["prefixPaddingMs"],f);const m=a(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function _R(n){const e={},o=a(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],AR(o));const l=a(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const c=a(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function MR(n){const e={},o=a(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function RR(n){const e={},o=a(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=a(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],MR(l)),e}function DR(n){const e={},o=a(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function NR(n,e){const o={},l=a(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const c=a(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const f=a(n,["temperature"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","temperature"],f);const m=a(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const g=a(n,["topK"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","topK"],g);const y=a(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=a(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=a(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const C=a(n,["speechConfig"]);e!==void 0&&C!=null&&r(e,["setup","generationConfig","speechConfig"],uR(Du(C)));const S=a(n,["enableAffectiveDialog"]);e!==void 0&&S!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],S);const x=a(n,["systemInstruction"]);e!==void 0&&x!=null&&r(e,["setup","systemInstruction"],pR(ut(x)));const I=a(n,["tools"]);if(e!==void 0&&I!=null){let k=Qi(I);Array.isArray(k)&&(k=k.map(F=>ER($i(F)))),r(e,["setup","tools"],k)}const V=a(n,["sessionResumption"]);e!==void 0&&V!=null&&r(e,["setup","sessionResumption"],xR(V));const J=a(n,["inputAudioTranscription"]);e!==void 0&&J!=null&&r(e,["setup","inputAudioTranscription"],sh());const K=a(n,["outputAudioTranscription"]);e!==void 0&&K!=null&&r(e,["setup","outputAudioTranscription"],sh());const q=a(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&r(e,["setup","realtimeInputConfig"],_R(q));const L=a(n,["contextWindowCompression"]);e!==void 0&&L!=null&&r(e,["setup","contextWindowCompression"],RR(L));const $=a(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],DR($)),o}function wR(n,e){const o={},l=a(e,["model"]);l!=null&&r(o,["setup","model"],De(n,l));const c=a(e,["config"]);return c!=null&&r(o,["config"],NR(c,o)),o}function UR(n,e,o){const l={},c=a(e,["expireTime"]);o!==void 0&&c!=null&&r(o,["expireTime"],c);const f=a(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&r(o,["newSessionExpireTime"],f);const m=a(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const g=a(e,["liveConnectConstraints"]);o!==void 0&&g!=null&&r(o,["bidiGenerateContentSetup"],wR(n,g));const y=a(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function IR(n,e){const o={},l=a(e,["config"]);return l!=null&&r(o,["config"],UR(n,l,o)),o}function bR(n){const e={},o=a(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LR(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const c=Object.keys(l).map(f=>`${o}.${f}`);e.push(...c)}else e.push(o)}return e.join(",")}function VR(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const f=l.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,o=f):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(o){const f=LR(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];c.length>0&&(g=c.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class PR extends ni{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=IR(this.apiClient,e);f=le("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=VR(g,e.config);return c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),c.then(p=>bR(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HR(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function qR(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function kR(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],qR(o,e)),e}function GR(n){const e={},o=a(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=a(n,["output"]);return l!=null&&r(e,["output"],l),e}function BR(n){const e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=a(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>GR(c))),r(e,["examples","examples"],l)}return e}function zR(n,e){const o={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=a(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=a(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const f=a(n,["learningRateMultiplier"]);if(f!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=a(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const g=a(n,["learningRate"]);return e!==void 0&&g!=null&&r(e,["tuningTask","hyperparameters","learningRate"],g),o}function FR(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["tuningTask","trainingData"],BR(c));const f=a(n,["config"]);return f!=null&&r(e,["config"],zR(f,e)),e}function YR(n){const e={},o=a(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=a(n,["config"]);return l!=null&&r(e,["config"],l),e}function JR(n,e){const o={},l=a(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const c=a(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const f=a(n,["filter"]);return e!==void 0&&f!=null&&r(e,["_query","filter"],f),o}function OR(n){const e={},o=a(n,["config"]);return o!=null&&r(e,["config"],JR(o,e)),e}function KR(n,e){const o={},l=a(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function XR(n,e){const o={},l=a(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const c=a(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),o}function $R(n,e){const o={},l=a(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],XR(l,o));const c=a(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const f=a(n,["description"]);e!==void 0&&f!=null&&r(e,["description"],f);const m=a(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const y=a(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=a(n,["preTunedModelCheckpointId"]);p!=null&&r(o,["preTunedModel","checkpointId"],p);const v=a(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function QR(n){const e={},o=a(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=a(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const c=a(n,["trainingDataset"]);c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],KR(c,e));const f=a(n,["config"]);return f!=null&&r(e,["config"],$R(f,e)),e}function ZR(n){const e={},o=a(n,["name"]);o!=null&&r(e,["model"],o);const l=a(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Zh(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],Rh(c));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["tuningTask","completeTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["description"]);p!=null&&r(e,["description"],p);const v=a(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const C=a(n,["_self"]);C!=null&&r(e,["tunedModel"],ZR(C));const S=a(n,["customBaseModel"]);S!=null&&r(e,["customBaseModel"],S);const x=a(n,["experiment"]);x!=null&&r(e,["experiment"],x);const I=a(n,["labels"]);I!=null&&r(e,["labels"],I);const V=a(n,["outputUri"]);V!=null&&r(e,["outputUri"],V);const J=a(n,["pipelineJob"]);J!=null&&r(e,["pipelineJob"],J);const K=a(n,["serviceAccount"]);K!=null&&r(e,["serviceAccount"],K);const q=a(n,["tunedModelDisplayName"]);return q!=null&&r(e,["tunedModelDisplayName"],q),e}function WR(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Zh(m))),r(e,["tuningJobs"],f)}return e}function jR(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["metadata"]);c!=null&&r(e,["metadata"],c);const f=a(n,["done"]);f!=null&&r(e,["done"],f);const m=a(n,["error"]);return m!=null&&r(e,["error"],m),e}function e1(n){const e={},o=a(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=a(n,["epoch"]);l!=null&&r(e,["epoch"],l);const c=a(n,["step"]);c!=null&&r(e,["step"],c);const f=a(n,["endpoint"]);return f!=null&&r(e,["endpoint"],f),e}function t1(n){const e={},o=a(n,["model"]);o!=null&&r(e,["model"],o);const l=a(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const c=a(n,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>e1(m))),r(e,["checkpoints"],f)}return e}function Su(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["name"]);l!=null&&r(e,["name"],l);const c=a(n,["state"]);c!=null&&r(e,["state"],Rh(c));const f=a(n,["createTime"]);f!=null&&r(e,["createTime"],f);const m=a(n,["startTime"]);m!=null&&r(e,["startTime"],m);const g=a(n,["endTime"]);g!=null&&r(e,["endTime"],g);const y=a(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=a(n,["error"]);p!=null&&r(e,["error"],p);const v=a(n,["description"]);v!=null&&r(e,["description"],v);const C=a(n,["baseModel"]);C!=null&&r(e,["baseModel"],C);const S=a(n,["tunedModel"]);S!=null&&r(e,["tunedModel"],t1(S));const x=a(n,["preTunedModel"]);x!=null&&r(e,["preTunedModel"],x);const I=a(n,["supervisedTuningSpec"]);I!=null&&r(e,["supervisedTuningSpec"],I);const V=a(n,["tuningDataStats"]);V!=null&&r(e,["tuningDataStats"],V);const J=a(n,["encryptionSpec"]);J!=null&&r(e,["encryptionSpec"],J);const K=a(n,["partnerModelTuningSpec"]);K!=null&&r(e,["partnerModelTuningSpec"],K);const q=a(n,["customBaseModel"]);q!=null&&r(e,["customBaseModel"],q);const L=a(n,["experiment"]);L!=null&&r(e,["experiment"],L);const $=a(n,["labels"]);$!=null&&r(e,["labels"],$);const k=a(n,["outputUri"]);k!=null&&r(e,["outputUri"],k);const F=a(n,["pipelineJob"]);F!=null&&r(e,["pipelineJob"],F);const W=a(n,["serviceAccount"]);W!=null&&r(e,["serviceAccount"],W);const Q=a(n,["tunedModelDisplayName"]);return Q!=null&&r(e,["tunedModelDisplayName"],Q),e}function n1(n){const e={},o=a(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=a(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const c=a(n,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Su(m))),r(e,["tuningJobs"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1 extends ni{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new al(ti.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel},c=Object.assign(Object.assign({},o),{preTunedModel:l});return c.baseModel=void 0,await this.tuneInternal(c)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),c=await this.tuneMldevInternal(l);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:du.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=YR(e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Su(v))}else{const p=HR(e);return g=le("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Zh(v))}}async listInternal(e){var o,l,c,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const p=OR(e);return g=le("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=n1(v),S=new Vp;return Object.assign(S,C),S})}else{const p=kR(e);return g=le("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(C=>{const S=C;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const C=WR(v),S=new Vp;return Object.assign(S,C),S})}}async tuneInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI()){const g=QR(e);return f=le("tuningJobs",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>Su(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let c,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FR(e);return f=le("tunedModels",g._url),m=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>jR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o1{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l1=1024*1024*8,s1=3,a1=1e3,r1=2,su="x-goog-upload-status";async function u1(n,e,o){var l,c,f;let m=0,g=0,y=new mu(new Response),p="upload";for(m=n.size;g<m;){const C=Math.min(l1,m-g),S=n.slice(g,g+C);g+C>=m&&(p+=", finalize");let x=0,I=a1;for(;x<s1&&(y=await o.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[su]));)x++,await f1(I),I=I*r1;if(g+=C,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[su])!=="active")break;if(m<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[su])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function c1(n){return{size:n.size,type:n.type}}function f1(n){return new Promise(e=>setTimeout(e,n))}class d1{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await u1(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await c1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1{create(e,o,l){return new p1(e,o,l)}}class p1{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah="x-goog-api-key";class h1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ah)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ah,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g1="gl-node/";class y1{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=jT(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const c=new h1(this.apiKey);this.apiClient=new VM({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:g1+"web",uploader:new d1,downloader:new o1}),this.models=new tR(this.apiClient),this.live=new XM(this.apiClient,c,new m1),this.batches=new AC(this.apiClient),this.chats=new wS(this.models,this.apiClient),this.caches=new RS(this.apiClient),this.files=new FS(this.apiClient),this.operations=new lR(this.apiClient),this.authTokens=new PR(this.apiClient),this.tunings=new i1(this.apiClient)}}const v1={type:Be.OBJECT,properties:{nodes:{type:Be.ARRAY,description:"Array of process nodes. Existing nodes will be replaced.",items:{type:Be.OBJECT,properties:{id:{type:Be.STRING,description:"A unique identifier for the node, e.g., 'node-1'"},type:{type:Be.STRING,description:"The shape type. Must be one of: 'Process', 'Decision', 'Start', 'End', 'Email'"},label:{type:Be.STRING,description:"The text label displayed on the node."},position:{type:Be.OBJECT,properties:{x:{type:Be.NUMBER,description:"The X coordinate for the top-left corner."},y:{type:Be.NUMBER,description:"The Y coordinate for the top-left corner."}},required:["x","y"]}},required:["id","type","label","position"]}},edges:{type:Be.ARRAY,description:"Array of edges connecting the nodes. Existing edges will be replaced. Do not connect to or from 'Email' nodes.",items:{type:Be.OBJECT,properties:{id:{type:Be.STRING,description:"A unique identifier for the edge, e.g., 'edge-1'"},source:{type:Be.STRING,description:"The id of the source node."},target:{type:Be.STRING,description:"The id of the target node."},label:{type:Be.STRING,description:"Optional label for the edge, e.g., 'Yes' or 'No' for decisions."}},required:["id","source","target"]}}},required:["nodes","edges"]};async function T1(n,e){if(!e)throw new Error("Gemini API key is not configured.");const c=await new y1({apiKey:e}).models.generateContent({model:"gemini-2.5-flash",contents:n,config:{systemInstruction:`You are an expert process mapping assistant. Based on the user's prompt, generate a complete process diagram as a JSON object.
- Create clear, concise labels.
- The top-left of the canvas is (0,0). Layout is crucial. Follow a logical flow, primarily from left to right.
- A typical horizontal gap between nodes is 150-200 pixels. A typical vertical gap is 100-150 pixels.
- Use the 'Email' node type for notification steps. 'Email' nodes are standalone and should NOT have any edges connecting to or from them. Position them near relevant parts of the flow.
- For branching logic, when a 'Process' node is immediately followed by a 'Decision' node, place the 'Decision' node vertically below the 'Process' node to represent a query or check. Subsequent branches from the decision should flow outwards.
- Ensure all node IDs in edges correspond to nodes you've defined.
- Always include a 'Start' node and an 'End' node for the main process flow.
- Do not use any existing nodes; create a completely new diagram based on the prompt. Your response will replace the entire current diagram.
- Ensure the output perfectly matches the provided JSON schema.`,responseMimeType:"application/json",responseSchema:v1}});try{const f=c.text.trim(),m=JSON.parse(f);if(!m.nodes||!m.edges)throw new Error("Invalid JSON structure from AI.");return{nodes:m.nodes.map(y=>Object.values(he).includes(y.type)?{...y,...il[y.type]}:(console.warn(`Invalid shape type '${y.type}' received from AI. Defaulting to Process.`),{...y,type:he.Process,...il[he.Process]})),edges:m.edges}}catch(f){throw console.error("Failed to parse AI response:",f),console.error("Raw AI response:",c.text),new Error("The AI returned an invalid response. Please try rephrasing your request.")}}const ll=120,Ds=200;function rh(n,e,o="horizontal"){if(n.length===0)return{newNodes:[],newEdges:[]};const l=n.filter(Q=>Q.type===he.Email),c=n.filter(Q=>Q.type!==he.Email);if(c.length===0){let Q=50;return{newNodes:l.map(ue=>{const de={...ue,position:{x:50,y:Q}};return Q+=ue.height+ll/2,de}),newEdges:[]}}const f=new Map(c.map(Q=>[Q.id,Q])),m=new Map(c.map(Q=>[Q.id,[]])),g=new Map(c.map(Q=>[Q.id,[]])),y=new Map(c.map(Q=>[Q.id,0])),p=e.filter(Q=>f.has(Q.source)&&f.has(Q.target)),v=C1(c,p,m,g,y),C=S1(c,m,y),{dummyNodes:S,virtualEdges:x}=E1(C,m),I=new Map([...f,...S]),V=x1(C,x);let J=A1(V,I,o);const K=new Map(J.map(Q=>[Q.id,Q]));J=J.filter(Q=>!Q.id.startsWith("dummy-"));const q=_1(p,K,v,o),L=J.find(Q=>Q.type===he.Start);let $=L?L.position.x-Ds:50,k=L?L.position.y:50;const F=l.map(Q=>{const ne={...Q,position:{x:$,y:k}};return k+=Q.height+ll/2,ne});return{newNodes:[...J,...F],newEdges:q}}function C1(n,e,o,l,c){for(const p of e)o.get(p.source).push(p.target),l.get(p.target).push(p.source),c.set(p.target,(c.get(p.target)||0)+1);const f=new Set,m=new Set,g=new Set;function y(p){m.add(p),g.add(p);for(const v of o.get(p)||[])if(!m.has(v))y(v);else if(g.has(v)){const C=`${p}->${v}`;f.add(C)}g.delete(p)}for(const p of n)m.has(p.id)||y(p.id);return f.forEach(p=>{const[v,C]=p.split("->"),S=o.get(v);if(S){const x=S.indexOf(C);x>-1&&S.splice(x,1)}c.set(C,(c.get(C)||1)-1)}),f}function S1(n,e,o){const l=[];let c=n.filter(f=>o.get(f.id)===0).map(f=>f.id);for(;c.length>0;){l.push(c);const f=[];for(const m of c)for(const g of e.get(m)||[])o.set(g,(o.get(g)||1)-1),o.get(g)===0&&f.push(g);c=f}return l}function E1(n,e,o){const l=[],c=[],f=new Map;n.forEach((m,g)=>m.forEach(y=>f.set(y,g)));for(const m of n)for(const g of m)for(const y of e.get(g)||[]){const p=f.get(g),v=f.get(y);if(v-p>1){let C=g;for(let S=p+1;S<v;S++){const x=`dummy-${g}-${y}-${S}`,I={id:x,type:he.Process,position:{x:0,y:0},label:"",width:1,height:50};l.push([x,I]),n[S].push(x),c.push({id:`e-${C}-${x}`,source:C,target:x}),C=x}c.push({id:`e-${C}-${y}`,source:C,target:y})}else c.push({id:`e-${g}-${y}`,source:g,target:y})}return{dummyNodes:l,virtualEdges:c}}function x1(n,e){const o=new Map,l=new Map;for(const c of e)o.has(c.source)||o.set(c.source,[]),l.has(c.target)||l.set(c.target,[]),o.get(c.source).push(c.target),l.get(c.target).push(c.source);for(let c=0;c<4;c++){for(let f=1;f<n.length;f++){const m=new Map(n[f-1].map((g,y)=>[g,y]));n[f].sort((g,y)=>{const p=l.get(g)||[],v=l.get(y)||[],C=As(p.map(x=>m.get(x))),S=As(v.map(x=>m.get(x)));return C-S})}for(let f=n.length-2;f>=0;f--){const m=new Map(n[f+1].map((g,y)=>[g,y]));n[f].sort((g,y)=>{const p=o.get(g)||[],v=o.get(y)||[],C=As(p.map(x=>m.get(x))),S=As(v.map(x=>m.get(x)));return C-S})}}return n}function A1(n,e,o){const l=[];if(o==="horizontal"){const c=n.map(g=>g.reduce((y,p)=>y+e.get(p).height,0)+(g.length-1)*ll),f=Math.max(...c);let m=50;n.forEach(g=>{const y=c[n.indexOf(g)];let p=(f-y)/2+50,v=0;for(const C of g){const S=e.get(C);l.push({...S,position:{x:m,y:p}}),p+=S.height+ll,S.width>v&&(v=S.width)}m+=v+Ds})}else{const c=n.map(g=>g.reduce((y,p)=>y+e.get(p).width,0)+(g.length-1)*Ds),f=Math.max(...c);let m=50;n.forEach(g=>{const y=c[n.indexOf(g)];let p=(f-y)/2+50,v=0;for(const C of g){const S=e.get(C);l.push({...S,position:{x:p,y:m}}),p+=S.width+Ds,S.height>v&&(v=S.height)}m+=v+ll})}return l}function _1(n,e,o,l){return n.map(c=>{const f=e.get(c.source),m=e.get(c.target);if(o.has(`${c.source}->${c.target}`))return{...c,sourceHandle:l==="horizontal"?2:1,targetHandle:l==="horizontal"?2:1};if(l==="horizontal"){let y=1,p=3;return f.position.y>m.position.y+10?(y=0,p=2):f.position.y<m.position.y-10&&(y=2,p=0),{...c,sourceHandle:y,targetHandle:p}}else{let y=2,p=0;return f.position.x>m.position.x+10?(y=3,p=1):f.position.x<m.position.x-10&&(y=1,p=3),{...c,sourceHandle:y,targetHandle:p}}})}function As(n){if(n.length===0)return-1;const e=n.slice().sort((l,c)=>l-c),o=Math.floor(e.length/2);return e.length%2!==0?e[o]:(e[o-1]+e[o])/2}function M1(){const[n,e]=ou("projects",Fv),[o,l]=ou("activeProjectId","proj-1"),[c,f]=ge.useState(!1),[m,g]=ge.useState(null),[y,p]=ge.useState(null),[v,C]=ge.useState(null),[S,x]=ou("gemini-api-key",null),[I,V]=ge.useState({x:0,y:0}),[J,K]=ge.useState(!1),[q,L]=ge.useState({x:0,y:0}),$=ge.useRef(null),k=ge.useRef(null);$T(n);const F=n.find(P=>P.id===o),W=ge.useCallback(P=>{e(O=>O.map(X=>X.id===P.id?P:X))},[e]),Q=()=>{const P=`proj-${Date.now()}`,O={id:P,name:`New Project ${n.length+1}`,nodes:[],edges:[]};e(X=>[...X,O]),l(P)},ne=P=>{e(O=>O.filter(X=>X.id!==P)),o===P&&l(n.length>1?n[0].id:null)},ue=(P,O)=>{e(X=>X.map(j=>j.id===P?{...j,name:O.trim()||"Untitled Project"}:j))},de=P=>{if(F)switch(P){case"png":k.current&&KT(k.current,F.name);break;case"json":cu(F,`${F.name}.json`);break;case"text":XT(F,`${F.name}.txt`);break}},Ce=()=>{cu(n,"all-projects-backup.json")},ot=P=>{const O=new FileReader;O.onload=X=>{var pe;const j=(pe=X.target)==null?void 0:pe.result;try{const se=JSON.parse(j);let ze;if(Array.isArray(se))ze=se;else if(typeof se=="object"&&se!==null&&"id"in se&&"nodes"in se)ze=[se];else{alert("Invalid JSON file format. Expected a single project object or an array of projects.");return}if(!ze.every(ee=>ee.id&&ee.name&&Array.isArray(ee.nodes)&&Array.isArray(ee.edges))){alert("JSON data is missing required project properties (id, name, nodes, edges).");return}const Y=new Set(n.map(ee=>ee.id)),te=ze.map(ee=>{if(Y.has(ee.id)){const oe=`${ee.id}-${Date.now()}`;return console.warn(`Project ID conflict: '${ee.id}' already exists. Renaming to '${oe}'.`),{...ee,id:oe}}return ee});e(ee=>[...ee,...te]),te.length>0&&l(te[0].id),alert(`Successfully imported ${te.length} project(s).`)}catch(se){alert("Failed to parse JSON file. Please ensure it is valid."),console.error("JSON Import Error:",se)}},O.readAsText(P)},lt=async P=>{if(!F)return"Please select a project first.";if(!S)return"Please set your Gemini API key in the chat window first.";try{const{nodes:O,edges:X}=await T1(P,S),{newNodes:j,newEdges:pe}=rh(O,X,"horizontal");return W({...F,nodes:j,edges:pe}),`Diagram updated successfully based on your request. ${O.length} nodes and ${X.length} edges were created and automatically arranged.`}catch(O){return console.error("AI Generation Error:",O),`Sorry, I encountered an error. ${O instanceof Error?O.message:"Please try again."}`}},xe=P=>{if(!F)return;const{nodes:O,edges:X}=F,{newNodes:j,newEdges:pe}=rh(O,X,P);W({...F,nodes:j,edges:pe})},H=()=>{if(!F||F.nodes.length===0||!k.current)return;const P=F.nodes;let O=1/0,X=1/0,j=-1/0,pe=-1/0;P.forEach(ft=>{O=Math.min(O,ft.position.x),X=Math.min(X,ft.position.y),j=Math.max(j,ft.position.x+ft.width),pe=Math.max(pe,ft.position.y+ft.height)});const se=j-O,ze=pe-X,Y=O+se/2,te=X+ze/2,{clientWidth:ee,clientHeight:oe}=k.current,Ne=ee/2,Ie=oe/2,zt={x:Ne-Y,y:Ie-te};V(zt)},Z=(P,O)=>{P.preventDefault(),g({x:P.clientX,y:P.clientY,targetId:O,targetType:"node"})},re=(P,O)=>{P.preventDefault(),g({x:P.clientX,y:P.clientY,targetId:O,targetType:"edge"})},Ae=()=>g(null),M=()=>{m&&(m.targetType==="node"?(C(null),p(m.targetId)):(p(null),C(m.targetId)),Ae())};return _.jsxs("div",{className:"flex h-screen w-screen bg-gray-900 text-white font-sans antialiased overflow-hidden",onClick:Ae,children:[_.jsx(Bv,{projects:n,activeProjectId:o,onSelectProject:l,onAddProject:Q,onDeleteProject:ne,onRenameProject:ue,onExport:de,onExportAll:Ce,onImport:ot}),_.jsxs("div",{className:"flex-1 flex flex-col",children:[_.jsx(zv,{onAutoLayout:xe}),_.jsx("main",{className:"flex-1 bg-gray-800 relative",id:"canvas-container",children:F?_.jsxs(_.Fragment,{children:[_.jsx(Qv,{project:F,updateProject:W,canvasRef:$,containerRef:k,onNodeContextMenu:Z,onEdgeContextMenu:re,closeContextMenu:Ae,editingNodeId:y,setEditingNodeId:p,editingEdgeId:v,setEditingEdgeId:C,pan:I,setPan:V,isPanning:J,setIsPanning:K,startPan:q,setStartPan:L}),_.jsx("button",{onClick:H,className:"absolute bottom-4 left-4 bg-gray-700 hover:bg-gray-600 text-gray-200 p-3 rounded-full shadow-lg transition",title:"Recenter Diagram",children:_.jsx(Gv,{size:20})})]}):_.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:_.jsx("p",{children:"Select a project or create a new one to start mapping."})})})]}),_.jsx(Zv,{isOpen:c,setIsOpen:f,onSend:lt,apiKey:S,setApiKey:x}),m&&F&&_.jsx(Wv,{...m,project:F,updateProject:W,onClose:Ae,onRename:M})]})}const Wh=document.getElementById("root");if(!Wh)throw new Error("Could not find root element to mount to");const R1=Dv.createRoot(Wh);R1.render(_.jsx(xu.StrictMode,{children:_.jsx(M1,{})}));
